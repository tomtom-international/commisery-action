#!/usr/bin/env node
(()=>{var e={7351:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const o=i(n(2037));const a=n(5278);function issueCommand(e,t,n){const r=new Command(e,t,n);process.stdout.write(r.toString()+o.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const c="::";class Command{constructor(e,t,n){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=n}toString(){let e=c+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const n in this.properties){if(this.properties.hasOwnProperty(n)){const r=this.properties[n];if(r){if(t){t=false}else{e+=","}e+=`${n}=${escapeProperty(r)}`}}}}e+=`${c}${escapeData(this.message)}`;return e}}function escapeData(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};var o=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=n(7351);const c=n(717);const l=n(5278);const u=i(n(2037));const f=i(n(1017));const h=n(8041);var p;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(p=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const n=l.toCommandValue(t);process.env[e]=n;const r=process.env["GITHUB_ENV"]||"";if(r){return c.issueFileCommand("ENV",c.prepareKeyValueMessage(e,t))}a.issueCommand("set-env",{name:e},n)}t.exportVariable=exportVariable;function setSecret(e){a.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){c.issueFileCommand("PATH",e)}else{a.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${f.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return n}return n.trim()}t.getInput=getInput;function getMultilineInput(e,t){const n=getInput(e,t).split("\n").filter((e=>e!==""));if(t&&t.trimWhitespace===false){return n}return n.map((e=>e.trim()))}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const n=["true","True","TRUE"];const r=["false","False","FALSE"];const s=getInput(e,t);if(n.includes(s))return true;if(r.includes(s))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){const n=process.env["GITHUB_OUTPUT"]||"";if(n){return c.issueFileCommand("OUTPUT",c.prepareKeyValueMessage(e,t))}process.stdout.write(u.EOL);a.issueCommand("set-output",{name:e},l.toCommandValue(t))}t.setOutput=setOutput;function setCommandEcho(e){a.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=p.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){a.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){a.issueCommand("error",l.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){a.issueCommand("warning",l.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){a.issueCommand("notice",l.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+u.EOL)}t.info=info;function startGroup(e){a.issue("group",e)}t.startGroup=startGroup;function endGroup(){a.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return o(this,void 0,void 0,(function*(){startGroup(e);let n;try{n=yield t()}finally{endGroup()}return n}))}t.group=group;function saveState(e,t){const n=process.env["GITHUB_STATE"]||"";if(n){return c.issueFileCommand("STATE",c.prepareKeyValueMessage(e,t))}a.issueCommand("save-state",{name:e},l.toCommandValue(t))}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return o(this,void 0,void 0,(function*(){return yield h.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken;var d=n(1327);Object.defineProperty(t,"summary",{enumerable:true,get:function(){return d.summary}});var m=n(1327);Object.defineProperty(t,"markdownSummary",{enumerable:true,get:function(){return m.markdownSummary}});var g=n(2981);Object.defineProperty(t,"toPosixPath",{enumerable:true,get:function(){return g.toPosixPath}});Object.defineProperty(t,"toWin32Path",{enumerable:true,get:function(){return g.toWin32Path}});Object.defineProperty(t,"toPlatformPath",{enumerable:true,get:function(){return g.toPlatformPath}})},717:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.prepareKeyValueMessage=t.issueFileCommand=void 0;const o=i(n(7147));const a=i(n(2037));const c=n(5840);const l=n(5278);function issueFileCommand(e,t){const n=process.env[`GITHUB_${e}`];if(!n){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!o.existsSync(n)){throw new Error(`Missing file at path: ${n}`)}o.appendFileSync(n,`${l.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}t.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(e,t){const n=`ghadelimiter_${c.v4()}`;const r=l.toCommandValue(t);if(e.includes(n)){throw new Error(`Unexpected input: name should not contain the delimiter "${n}"`)}if(r.includes(n)){throw new Error(`Unexpected input: value should not contain the delimiter "${n}"`)}return`${e}<<${n}${a.EOL}${r}${a.EOL}${n}`}t.prepareKeyValueMessage=prepareKeyValueMessage},8041:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const s=n(6255);const i=n(5526);const o=n(2186);class OidcClient{static createHttpClient(e=true,t=10){const n={allowRetries:e,maxRetries:t};return new s.HttpClient("actions/oidc-client",[new i.BearerCredentialHandler(OidcClient.getRequestToken())],n)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return r(this,void 0,void 0,(function*(){const n=OidcClient.createHttpClient();const r=yield n.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const s=(t=r.result)===null||t===void 0?void 0:t.value;if(!s){throw new Error("Response json body do not have ID Token field")}return s}))}static getIDToken(e){return r(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const n=encodeURIComponent(e);t=`${t}&audience=${n}`}o.debug(`ID token url is ${t}`);const n=yield OidcClient.getCall(t);o.setSecret(n);return n}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},2981:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const o=i(n(1017));function toPosixPath(e){return e.replace(/[\\]/g,"/")}t.toPosixPath=toPosixPath;function toWin32Path(e){return e.replace(/[/]/g,"\\")}t.toWin32Path=toWin32Path;function toPlatformPath(e){return e.replace(/[/\\]/g,o.sep)}t.toPlatformPath=toPlatformPath},1327:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const s=n(2037);const i=n(7147);const{access:o,appendFile:a,writeFile:c}=i.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return r(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const e=process.env[t.SUMMARY_ENV_VAR];if(!e){throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield o(e,i.constants.R_OK|i.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}this._filePath=e;return this._filePath}))}wrap(e,t,n={}){const r=Object.entries(n).map((([e,t])=>` ${e}="${t}"`)).join("");if(!t){return`<${e}${r}>`}return`<${e}${r}>${t}</${e}>`}write(e){return r(this,void 0,void 0,(function*(){const t=!!(e===null||e===void 0?void 0:e.overwrite);const n=yield this.filePath();const r=t?c:a;yield r(n,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return r(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(e,t=false){this._buffer+=e;return t?this.addEOL():this}addEOL(){return this.addRaw(s.EOL)}addCodeBlock(e,t){const n=Object.assign({},t&&{lang:t});const r=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(r).addEOL()}addList(e,t=false){const n=t?"ol":"ul";const r=e.map((e=>this.wrap("li",e))).join("");const s=this.wrap(n,r);return this.addRaw(s).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if(typeof e==="string"){return this.wrap("td",e)}const{header:t,data:n,colspan:r,rowspan:s}=e;const i=t?"th":"td";const o=Object.assign(Object.assign({},r&&{colspan:r}),s&&{rowspan:s});return this.wrap(i,n,o)})).join("");return this.wrap("tr",t)})).join("");const n=this.wrap("table",t);return this.addRaw(n).addEOL()}addDetails(e,t){const n=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(n).addEOL()}addImage(e,t,n){const{width:r,height:s}=n||{};const i=Object.assign(Object.assign({},r&&{width:r}),s&&{height:s});const o=this.wrap("img",null,Object.assign({src:e,alt:t},i));return this.addRaw(o).addEOL()}addHeading(e,t){const n=`h${t}`;const r=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1";const s=this.wrap(r,e);return this.addRaw(s).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const n=Object.assign({},t&&{cite:t});const r=this.wrap("blockquote",e,n);return this.addRaw(r).addEOL()}addLink(e,t){const n=this.wrap("a",e,{href:t});return this.addRaw(n).addEOL()}}const l=new Summary;t.markdownSummary=l;t.summary=l},5278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},5526:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},6255:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;Object.defineProperty(e,r,{enumerable:true,get:function(){return t[n]}})}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};var o=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const a=i(n(3685));const c=i(n(5687));const l=i(n(9835));const u=i(n(4294));var f;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(f=t.HttpCodes||(t.HttpCodes={}));var h;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(h=t.Headers||(t.Headers={}));var p;(function(e){e["ApplicationJson"]="application/json"})(p=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){const t=l.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const d=[f.MovedPermanently,f.ResourceMoved,f.SeeOther,f.TemporaryRedirect,f.PermanentRedirect];const m=[f.BadGateway,f.ServiceUnavailable,f.GatewayTimeout];const g=["OPTIONS","GET","DELETE","HEAD"];const y=10;const v=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return o(this,void 0,void 0,(function*(){return new Promise((e=>o(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])}));this.message.on("end",(()=>{e(t.toString())}))}))))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){const t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,n){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=n;if(n){if(n.ignoreSslError!=null){this._ignoreSslError=n.ignoreSslError}this._socketTimeout=n.socketTimeout;if(n.allowRedirects!=null){this._allowRedirects=n.allowRedirects}if(n.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=n.allowRedirectDowngrade}if(n.maxRedirects!=null){this._maxRedirects=Math.max(n.maxRedirects,0)}if(n.keepAlive!=null){this._keepAlive=n.keepAlive}if(n.allowRetries!=null){this._allowRetries=n.allowRetries}if(n.maxRetries!=null){this._maxRetries=n.maxRetries}}}options(e,t){return o(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return o(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return o(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,n){return o(this,void 0,void 0,(function*(){return this.request("POST",e,t,n||{})}))}patch(e,t,n){return o(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,n||{})}))}put(e,t,n){return o(this,void 0,void 0,(function*(){return this.request("PUT",e,t,n||{})}))}head(e,t){return o(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,n,r){return o(this,void 0,void 0,(function*(){return this.request(e,t,n,r)}))}getJson(e,t={}){return o(this,void 0,void 0,(function*(){t[h.Accept]=this._getExistingOrDefaultHeader(t,h.Accept,p.ApplicationJson);const n=yield this.get(e,t);return this._processResponse(n,this.requestOptions)}))}postJson(e,t,n={}){return o(this,void 0,void 0,(function*(){const r=JSON.stringify(t,null,2);n[h.Accept]=this._getExistingOrDefaultHeader(n,h.Accept,p.ApplicationJson);n[h.ContentType]=this._getExistingOrDefaultHeader(n,h.ContentType,p.ApplicationJson);const s=yield this.post(e,r,n);return this._processResponse(s,this.requestOptions)}))}putJson(e,t,n={}){return o(this,void 0,void 0,(function*(){const r=JSON.stringify(t,null,2);n[h.Accept]=this._getExistingOrDefaultHeader(n,h.Accept,p.ApplicationJson);n[h.ContentType]=this._getExistingOrDefaultHeader(n,h.ContentType,p.ApplicationJson);const s=yield this.put(e,r,n);return this._processResponse(s,this.requestOptions)}))}patchJson(e,t,n={}){return o(this,void 0,void 0,(function*(){const r=JSON.stringify(t,null,2);n[h.Accept]=this._getExistingOrDefaultHeader(n,h.Accept,p.ApplicationJson);n[h.ContentType]=this._getExistingOrDefaultHeader(n,h.ContentType,p.ApplicationJson);const s=yield this.patch(e,r,n);return this._processResponse(s,this.requestOptions)}))}request(e,t,n,r){return o(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const s=new URL(t);let i=this._prepareRequest(e,s,r);const o=this._allowRetries&&g.includes(e)?this._maxRetries+1:1;let a=0;let c;do{c=yield this.requestRaw(i,n);if(c&&c.message&&c.message.statusCode===f.Unauthorized){let e;for(const t of this.handlers){if(t.canHandleAuthentication(c)){e=t;break}}if(e){return e.handleAuthentication(this,i,n)}else{return c}}let t=this._maxRedirects;while(c.message.statusCode&&d.includes(c.message.statusCode)&&this._allowRedirects&&t>0){const o=c.message.headers["location"];if(!o){break}const a=new URL(o);if(s.protocol==="https:"&&s.protocol!==a.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield c.readBody();if(a.hostname!==s.hostname){for(const e in r){if(e.toLowerCase()==="authorization"){delete r[e]}}}i=this._prepareRequest(e,a,r);c=yield this.requestRaw(i,n);t--}if(!c.message.statusCode||!m.includes(c.message.statusCode)){return c}a+=1;if(a<o){yield c.readBody();yield this._performExponentialBackoff(a)}}while(a<o);return c}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return o(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{function callbackForResult(e,t){if(e){r(e)}else if(!t){r(new Error("Unknown error"))}else{n(t)}}this.requestRawWithCallback(e,t,callbackForResult)}))}))}requestRawWithCallback(e,t,n){if(typeof t==="string"){if(!e.options.headers){e.options.headers={}}e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let r=false;function handleResult(e,t){if(!r){r=true;n(e,t)}}const s=e.httpModule.request(e.options,(e=>{const t=new HttpClientResponse(e);handleResult(undefined,t)}));let i;s.on("socket",(e=>{i=e}));s.setTimeout(this._socketTimeout||3*6e4,(()=>{if(i){i.end()}handleResult(new Error(`Request timeout: ${e.options.path}`))}));s.on("error",(function(e){handleResult(e)}));if(t&&typeof t==="string"){s.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){s.end()}));t.pipe(s)}else{s.end()}}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,n){const r={};r.parsedUrl=t;const s=r.parsedUrl.protocol==="https:";r.httpModule=s?c:a;const i=s?443:80;r.options={};r.options.host=r.parsedUrl.hostname;r.options.port=r.parsedUrl.port?parseInt(r.parsedUrl.port):i;r.options.path=(r.parsedUrl.pathname||"")+(r.parsedUrl.search||"");r.options.method=e;r.options.headers=this._mergeHeaders(n);if(this.userAgent!=null){r.options.headers["user-agent"]=this.userAgent}r.options.agent=this._getAgent(r.parsedUrl);if(this.handlers){for(const e of this.handlers){e.prepareRequest(r.options)}}return r}_mergeHeaders(e){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e||{}))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,n){let r;if(this.requestOptions&&this.requestOptions.headers){r=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||r||n}_getAgent(e){let t;const n=l.getProxyUrl(e);const r=n&&n.hostname;if(this._keepAlive&&r){t=this._proxyAgent}if(this._keepAlive&&!r){t=this._agent}if(t){return t}const s=e.protocol==="https:";let i=100;if(this.requestOptions){i=this.requestOptions.maxSockets||a.globalAgent.maxSockets}if(n&&n.hostname){const e={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})};let r;const o=n.protocol==="https:";if(s){r=o?u.httpsOverHttps:u.httpsOverHttp}else{r=o?u.httpOverHttps:u.httpOverHttp}t=r(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:i};t=s?new c.Agent(e):new a.Agent(e);this._agent=t}if(!t){t=s?c.globalAgent:a.globalAgent}if(s&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){return o(this,void 0,void 0,(function*(){e=Math.min(y,e);const t=v*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return o(this,void 0,void 0,(function*(){return new Promise(((n,r)=>o(this,void 0,void 0,(function*(){const s=e.message.statusCode||0;const i={statusCode:s,result:null,headers:{}};if(s===f.NotFound){n(i)}function dateTimeDeserializer(e,t){if(typeof t==="string"){const e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}let o;let a;try{a=yield e.readBody();if(a&&a.length>0){if(t&&t.deserializeDates){o=JSON.parse(a,dateTimeDeserializer)}else{o=JSON.parse(a)}i.result=o}i.headers=e.message.headers}catch(e){}if(s>299){let e;if(o&&o.message){e=o.message}else if(a&&a.length>0){e=a}else{e=`Failed request: (${s})`}const t=new HttpClientError(e,s);t.result=i.result;r(t)}else{n(i)}}))))}))}}t.HttpClient=HttpClient;const lowercaseKeys=e=>Object.keys(e).reduce(((t,n)=>(t[n.toLowerCase()]=e[n],t)),{})},9835:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkBypass=t.getProxyUrl=void 0;function getProxyUrl(e){const t=e.protocol==="https:";if(checkBypass(e)){return undefined}const n=(()=>{if(t){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(n){return new URL(n)}else{return undefined}}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}const t=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!t){return false}let n;if(e.port){n=Number(e.port)}else if(e.protocol==="http:"){n=80}else if(e.protocol==="https:"){n=443}const r=[e.hostname.toUpperCase()];if(typeof n==="number"){r.push(`${r[0]}:${n}`)}for(const e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(r.some((t=>t===e))){return true}}return false}t.checkBypass=checkBypass},4751:(e,t,n)=>{"use strict";function __export(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}Object.defineProperty(t,"__esModule",{value:true});__export(n(2825))},2825:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const s=n(7147);const i=r(n(8237));const o=i.default("@kwsites/file-exists");function check(e,t,n){o(`checking %s`,e);try{const r=s.statSync(e);if(r.isFile()&&t){o(`[OK] path represents a file`);return true}if(r.isDirectory()&&n){o(`[OK] path represents a directory`);return true}o(`[FAIL] path represents something other than a file or directory`);return false}catch(e){if(e.code==="ENOENT"){o(`[FAIL] path is not accessible: %o`,e);return false}o(`[FATAL] %o`,e);throw e}}function exists(e,n=t.READABLE){return check(e,(n&t.FILE)>0,(n&t.FOLDER)>0)}t.exists=exists;t.FILE=1;t.FOLDER=2;t.READABLE=t.FILE+t.FOLDER},7613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createDeferred=t.deferred=void 0;function deferred(){let e;let t;let n="pending";const r=new Promise(((n,r)=>{e=n;t=r}));return{promise:r,done(t){if(n==="pending"){n="resolved";e(t)}},fail(e){if(n==="pending"){n="rejected";t(e)}},get fulfilled(){return n!=="pending"},get status(){return n}}}t.deferred=deferred;t.createDeferred=deferred;t["default"]=deferred},8222:(e,t,n)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0;let s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}r++;if(e==="%c"){s=r}}));t.splice(s,0,n)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=n(6243)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6243:(e,t,n)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=n(900);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let n=null;let r;let s;function debug(...e){if(!debug.enabled){return}const n=debug;const r=Number(new Date);const s=r-(t||r);n.diff=s;n.prev=t;n.curr=r;t=r;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,r)=>{if(t==="%%"){return"%"}i++;const s=createDebug.formatters[r];if(typeof s==="function"){const r=e[i];t=s.call(n,r);e.splice(i,1);i--}return t}));createDebug.formatArgs.call(n,e);const o=n.log||createDebug.log;o.apply(n,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(n!==null){return n}if(r!==createDebug.namespaces){r=createDebug.namespaces;s=createDebug.enabled(e)}return s},set:e=>{n=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const n=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);n.log=this.log;return n}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let t;const n=(typeof e==="string"?e:"").split(/[\s,]+/);const r=n.length;for(t=0;t<r;t++){if(!n[t]){continue}e=n[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.slice(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let n;for(t=0,n=createDebug.skips.length;t<n;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,n=createDebug.names.length;t<n;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},8237:(e,t,n)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=n(8222)}else{e.exports=n(4874)}},4874:(e,t,n)=>{const r=n(6224);const s=n(3837);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=n(9318);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];if(/^(yes|on|true|enabled)$/i.test(r)){r=true}else if(/^(no|off|false|disabled)$/i.test(r)){r=false}else if(r==="null"){r=null}else{r=Number(r)}e[n]=r;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:n,useColors:r}=this;if(r){const r=this.color;const s="[3"+(r<8?r:"8;5;"+r);const i=`  ${s};1m${n} [0m`;t[0]=i+t[0].split("\n").join("\n"+i);t.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+n+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(s.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++){e.inspectOpts[n[r]]=t.inspectOpts[n[r]]}}e.exports=n(6243)(t);const{formatters:i}=e.exports;i.o=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};i.O=function(e){this.inspectOpts.colors=this.useColors;return s.inspect(e,this.inspectOpts)}},5281:e=>{"use strict";function dedent(e){var t=void 0;if(typeof e==="string"){t=[e]}else{t=e.raw}var n="";for(var r=0;r<t.length;r++){n+=t[r].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`");if(r<(arguments.length<=1?0:arguments.length-1)){n+=arguments.length<=r+1?undefined:arguments[r+1]}}var s=n.split("\n");var i=null;s.forEach((function(e){var t=e.match(/^(\s+)\S+/);if(t){var n=t[1].length;if(!i){i=n}else{i=Math.min(i,n)}}}));if(i!==null){n=s.map((function(e){return e[0]===" "?e.slice(i):e})).join("\n")}n=n.trim();return n.replace(/\\n/g,"\n")}if(true){e.exports=dedent}},4087:(e,t,n)=>{e.exports=n(9819)},9819:function(e,t,n){(function(){var e,r,s,i,o,a,c,l,u,f,h,p,d,m,g,y,v,b,w,k,_,C=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};l=Math.floor,f=Math.max,h=Math.min;r=n(6106);a=n(9491);v=function(e,t){if(t){return 2*e/t}else{return 1}};y=function(e,t){var n,r,s,i,o,a;o=[e.length,t.length],r=o[0],s=o[1];for(n=i=0,a=h(r,s);0<=a?i<a:i>a;n=0<=a?++i:--i){if(e[n]<t[n]){return-1}if(e[n]>t[n]){return 1}}return r-s};_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};g=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++){t=e[n];if(t){return true}}return false};o=function(){SequenceMatcher.name="SequenceMatcher";function SequenceMatcher(e,t,n,r){this.isjunk=e;if(t==null){t=""}if(n==null){n=""}this.autojunk=r!=null?r:true;this.a=this.b=null;this.setSeqs(t,n)}SequenceMatcher.prototype.setSeqs=function(e,t){this.setSeq1(e);return this.setSeq2(t)};SequenceMatcher.prototype.setSeq1=function(e){if(e===this.a){return}this.a=e;return this.matchingBlocks=this.opcodes=null};SequenceMatcher.prototype.setSeq2=function(e){if(e===this.b){return}this.b=e;this.matchingBlocks=this.opcodes=null;this.fullbcount=null;return this._chainB()};SequenceMatcher.prototype._chainB=function(){var e,t,n,r,s,i,o,a,c,u,f,h,p,d,m,g;e=this.b;this.b2j=t={};for(r=h=0,d=e.length;h<d;r=++h){n=e[r];i=_(t,n)?t[n]:t[n]=[];i.push(r)}a={};o=this.isjunk;if(o){g=Object.keys(t);for(p=0,m=g.length;p<m;p++){n=g[p];if(o(n)){a[n]=true;delete t[n]}}}f={};c=e.length;if(this.autojunk&&c>=200){u=l(c/100)+1;for(n in t){s=t[n];if(s.length>u){f[n]=true;delete t[n]}}}this.isbjunk=function(e){return _(a,e)};return this.isbpopular=function(e){return _(f,e)}};SequenceMatcher.prototype.findLongestMatch=function(e,t,n,r){var s,i,o,a,c,l,u,f,h,p,d,m,g,y,v,b,w,k,C,S,O;b=[this.a,this.b,this.b2j,this.isbjunk],s=b[0],i=b[1],o=b[2],f=b[3];w=[e,n,0],a=w[0],c=w[1],l=w[2];p={};for(u=g=e;e<=t?g<t:g>t;u=e<=t?++g:--g){m={};k=_(o,s[u])?o[s[u]]:[];for(y=0,v=k.length;y<v;y++){h=k[y];if(h<n){continue}if(h>=r){break}d=m[h]=(p[h-1]||0)+1;if(d>l){C=[u-d+1,h-d+1,d],a=C[0],c=C[1],l=C[2]}}p=m}while(a>e&&c>n&&!f(i[c-1])&&s[a-1]===i[c-1]){S=[a-1,c-1,l+1],a=S[0],c=S[1],l=S[2]}while(a+l<t&&c+l<r&&!f(i[c+l])&&s[a+l]===i[c+l]){l++}while(a>e&&c>n&&f(i[c-1])&&s[a-1]===i[c-1]){O=[a-1,c-1,l+1],a=O[0],c=O[1],l=O[2]}while(a+l<t&&c+l<r&&f(i[c+l])&&s[a+l]===i[c+l]){l++}return[a,c,l]};SequenceMatcher.prototype.getMatchingBlocks=function(){var e,t,n,r,s,i,o,a,c,l,u,f,h,p,d,m,g,v,b,w,k,_,C,S,O,E;if(this.matchingBlocks){return this.matchingBlocks}_=[this.a.length,this.b.length],p=_[0],d=_[1];v=[[0,p,0,d]];m=[];while(v.length){C=v.pop(),t=C[0],e=C[1],r=C[2],n=C[3];S=b=this.findLongestMatch(t,e,r,n),s=S[0],a=S[1],u=S[2];if(u){m.push(b);if(t<s&&r<a){v.push([t,s,r,a])}if(s+u<e&&a+u<n){v.push([s+u,e,a+u,n])}}}m.sort(y);i=c=f=0;g=[];for(w=0,k=m.length;w<k;w++){O=m[w],o=O[0],l=O[1],h=O[2];if(i+f===o&&c+f===l){f+=h}else{if(f){g.push([i,c,f])}E=[o,l,h],i=E[0],c=E[1],f=E[2]}}if(f){g.push([i,c,f])}g.push([p,d,0]);return this.matchingBlocks=g};SequenceMatcher.prototype.getOpcodes=function(){var e,t,n,r,s,i,o,a,c,l,u,f;if(this.opcodes){return this.opcodes}r=s=0;this.opcodes=t=[];l=this.getMatchingBlocks();for(a=0,c=l.length;a<c;a++){u=l[a],e=u[0],n=u[1],i=u[2];o="";if(r<e&&s<n){o="replace"}else if(r<e){o="delete"}else if(s<n){o="insert"}if(o){t.push([o,r,e,s,n])}f=[e+i,n+i],r=f[0],s=f[1];if(i){t.push(["equal",e,r,n,s])}}return t};SequenceMatcher.prototype.getGroupedOpcodes=function(e){var t,n,r,s,i,o,a,c,l,u,p,d,m,g,y;if(e==null){e=3}t=this.getOpcodes();if(!t.length){t=[["equal",0,1,0,1]]}if(t[0][0]==="equal"){d=t[0],l=d[0],s=d[1],i=d[2],o=d[3],a=d[4];t[0]=[l,f(s,i-e),i,f(o,a-e),a]}if(t[t.length-1][0]==="equal"){m=t[t.length-1],l=m[0],s=m[1],i=m[2],o=m[3],a=m[4];t[t.length-1]=[l,s,h(i,s+e),o,h(a,o+e)]}c=e+e;r=[];n=[];for(u=0,p=t.length;u<p;u++){g=t[u],l=g[0],s=g[1],i=g[2],o=g[3],a=g[4];if(l==="equal"&&i-s>c){n.push([l,s,h(i,s+e),o,h(a,o+e)]);r.push(n);n=[];y=[f(s,i-e),f(o,a-e)],s=y[0],o=y[1]}n.push([l,s,i,o,a])}if(n.length&&!(n.length===1&&n[0][0]==="equal")){r.push(n)}return r};SequenceMatcher.prototype.ratio=function(){var e,t,n,r,s;t=0;s=this.getMatchingBlocks();for(n=0,r=s.length;n<r;n++){e=s[n];t+=e[2]}return v(t,this.a.length+this.b.length)};SequenceMatcher.prototype.quickRatio=function(){var e,t,n,r,s,i,o,a,c,l,u;if(!this.fullbcount){this.fullbcount=n={};l=this.b;for(i=0,a=l.length;i<a;i++){t=l[i];n[t]=(n[t]||0)+1}}n=this.fullbcount;e={};r=0;u=this.a;for(o=0,c=u.length;o<c;o++){t=u[o];if(_(e,t)){s=e[t]}else{s=n[t]||0}e[t]=s-1;if(s>0){r++}}return v(r,this.a.length+this.b.length)};SequenceMatcher.prototype.realQuickRatio=function(){var e,t,n;n=[this.a.length,this.b.length],e=n[0],t=n[1];return v(h(e,t),e+t)};return SequenceMatcher}();u=function(e,t,n,s){var i,a,c,l,u,f,h,p,d,m;if(n==null){n=3}if(s==null){s=.6}if(!(n>0)){throw new Error("n must be > 0: ("+n+")")}if(!(0<=s&&s<=1)){throw new Error("cutoff must be in [0.0, 1.0]: ("+s+")")}i=[];a=new o;a.setSeq2(e);for(u=0,h=t.length;u<h;u++){l=t[u];a.setSeq1(l);if(a.realQuickRatio()>=s&&a.quickRatio()>=s&&a.ratio()>=s){i.push([a.ratio(),l])}}i=r.nlargest(i,n,y);m=[];for(f=0,p=i.length;f<p;f++){d=i[f],c=d[0],l=d[1];m.push(l)}return m};b=function(e,t){var n,r,s;s=[0,e.length],n=s[0],r=s[1];while(n<r&&e[n]===t){n++}return n};e=function(){Differ.name="Differ";function Differ(e,t){this.linejunk=e;this.charjunk=t}Differ.prototype.compare=function(e,t){var n,r,s,i,a,c,l,u,f,h,p,d,m,g,y;a=new o(this.linejunk,e,t);u=[];g=a.getOpcodes();for(h=0,d=g.length;h<d;h++){y=g[h],f=y[0],r=y[1],n=y[2],i=y[3],s=y[4];switch(f){case"replace":c=this._fancyReplace(e,r,n,t,i,s);break;case"delete":c=this._dump("-",e,r,n);break;case"insert":c=this._dump("+",t,i,s);break;case"equal":c=this._dump(" ",e,r,n);break;default:throw new Error("unknow tag ("+f+")")}for(p=0,m=c.length;p<m;p++){l=c[p];u.push(l)}}return u};Differ.prototype._dump=function(e,t,n,r){var s,i,o;o=[];for(s=i=n;n<=r?i<r:i>r;s=n<=r?++i:--i){o.push(""+e+" "+t[s])}return o};Differ.prototype._plainReplace=function(e,t,n,r,s,i){var o,c,l,u,f,h,p,d,m,g;a(t<n&&s<i);if(i-s<n-t){o=this._dump("+",r,s,i);f=this._dump("-",e,t,n)}else{o=this._dump("-",e,t,n);f=this._dump("+",r,s,i)}u=[];g=[o,f];for(h=0,d=g.length;h<d;h++){c=g[h];for(p=0,m=c.length;p<m;p++){l=c[p];u.push(l)}}return u};Differ.prototype._fancyReplace=function(e,t,n,r,s,i){var a,c,l,u,f,h,p,d,m,g,y,v,b,w,k,_,C,S,O,E,T,A,x,N,P,L,M,R,$,I,j,D,F,B,q,H,U,G,V,K,W,Y,J,Q,z,X,Z,ee,te;U=[.74,.75],p=U[0],k=U[1];w=new o(this.charjunk);G=[null,null],_=G[0],C=G[1];x=[];for(O=P=s;s<=i?P<i:P>i;O=s<=i?++P:--P){g=r[O];w.setSeq2(g);for(S=L=t;t<=n?L<n:L>n;S=t<=n?++L:--L){c=e[S];if(c===g){if(_===null){Y=[S,O],_=Y[0],C=Y[1]}continue}w.setSeq1(c);if(w.realQuickRatio()>p&&w.quickRatio()>p&&w.ratio()>p){J=[w.ratio(),S,O],p=J[0],d=J[1],m=J[2]}}}if(p<k){if(_===null){Q=this._plainReplace(e,t,n,r,s,i);for(M=0,$=Q.length;M<$;M++){A=Q[M];x.push(A)}return x}z=[_,C,1],d=z[0],m=z[1],p=z[2]}else{_=null}X=this._fancyHelper(e,t,d,r,s,m);for(R=0,I=X.length;R<I;R++){A=X[R];x.push(A)}Z=[e[d],r[m]],a=Z[0],h=Z[1];if(_===null){f=b="";w.setSeqs(a,h);ee=w.getOpcodes();for(B=0,j=ee.length;B<j;B++){te=ee[B],N=te[0],l=te[1],u=te[2],y=te[3],v=te[4];V=[u-l,v-y],E=V[0],T=V[1];switch(N){case"replace":f+=Array(E+1).join("^");b+=Array(T+1).join("^");break;case"delete":f+=Array(E+1).join("-");break;case"insert":b+=Array(T+1).join("+");break;case"equal":f+=Array(E+1).join(" ");b+=Array(T+1).join(" ");break;default:throw new Error("unknow tag ("+N+")")}}K=this._qformat(a,h,f,b);for(q=0,D=K.length;q<D;q++){A=K[q];x.push(A)}}else{x.push("  "+a)}W=this._fancyHelper(e,d+1,n,r,m+1,i);for(H=0,F=W.length;H<F;H++){A=W[H];x.push(A)}return x};Differ.prototype._fancyHelper=function(e,t,n,r,s,i){var o;o=[];if(t<n){if(s<i){o=this._fancyReplace(e,t,n,r,s,i)}else{o=this._dump("-",e,t,n)}}else if(s<i){o=this._dump("+",r,s,i)}return o};Differ.prototype._qformat=function(e,t,n,r){var s,i;i=[];s=h(b(e,"\t"),b(t,"\t"));s=h(s,b(n.slice(0,s)," "));s=h(s,b(r.slice(0,s)," "));n=n.slice(s).replace(/\s+$/,"");r=r.slice(s).replace(/\s+$/,"");i.push("- "+e);if(n.length){i.push("? "+Array(s+1).join("\t")+n+"\n")}i.push("+ "+t);if(r.length){i.push("? "+Array(s+1).join("\t")+r+"\n")}return i};return Differ}();i=function(e,t){if(t==null){t=/^\s*#?\s*$/}return t.test(e)};s=function(e,t){if(t==null){t=" \t"}return C.call(t,e)>=0};k=function(e,t){var n,r;n=e+1;r=t-e;if(r===1){return""+n}if(!r){n--}return""+n+","+r};m=function(e,t,n){var r,s,i,a,c,l,u,f,h,p,d,m,g,y,v,b,w,_,C,S,O,E,T,A,x,N,P,L,M,R,$,I,j,D,F,B,q,H;I=n!=null?n:{},c=I.fromfile,S=I.tofile,l=I.fromfiledate,O=I.tofiledate,b=I.n,v=I.lineterm;if(c==null){c=""}if(S==null){S=""}if(l==null){l=""}if(O==null){O=""}if(b==null){b=3}if(v==null){v="\n"}y=[];w=false;j=new o(null,e,t).getGroupedOpcodes();for(E=0,N=j.length;E<N;E++){u=j[E];if(!w){w=true;a=l?"\t"+l:"";C=O?"\t"+O:"";y.push("--- "+c+a+v);y.push("+++ "+S+C+v)}D=[u[0],u[u.length-1]],i=D[0],m=D[1];r=k(i[1],m[2]);s=k(i[3],m[4]);y.push("@@ -"+r+" +"+s+" @@"+v);for(T=0,P=u.length;T<P;T++){F=u[T],_=F[0],f=F[1],h=F[2],p=F[3],d=F[4];if(_==="equal"){B=e.slice(f,h);for(A=0,L=B.length;A<L;A++){g=B[A];y.push(" "+g)}continue}if(_==="replace"||_==="delete"){q=e.slice(f,h);for(x=0,M=q.length;x<M;x++){g=q[x];y.push("-"+g)}}if(_==="replace"||_==="insert"){H=t.slice(p,d);for($=0,R=H.length;$<R;$++){g=H[$];y.push("+"+g)}}}}return y};w=function(e,t){var n,r;n=e+1;r=t-e;if(!r){n--}if(r<=1){return""+n}return""+n+","+(n+r-1)};c=function(e,t,n){var r,s,i,a,c,l,u,f,h,p,d,m,y,v,b,k,_,C,S,O,E,T,A,x,N,P,L,M,R,$,I,j,D,F,B,q,H,U,G,V;F=n!=null?n:{},c=F.fromfile,E=F.tofile,l=F.fromfiledate,T=F.tofiledate,k=F.n,b=F.lineterm;if(c==null){c=""}if(E==null){E=""}if(l==null){l=""}if(T==null){T=""}if(k==null){k=3}if(b==null){b="\n"}_={insert:"+ ",delete:"- ",replace:"! ",equal:"  "};C=false;v=[];B=new o(null,e,t).getGroupedOpcodes();for(x=0,M=B.length;x<M;x++){u=B[x];if(!C){C=true;a=l?"\t"+l:"";O=T?"\t"+T:"";v.push("*** "+c+a+b);v.push("--- "+E+O+b);q=[u[0],u[u.length-1]],i=q[0],m=q[1];v.push("***************"+b);r=w(i[1],m[2]);v.push("*** "+r+" ****"+b);if(g(function(){var e,t,n,r;r=[];for(e=0,t=u.length;e<t;e++){n=u[e],S=n[0],A=n[1],A=n[2],A=n[3],A=n[4];r.push(S==="replace"||S==="delete")}return r}())){for(N=0,R=u.length;N<R;N++){H=u[N],S=H[0],f=H[1],h=H[2],A=H[3],A=H[4];if(S!=="insert"){U=e.slice(f,h);for(P=0,$=U.length;P<$;P++){y=U[P];v.push(_[S]+y)}}}}s=w(i[3],m[4]);v.push("--- "+s+" ----"+b);if(g(function(){var e,t,n,r;r=[];for(e=0,t=u.length;e<t;e++){n=u[e],S=n[0],A=n[1],A=n[2],A=n[3],A=n[4];r.push(S==="replace"||S==="insert")}return r}())){for(L=0,I=u.length;L<I;L++){G=u[L],S=G[0],A=G[1],A=G[2],p=G[3],d=G[4];if(S!=="delete"){V=t.slice(p,d);for(D=0,j=V.length;D<j;D++){y=V[D];v.push(_[S]+y)}}}}}}return v};p=function(t,n,r,i){if(i==null){i=s}return new e(r,i).compare(t,n)};d=function(e,t){var n,r,s,i,o,a,c;i={1:"- ",2:"+ "}[t];if(!i){throw new Error("unknow delta choice (must be 1 or 2): "+t)}s=["  ",i];r=[];for(o=0,a=e.length;o<a;o++){n=e[o];if(c=n.slice(0,2),C.call(s,c)>=0){r.push(n.slice(2))}}return r};t._arrayCmp=y;t.SequenceMatcher=o;t.getCloseMatches=u;t._countLeading=b;t.Differ=e;t.IS_LINE_JUNK=i;t.IS_CHARACTER_JUNK=s;t._formatRangeUnified=k;t.unifiedDiff=m;t._formatRangeContext=w;t.contextDiff=c;t.ndiff=p;t.restore=d}).call(this)},1621:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":e.length===1?"-":"--";const r=t.indexOf(n+e);const s=t.indexOf("--");return r!==-1&&(s===-1?true:r<s)}},6106:(e,t,n)=>{e.exports=n(5177)},5177:function(e){(function(){var t,n,r,s,i,o,a,c,l,u,f,h,p,d,m;r=Math.floor,u=Math.min;n=function(e,t){if(e<t){return-1}if(e>t){return 1}return 0};l=function(e,t,s,i,o){var a;if(s==null){s=0}if(o==null){o=n}if(s<0){throw new Error("lo must be non-negative")}if(i==null){i=e.length}while(s<i){a=r((s+i)/2);if(o(t,e[a])<0){i=a}else{s=a+1}}return[].splice.apply(e,[s,s-s].concat(t)),t};o=function(e,t,r){if(r==null){r=n}e.push(t);return d(e,0,e.length-1,r)};i=function(e,t){var r,s;if(t==null){t=n}r=e.pop();if(e.length){s=e[0];e[0]=r;m(e,0,t)}else{s=r}return s};c=function(e,t,r){var s;if(r==null){r=n}s=e[0];e[0]=t;m(e,0,r);return s};a=function(e,t,r){var s;if(r==null){r=n}if(e.length&&r(e[0],t)<0){s=[e[0],t],t=s[0],e[0]=s[1];m(e,0,r)}return t};s=function(e,t){var s,i,o,a,c,l,u,f;if(t==null){t=n}l=function(){f=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--){f.push(t)}return f}.apply(this).reverse();u=[];for(i=0,a=l.length;i<a;i++){s=l[i];u.push(m(e,s,t))}return u};p=function(e,t,r){var s;if(r==null){r=n}s=e.indexOf(t);if(s===-1){return}d(e,0,s,r);return m(e,s,r)};f=function(e,t,r){var i,o,c,l,u;if(r==null){r=n}o=e.slice(0,t);if(!o.length){return o}s(o,r);u=e.slice(t);for(c=0,l=u.length;c<l;c++){i=u[c];a(o,i,r)}return o.sort(r).reverse()};h=function(e,t,r){var o,a,c,f,h,p,d,m,g,y;if(r==null){r=n}if(t*10<=e.length){f=e.slice(0,t).sort(r);if(!f.length){return f}c=f[f.length-1];m=e.slice(t);for(h=0,d=m.length;h<d;h++){o=m[h];if(r(o,c)<0){l(f,o,0,null,r);f.pop();c=f[f.length-1]}}return f}s(e,r);y=[];for(a=p=0,g=u(t,e.length);0<=g?p<g:p>g;a=0<=g?++p:--p){y.push(i(e,r))}return y};d=function(e,t,r,s){var i,o,a;if(s==null){s=n}i=e[r];while(r>t){a=r-1>>1;o=e[a];if(s(i,o)<0){e[r]=o;r=a;continue}break}return e[r]=i};m=function(e,t,r){var s,i,o,a,c;if(r==null){r=n}i=e.length;c=t;o=e[t];s=2*t+1;while(s<i){a=s+1;if(a<i&&!(r(e[s],e[a])<0)){s=a}e[t]=e[s];t=s;s=2*t+1}e[t]=o;return d(e,c,t,r)};t=function(){Heap.push=o;Heap.pop=i;Heap.replace=c;Heap.pushpop=a;Heap.heapify=s;Heap.updateItem=p;Heap.nlargest=f;Heap.nsmallest=h;function Heap(e){this.cmp=e!=null?e:n;this.nodes=[]}Heap.prototype.push=function(e){return o(this.nodes,e,this.cmp)};Heap.prototype.pop=function(){return i(this.nodes,this.cmp)};Heap.prototype.peek=function(){return this.nodes[0]};Heap.prototype.contains=function(e){return this.nodes.indexOf(e)!==-1};Heap.prototype.replace=function(e){return c(this.nodes,e,this.cmp)};Heap.prototype.pushpop=function(e){return a(this.nodes,e,this.cmp)};Heap.prototype.heapify=function(){return s(this.nodes,this.cmp)};Heap.prototype.updateItem=function(e){return p(this.nodes,e,this.cmp)};Heap.prototype.clear=function(){return this.nodes=[]};Heap.prototype.empty=function(){return this.nodes.length===0};Heap.prototype.size=function(){return this.nodes.length};Heap.prototype.clone=function(){var e;e=new Heap;e.nodes=this.nodes.slice(0);return e};Heap.prototype.toArray=function(){return this.nodes.slice(0)};Heap.prototype.insert=Heap.prototype.push;Heap.prototype.top=Heap.prototype.peek;Heap.prototype.front=Heap.prototype.peek;Heap.prototype.has=Heap.prototype.contains;Heap.prototype.copy=Heap.prototype.clone;return Heap}();(function(t,n){if(typeof define==="function"&&define.amd){return define([],n)}else if(true){return e.exports=n()}else{}})(this,(function(){return t}))}).call(this)},900:e=>{var t=1e3;var n=t*60;var r=n*60;var s=r*24;var i=s*7;var o=s*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0){return parse(e)}else if(n==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var l=(a[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*s;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){var i=Math.abs(e);if(i>=s){return Math.round(e/s)+"d"}if(i>=r){return Math.round(e/r)+"h"}if(i>=n){return Math.round(e/n)+"m"}if(i>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var i=Math.abs(e);if(i>=s){return plural(e,i,s,"day")}if(i>=r){return plural(e,i,r,"hour")}if(i>=n){return plural(e,i,n,"minute")}if(i>=t){return plural(e,i,t,"second")}return e+" ms"}function plural(e,t,n,r){var s=t>=n*1.5;return Math.round(e/n)+" "+r+(s?"s":"")}},9103:(e,t,n)=>{var r=Object.create;var s=Object.defineProperty;var i=Object.defineProperties;var o=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertyNames;var l=Object.getOwnPropertySymbols;var u=Object.getPrototypeOf;var f=Object.prototype.hasOwnProperty;var h=Object.prototype.propertyIsEnumerable;var __defNormalProp=(e,t,n)=>t in e?s(e,t,{enumerable:true,configurable:true,writable:true,value:n}):e[t]=n;var __spreadValues=(e,t)=>{for(var n in t||(t={}))if(f.call(t,n))__defNormalProp(e,n,t[n]);if(l)for(var n of l(t)){if(h.call(t,n))__defNormalProp(e,n,t[n])}return e};var __spreadProps=(e,t)=>i(e,a(t));var __markAsModule=e=>s(e,"__esModule",{value:true});var __esm=(e,t)=>function __init(){return e&&(t=(0,e[c(e)[0]])(e=0)),t};var __commonJS=(e,t)=>function __require(){return t||(0,e[c(e)[0]])((t={exports:{}}).exports,t),t.exports};var __export=(e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:true})};var __reExport=(e,t,n,r)=>{if(t&&typeof t==="object"||typeof t==="function"){for(let i of c(t))if(!f.call(e,i)&&(n||i!=="default"))s(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable})}return e};var __toESM=(e,t)=>__reExport(__markAsModule(s(e!=null?r(u(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:true}:{value:e,enumerable:true})),e);var p=(e=>(t,n)=>e&&e.get(t)||(n=__reExport(__markAsModule({}),t,1),e&&e.set(t,n),n))(typeof WeakMap!=="undefined"?new WeakMap:0);var __async=(e,t,n)=>new Promise(((r,s)=>{var fulfilled=e=>{try{step(n.next(e))}catch(e){s(e)}};var rejected=e=>{try{step(n.throw(e))}catch(e){s(e)}};var step=e=>e.done?r(e.value):Promise.resolve(e.value).then(fulfilled,rejected);step((n=n.apply(e,t)).next())}));var d;var m=__esm({"src/lib/errors/git-error.ts"(){d=class extends Error{constructor(e,t){super(t);this.task=e;Object.setPrototypeOf(this,new.target.prototype)}}}});var g;var y=__esm({"src/lib/errors/git-response-error.ts"(){m();g=class extends d{constructor(e,t){super(void 0,t||String(e));this.git=e}}}});var v;var b=__esm({"src/lib/errors/git-construct-error.ts"(){m();v=class extends d{constructor(e,t){super(void 0,t);this.config=e}}}});var w;var k=__esm({"src/lib/errors/git-plugin-error.ts"(){m();w=class extends d{constructor(e,t,n){super(e,n);this.task=e;this.plugin=t;Object.setPrototypeOf(this,new.target.prototype)}}}});var _;var C=__esm({"src/lib/errors/task-configuration-error.ts"(){m();_=class extends d{constructor(e){super(void 0,e)}}}});function asFunction(e){return typeof e==="function"?e:E}function isUserFunction(e){return typeof e==="function"&&e!==E}function splitOn(e,t){const n=e.indexOf(t);if(n<=0){return[e,""]}return[e.substr(0,n),e.substr(n+1)]}function first(e,t=0){return isArrayLike(e)&&e.length>t?e[t]:void 0}function last(e,t=0){if(isArrayLike(e)&&e.length>t){return e[e.length-1-t]}}function isArrayLike(e){return!!(e&&typeof e.length==="number")}function toLinesWithContent(e="",t=true,n="\n"){return e.split(n).reduce(((e,n)=>{const r=t?n.trim():n;if(r){e.push(r)}return e}),[])}function forEachLineWithContent(e,t){return toLinesWithContent(e,true).map((e=>t(e)))}function folderExists(e){return(0,S.exists)(e,S.FOLDER)}function append(e,t){if(Array.isArray(e)){if(!e.includes(t)){e.push(t)}}else{e.add(t)}return t}function including(e,t){if(Array.isArray(e)&&!e.includes(t)){e.push(t)}return e}function remove(e,t){if(Array.isArray(e)){const n=e.indexOf(t);if(n>=0){e.splice(n,1)}}else{e.delete(t)}return t}function asArray(e){return Array.isArray(e)?e:[e]}function asStringArray(e){return asArray(e).map(String)}function asNumber(e,t=0){if(e==null){return t}const n=parseInt(e,10);return isNaN(n)?t:n}function prefixedArray(e,t){const n=[];for(let r=0,s=e.length;r<s;r++){n.push(t,e[r])}return n}function bufferToString(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function pick(e,t){return Object.assign({},...t.map((t=>t in e?{[t]:e[t]}:{})))}function delay(e=0){return new Promise((t=>setTimeout(t,e)))}var S,O,E,T;var A=__esm({"src/lib/utils/util.ts"(){S=n(4751);O="\0";E=()=>{};T=Object.prototype.toString.call.bind(Object.prototype.toString)}});function filterType(e,t,n){if(t(e)){return e}return arguments.length>2?n:void 0}function filterPrimitives(e,t){return/number|string|boolean/.test(typeof e)&&(!t||!t.includes(typeof e))}function filterPlainObject(e){return!!e&&T(e)==="[object Object]"}function filterFunction(e){return typeof e==="function"}var x,N,P,L,M;var R=__esm({"src/lib/utils/argument-filters.ts"(){A();x=e=>Array.isArray(e);N=e=>typeof e==="string";P=e=>Array.isArray(e)&&e.every(N);L=e=>N(e)||Array.isArray(e)&&e.every(N);M=e=>{if(e==null||"number|boolean|function".includes(typeof e)){return false}return Array.isArray(e)||typeof e==="string"||typeof e.length==="number"}}});var $;var I=__esm({"src/lib/utils/exit-codes.ts"(){$=(e=>{e[e["SUCCESS"]=0]="SUCCESS";e[e["ERROR"]=1]="ERROR";e[e["NOT_FOUND"]=-2]="NOT_FOUND";e[e["UNCLEAN"]=128]="UNCLEAN";return e})($||{})}});var j;var D=__esm({"src/lib/utils/git-output-streams.ts"(){j=class{constructor(e,t){this.stdOut=e;this.stdErr=t}asStrings(){return new j(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}});var F,B;var q=__esm({"src/lib/utils/line-parser.ts"(){F=class{constructor(e,t){this.matches=[];this.parse=(e,t)=>{this.resetMatches();if(!this._regExp.every(((t,n)=>this.addMatch(t,n,e(n))))){return false}return this.useMatches(t,this.prepareMatches())!==false};this._regExp=Array.isArray(e)?e:[e];if(t){this.useMatches=t}}useMatches(e,t){throw new Error(`LineParser:useMatches not implemented`)}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,n){const r=n&&e.exec(n);if(r){this.pushMatch(t,r)}return!!r}pushMatch(e,t){this.matches.push(...t.slice(1))}};B=class extends F{addMatch(e,t,n){return/^remote:\s/.test(String(n))&&super.addMatch(e,t,n)}pushMatch(e,t){if(e>0||t.length>1){super.pushMatch(e,t)}}}}});function createInstanceConfig(...e){const t=process.cwd();const n=Object.assign(__spreadValues({baseDir:t},H),...e.filter((e=>typeof e==="object"&&e)));n.baseDir=n.baseDir||t;n.trimmed=n.trimmed===true;return n}var H;var U=__esm({"src/lib/utils/simple-git-options.ts"(){H={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:false}}});function appendTaskOptions(e,t=[]){if(!filterPlainObject(e)){return t}return Object.keys(e).reduce(((t,n)=>{const r=e[n];if(filterPrimitives(r,["boolean"])){t.push(n+"="+r)}else{t.push(n)}return t}),t)}function getTrailingOptions(e,t=0,n=false){const r=[];for(let n=0,s=t<0?e.length:t;n<s;n++){if("string|number".includes(typeof e[n])){r.push(String(e[n]))}}appendTaskOptions(trailingOptionsArgument(e),r);if(!n){r.push(...trailingArrayArgument(e))}return r}function trailingArrayArgument(e){const t=typeof last(e)==="function";return filterType(last(e,t?1:0),x,[])}function trailingOptionsArgument(e){const t=filterFunction(last(e));return filterType(last(e,t?1:0),filterPlainObject)}function trailingFunctionArgument(e,t=true){const n=asFunction(last(e));return t||isUserFunction(n)?n:void 0}var G=__esm({"src/lib/utils/task-options.ts"(){R();A()}});function callTaskParser(e,t){return e(t.stdOut,t.stdErr)}function parseStringResponse(e,t,n,r=true){asArray(n).forEach((n=>{for(let s=toLinesWithContent(n,r),i=0,o=s.length;i<o;i++){const line=(e=0)=>{if(i+e>=o){return}return s[i+e]};t.some((({parse:t})=>t(line,e)))}}));return e}var V=__esm({"src/lib/utils/task-parser.ts"(){A()}});var K={};__export(K,{ExitCodes:()=>$,GitOutputStreams:()=>j,LineParser:()=>F,NOOP:()=>E,NULL:()=>O,RemoteLineParser:()=>B,append:()=>append,appendTaskOptions:()=>appendTaskOptions,asArray:()=>asArray,asFunction:()=>asFunction,asNumber:()=>asNumber,asStringArray:()=>asStringArray,bufferToString:()=>bufferToString,callTaskParser:()=>callTaskParser,createInstanceConfig:()=>createInstanceConfig,delay:()=>delay,filterArray:()=>x,filterFunction:()=>filterFunction,filterHasLength:()=>M,filterPlainObject:()=>filterPlainObject,filterPrimitives:()=>filterPrimitives,filterString:()=>N,filterStringArray:()=>P,filterStringOrStringArray:()=>L,filterType:()=>filterType,first:()=>first,folderExists:()=>folderExists,forEachLineWithContent:()=>forEachLineWithContent,getTrailingOptions:()=>getTrailingOptions,including:()=>including,isUserFunction:()=>isUserFunction,last:()=>last,objectToString:()=>T,parseStringResponse:()=>parseStringResponse,pick:()=>pick,prefixedArray:()=>prefixedArray,remove:()=>remove,splitOn:()=>splitOn,toLinesWithContent:()=>toLinesWithContent,trailingFunctionArgument:()=>trailingFunctionArgument,trailingOptionsArgument:()=>trailingOptionsArgument});var W=__esm({"src/lib/utils/index.ts"(){R();I();D();q();U();G();V();A()}});var Y={};__export(Y,{CheckRepoActions:()=>J,checkIsBareRepoTask:()=>checkIsBareRepoTask,checkIsRepoRootTask:()=>checkIsRepoRootTask,checkIsRepoTask:()=>checkIsRepoTask});function checkIsRepoTask(e){switch(e){case"bare":return checkIsBareRepoTask();case"root":return checkIsRepoRootTask()}const t=["rev-parse","--is-inside-work-tree"];return{commands:t,format:"utf-8",onError:Q,parser:z}}function checkIsRepoRootTask(){const e=["rev-parse","--git-dir"];return{commands:e,format:"utf-8",onError:Q,parser(e){return/^\.(git)?$/.test(e.trim())}}}function checkIsBareRepoTask(){const e=["rev-parse","--is-bare-repository"];return{commands:e,format:"utf-8",onError:Q,parser:z}}function isNotRepoMessage(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}var J,Q,z;var X=__esm({"src/lib/tasks/check-is-repo.ts"(){W();J=(e=>{e["BARE"]="bare";e["IN_TREE"]="tree";e["IS_REPO_ROOT"]="root";return e})(J||{});Q=({exitCode:e},t,n,r)=>{if(e===128&&isNotRepoMessage(t)){return n(Buffer.from("false"))}r(t)};z=e=>e.trim()==="true"}});function cleanSummaryParser(e,t){const n=new Z(e);const r=e?te:ee;toLinesWithContent(t).forEach((e=>{const t=e.replace(r,"");n.paths.push(t);(ne.test(t)?n.folders:n.files).push(t)}));return n}var Z,ee,te,ne;var re=__esm({"src/lib/responses/CleanSummary.ts"(){W();Z=class{constructor(e){this.dryRun=e;this.paths=[];this.files=[];this.folders=[]}};ee=/^[a-z]+\s*/i;te=/^[a-z]+\s+[a-z]+\s*/i;ne=/\/$/}});var se={};__export(se,{EMPTY_COMMANDS:()=>ie,adhocExecTask:()=>adhocExecTask,configurationErrorTask:()=>configurationErrorTask,isBufferTask:()=>isBufferTask,isEmptyTask:()=>isEmptyTask,straightThroughBufferTask:()=>straightThroughBufferTask,straightThroughStringTask:()=>straightThroughStringTask});function adhocExecTask(e){return{commands:ie,format:"empty",parser:e}}function configurationErrorTask(e){return{commands:ie,format:"empty",parser(){throw typeof e==="string"?new _(e):e}}}function straightThroughStringTask(e,t=false){return{commands:e,format:"utf-8",parser(e){return t?String(e).trim():e}}}function straightThroughBufferTask(e){return{commands:e,format:"buffer",parser(e){return e}}}function isBufferTask(e){return e.format==="buffer"}function isEmptyTask(e){return e.format==="empty"||!e.commands.length}var ie;var oe=__esm({"src/lib/tasks/task.ts"(){C();ie=[]}});var ae={};__export(ae,{CONFIG_ERROR_INTERACTIVE_MODE:()=>ce,CONFIG_ERROR_MODE_REQUIRED:()=>le,CONFIG_ERROR_UNKNOWN_OPTION:()=>ue,CleanOptions:()=>fe,cleanTask:()=>cleanTask,cleanWithOptionsTask:()=>cleanWithOptionsTask,isCleanOptionsArray:()=>isCleanOptionsArray});function cleanWithOptionsTask(e,t){const{cleanMode:n,options:r,valid:s}=getCleanOptions(e);if(!n){return configurationErrorTask(le)}if(!s.options){return configurationErrorTask(ue+JSON.stringify(e))}r.push(...t);if(r.some(isInteractiveMode)){return configurationErrorTask(ce)}return cleanTask(n,r)}function cleanTask(e,t){const n=["clean",`-${e}`,...t];return{commands:n,format:"utf-8",parser(t){return cleanSummaryParser(e==="n",t)}}}function isCleanOptionsArray(e){return Array.isArray(e)&&e.every((e=>he.has(e)))}function getCleanOptions(e){let t;let n=[];let r={cleanMode:false,options:true};e.replace(/[^a-z]i/g,"").split("").forEach((e=>{if(isCleanMode(e)){t=e;r.cleanMode=true}else{r.options=r.options&&isKnownOption(n[n.length]=`-${e}`)}}));return{cleanMode:t,options:n,valid:r}}function isCleanMode(e){return e==="f"||e==="n"}function isKnownOption(e){return/^-[a-z]$/i.test(e)&&he.has(e.charAt(1))}function isInteractiveMode(e){if(/^-[^\-]/.test(e)){return e.indexOf("i")>0}return e==="--interactive"}var ce,le,ue,fe,he;var pe=__esm({"src/lib/tasks/clean.ts"(){re();W();oe();ce="Git clean interactive mode is not supported";le='Git clean mode parameter ("n" or "f") is required';ue="Git clean unknown option found in: ";fe=(e=>{e["DRY_RUN"]="n";e["FORCE"]="f";e["IGNORED_INCLUDED"]="x";e["IGNORED_ONLY"]="X";e["EXCLUDING"]="e";e["QUIET"]="q";e["RECURSIVE"]="d";return e})(fe||{});he=new Set(["i",...asStringArray(Object.values(fe))])}});function configListParser(e){const t=new de;for(const n of configParser(e)){t.addValue(n.file,String(n.key),n.value)}return t}function configGetParser(e,t){let n=null;const r=[];const s=new Map;for(const i of configParser(e,t)){if(i.key!==t){continue}r.push(n=i.value);if(!s.has(i.file)){s.set(i.file,[])}s.get(i.file).push(n)}return{key:t,paths:Array.from(s.keys()),scopes:s,value:n,values:r}}function configFilePath(e){return e.replace(/^(file):/,"")}function*configParser(e,t=null){const n=e.split("\0");for(let e=0,r=n.length-1;e<r;){const r=configFilePath(n[e++]);let s=n[e++];let i=t;if(s.includes("\n")){const e=splitOn(s,"\n");i=e[0];s=e[1]}yield{file:r,key:i,value:s}}}var de;var me=__esm({"src/lib/responses/ConfigList.ts"(){W();de=class{constructor(){this.files=[];this.values=Object.create(null)}get all(){if(!this._all){this._all=this.files.reduce(((e,t)=>Object.assign(e,this.values[t])),{})}return this._all}addFile(e){if(!(e in this.values)){const t=last(this.files);this.values[e]=t?Object.create(this.values[t]):{};this.files.push(e)}return this.values[e]}addValue(e,t,n){const r=this.addFile(e);if(!r.hasOwnProperty(t)){r[t]=n}else if(Array.isArray(r[t])){r[t].push(n)}else{r[t]=[r[t],n]}this._all=void 0}}}});function asConfigScope(e,t){if(typeof e==="string"&&ge.hasOwnProperty(e)){return e}return t}function addConfigTask(e,t,n,r){const s=["config",`--${r}`];if(n){s.push("--add")}s.push(e,t);return{commands:s,format:"utf-8",parser(e){return e}}}function getConfigTask(e,t){const n=["config","--null","--show-origin","--get-all",e];if(t){n.splice(1,0,`--${t}`)}return{commands:n,format:"utf-8",parser(t){return configGetParser(t,e)}}}function listConfigTask(e){const t=["config","--list","--show-origin","--null"];if(e){t.push(`--${e}`)}return{commands:t,format:"utf-8",parser(e){return configListParser(e)}}}function config_default(){return{addConfig(e,t,...n){return this._runTask(addConfigTask(e,t,n[0]===true,asConfigScope(n[1],"local")),trailingFunctionArgument(arguments))},getConfig(e,t){return this._runTask(getConfigTask(e,asConfigScope(t,void 0)),trailingFunctionArgument(arguments))},listConfig(...e){return this._runTask(listConfigTask(asConfigScope(e[0],void 0)),trailingFunctionArgument(arguments))}}}var ge;var ye=__esm({"src/lib/tasks/config.ts"(){me();W();ge=(e=>{e["system"]="system";e["global"]="global";e["local"]="local";e["worktree"]="worktree";return e})(ge||{})}});function grepQueryBuilder(...e){return(new ke).param(...e)}function parseGrep(e){const t=new Set;const n={};forEachLineWithContent(e,(e=>{const[r,s,i]=e.split(O);t.add(r);(n[r]=n[r]||[]).push({line:asNumber(s),path:r,preview:i})}));return{paths:t,results:n}}function grep_default(){return{grep(e){const t=trailingFunctionArgument(arguments);const n=getTrailingOptions(arguments);for(const e of ve){if(n.includes(e)){return this._runTask(configurationErrorTask(`git.grep: use of "${e}" is not supported.`),t)}}if(typeof e==="string"){e=grepQueryBuilder().param(e)}const r=["grep","--null","-n","--full-name",...n,...e];return this._runTask({commands:r,format:"utf-8",parser(e){return parseGrep(e)}},t)}}}var ve,be,we,ke;var _e=__esm({"src/lib/tasks/grep.ts"(){W();oe();ve=["-h"];be=Symbol("grepQuery");ke=class{constructor(){this[we]=[]}*[(we=be,Symbol.iterator)](){for(const e of this[be]){yield e}}and(...e){e.length&&this[be].push("--and","(",...prefixedArray(e,"-e"),")");return this}param(...e){this[be].push(...prefixedArray(e,"-e"));return this}}}});var Ce={};__export(Ce,{ResetMode:()=>Se,getResetMode:()=>getResetMode,resetTask:()=>resetTask});function resetTask(e,t){const n=["reset"];if(isValidResetMode(e)){n.push(`--${e}`)}n.push(...t);return straightThroughStringTask(n)}function getResetMode(e){if(isValidResetMode(e)){return e}switch(typeof e){case"string":case"undefined":return"soft"}return}function isValidResetMode(e){return Oe.includes(e)}var Se,Oe;var Ee=__esm({"src/lib/tasks/reset.ts"(){oe();Se=(e=>{e["MIXED"]="mixed";e["SOFT"]="soft";e["HARD"]="hard";e["MERGE"]="merge";e["KEEP"]="keep";return e})(Se||{});Oe=Array.from(Object.values(Se))}});var Te={};__export(Te,{CheckRepoActions:()=>J,CleanOptions:()=>fe,GitConfigScope:()=>ge,GitConstructError:()=>v,GitError:()=>d,GitPluginError:()=>w,GitResponseError:()=>g,ResetMode:()=>Se,TaskConfigurationError:()=>_,grepQueryBuilder:()=>grepQueryBuilder});var Ae=__esm({"src/lib/api.ts"(){b();m();k();y();C();X();pe();ye();_e();Ee()}});function abortPlugin(e){if(!e){return}const t={type:"spawn.after",action(t,n){function kill(){n.kill(new w(void 0,"abort","Abort signal received"))}e.addEventListener("abort",kill);n.spawned.on("close",(()=>e.removeEventListener("abort",kill)))}};const n={type:"spawn.before",action(t,n){if(e.aborted){n.kill(new w(void 0,"abort","Abort already signaled"))}}};return[n,t]}var xe=__esm({"src/lib/plugins/abort-plugin.ts"(){k()}});function isConfigSwitch(e){return typeof e==="string"&&e.trim().toLowerCase()==="-c"}function preventProtocolOverride(e,t){if(!isConfigSwitch(e)){return}if(!/^\s*protocol(.[a-z]+)?.allow/.test(t)){return}throw new w(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}function preventUploadPack(e,t){if(/^\s*--(upload|receive)-pack/.test(e)){throw new w(void 0,"unsafe",`Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack`)}if(t==="clone"&&/^\s*-u\b/.test(e)){throw new w(void 0,"unsafe",`Use of clone with option -u is not permitted without enabling allowUnsafePack`)}if(t==="push"&&/^\s*--exec\b/.test(e)){throw new w(void 0,"unsafe",`Use of push with option --exec is not permitted without enabling allowUnsafePack`)}}function blockUnsafeOperationsPlugin({allowUnsafeProtocolOverride:e=false,allowUnsafePack:t=false}={}){return{type:"spawn.args",action(n,r){n.forEach(((s,i)=>{const o=i<n.length?n[i+1]:"";e||preventProtocolOverride(s,o);t||preventUploadPack(s,r.method)}));return n}}}var Ne=__esm({"src/lib/plugins/block-unsafe-operations-plugin.ts"(){k()}});function commandConfigPrefixingPlugin(e){const t=prefixedArray(e,"-c");return{type:"spawn.args",action(e){return[...t,...e]}}}var Pe=__esm({"src/lib/plugins/command-config-prefixing-plugin.ts"(){W()}});function completionDetectionPlugin({onClose:e=true,onExit:t=50}={}){function createEvents(){let n=-1;const r={close:(0,Le.deferred)(),closeTimeout:(0,Le.deferred)(),exit:(0,Le.deferred)(),exitTimeout:(0,Le.deferred)()};const s=Promise.race([e===false?Me:r.closeTimeout.promise,t===false?Me:r.exitTimeout.promise]);configureTimeout(e,r.close,r.closeTimeout);configureTimeout(t,r.exit,r.exitTimeout);return{close(e){n=e;r.close.done()},exit(e){n=e;r.exit.done()},get exitCode(){return n},result:s}}function configureTimeout(e,t,n){if(e===false){return}(e===true?t.promise:t.promise.then((()=>delay(e)))).then(n.done)}return{type:"spawn.after",action(e,t){return __async(this,arguments,(function*(e,{spawned:t,close:n}){var r,s;const i=createEvents();let o=true;let quickClose=()=>void(o=false);(r=t.stdout)==null?void 0:r.on("data",quickClose);(s=t.stderr)==null?void 0:s.on("data",quickClose);t.on("error",quickClose);t.on("close",(e=>i.close(e)));t.on("exit",(e=>i.exit(e)));try{yield i.result;if(o){yield delay(50)}n(i.exitCode)}catch(e){n(i.exitCode,e)}}))}}}var Le,Me;var Re=__esm({"src/lib/plugins/completion-detection.plugin.ts"(){Le=n(7613);W();Me=(0,Le.deferred)().promise}});function isTaskError(e){return!!(e.exitCode&&e.stdErr.length)}function getErrorMessage(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function errorDetectionHandler(e=false,t=isTaskError,n=getErrorMessage){return(r,s)=>{if(!e&&r||!t(s)){return r}return n(s)}}function errorDetectionPlugin(e){return{type:"task.error",action(t,n){const r=e(t.error,{stdErr:n.stdErr,stdOut:n.stdOut,exitCode:n.exitCode});if(Buffer.isBuffer(r)){return{error:new d(void 0,r.toString("utf-8"))}}return{error:r}}}}var $e=__esm({"src/lib/plugins/error-detection.plugin.ts"(){m()}});var Ie;var je=__esm({"src/lib/plugins/plugin-store.ts"(){W();Ie=class{constructor(){this.plugins=new Set}add(e){const t=[];asArray(e).forEach((e=>e&&this.plugins.add(append(t,e))));return()=>{t.forEach((e=>this.plugins.delete(e)))}}exec(e,t,n){let r=t;const s=Object.freeze(Object.create(n));for(const t of this.plugins){if(t.type===e){r=t.action(r,s)}}return r}}}});function progressMonitorPlugin(e){const t="--progress";const n=["checkout","clone","fetch","pull","push"];const r={type:"spawn.after",action(n,r){var s;if(!r.commands.includes(t)){return}(s=r.spawned.stderr)==null?void 0:s.on("data",(t=>{const n=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(t.toString("utf8"));if(!n){return}e({method:r.method,stage:progressEventStage(n[1]),progress:asNumber(n[2]),processed:asNumber(n[3]),total:asNumber(n[4])})}))}};const s={type:"spawn.args",action(e,r){if(!n.includes(r.method)){return e}return including(e,t)}};return[s,r]}function progressEventStage(e){return String(e.toLowerCase().split(" ",1))||"unknown"}var De=__esm({"src/lib/plugins/progress-monitor-plugin.ts"(){W()}});var Fe=__esm({"src/lib/plugins/simple-git-plugin.ts"(){}});function spawnOptionsPlugin(e){const t=pick(e,["uid","gid"]);return{type:"spawn.options",action(e){return __spreadValues(__spreadValues({},t),e)}}}var Be=__esm({"src/lib/plugins/spawn-options-plugin.ts"(){W()}});function timeoutPlugin({block:e}){if(e>0){return{type:"spawn.after",action(t,n){var r,s;let i;function wait(){i&&clearTimeout(i);i=setTimeout(kill,e)}function stop(){var e,t;(e=n.spawned.stdout)==null?void 0:e.off("data",wait);(t=n.spawned.stderr)==null?void 0:t.off("data",wait);n.spawned.off("exit",stop);n.spawned.off("close",stop);i&&clearTimeout(i)}function kill(){stop();n.kill(new w(void 0,"timeout",`block timeout reached`))}(r=n.spawned.stdout)==null?void 0:r.on("data",wait);(s=n.spawned.stderr)==null?void 0:s.on("data",wait);n.spawned.on("exit",stop);n.spawned.on("close",stop);wait()}}}}var qe=__esm({"src/lib/plugins/timout-plugin.ts"(){k()}});var He=__esm({"src/lib/plugins/index.ts"(){xe();Ne();Pe();Re();$e();je();De();Fe();Be();qe()}});function createLog(){return(0,Ue.default)("simple-git")}function prefixedLogger(e,t,n){if(!t||!String(t).replace(/\s*/,"")){return!n?e:(t,...r)=>{e(t,...r);n(t,...r)}}return(r,...s)=>{e(`%s ${r}`,t,...s);if(n){n(r,...s)}}}function childLoggerName(e,t,{namespace:n}){if(typeof e==="string"){return e}const r=t&&t.namespace||"";if(r.startsWith(n)){return r.substr(n.length+1)}return r||n}function createLogger(e,t,n,r=createLog()){const s=e&&`[${e}]`||"";const i=[];const o=typeof t==="string"?r.extend(t):t;const a=childLoggerName(filterType(t,N),o,r);return step(n);function sibling(t,n){return append(i,createLogger(e,a.replace(/^[^:]+/,t),n,r))}function step(t){const n=t&&`[${t}]`||"";const i=o&&prefixedLogger(o,n)||E;const a=prefixedLogger(r,`${s} ${n}`,i);return Object.assign(o?i:a,{label:e,sibling:sibling,info:a,step:step})}}var Ue;var Ge=__esm({"src/lib/git-logger.ts"(){Ue=__toESM(n(8237));W();Ue.default.formatters.L=e=>String(M(e)?e.length:"-");Ue.default.formatters.B=e=>{if(Buffer.isBuffer(e)){return e.toString("utf8")}return T(e)}}});var Ve,Ke;var We=__esm({"src/lib/runners/tasks-pending-queue.ts"(){m();Ge();Ve=class{constructor(e="GitExecutor"){this.logLabel=e;this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){const t=Ve.getName(e.commands[0]);const n=createLogger(this.logLabel,t);return{task:e,logger:n,name:t}}push(e){const t=this.createProgress(e);t.logger("Adding task to the queue, commands = %o",e.commands);this._queue.set(e,t);return t}fatal(e){for(const[t,{logger:n}]of Array.from(this._queue.entries())){if(t===e.task){n.info(`Failed %o`,e);n(`Fatal exception, any as-yet un-started tasks run through this executor will not be attempted`)}else{n.info(`A fatal exception occurred in a previous task, the queue has been purged: %o`,e.message)}this.complete(t)}if(this._queue.size!==0){throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}}complete(e){const t=this.withProgress(e);if(t){this._queue.delete(e)}}attempt(e){const t=this.withProgress(e);if(!t){throw new d(void 0,"TasksPendingQueue: attempt called for an unknown task")}t.logger("Starting task");return t}static getName(e="empty"){return`task:${e}:${++Ve.counter}`}};Ke=Ve;Ke.counter=0}});function pluginContext(e,t){return{method:first(e.commands)||"",commands:t}}function onErrorReceived(e,t){return n=>{t(`[ERROR] child process exception %o`,n);e.push(Buffer.from(String(n.stack),"ascii"))}}function onDataReceived(e,t,n,r){return s=>{n(`%s received %L bytes`,t,s);r(`%B`,s);e.push(s)}}var Ye,Je;var Qe=__esm({"src/lib/runners/git-executor-chain.ts"(){Ye=n(2081);m();oe();W();We();Je=class{constructor(e,t,n){this._executor=e;this._scheduler=t;this._plugins=n;this._chain=Promise.resolve();this._queue=new Ke}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){this._queue.push(e);return this._chain=this._chain.then((()=>this.attemptTask(e)))}attemptTask(e){return __async(this,null,(function*(){const t=yield this._scheduler.next();const onQueueComplete=()=>this._queue.complete(e);try{const{logger:n}=this._queue.attempt(e);return yield isEmptyTask(e)?this.attemptEmptyTask(e,n):this.attemptRemoteTask(e,n)}catch(t){throw this.onFatalException(e,t)}finally{onQueueComplete();t()}}))}onFatalException(e,t){const n=t instanceof d?Object.assign(t,{task:e}):new d(e,t&&String(t));this._chain=Promise.resolve();this._queue.fatal(n);return n}attemptRemoteTask(e,t){return __async(this,null,(function*(){const n=this._plugins.exec("spawn.args",[...e.commands],pluginContext(e,e.commands));const r=yield this.gitResponse(e,this.binary,n,this.outputHandler,t.step("SPAWN"));const s=yield this.handleTaskData(e,n,r,t.step("HANDLE"));t(`passing response to task's parser as a %s`,e.format);if(isBufferTask(e)){return callTaskParser(e.parser,s)}return callTaskParser(e.parser,s.asStrings())}))}attemptEmptyTask(e,t){return __async(this,null,(function*(){t(`empty task bypassing child process to call to task's parser`);return e.parser(this)}))}handleTaskData(e,t,n,r){const{exitCode:s,rejection:i,stdOut:o,stdErr:a}=n;return new Promise(((c,l)=>{r(`Preparing to handle process response exitCode=%d stdOut=`,s);const{error:u}=this._plugins.exec("task.error",{error:i},__spreadValues(__spreadValues({},pluginContext(e,t)),n));if(u&&e.onError){r.info(`exitCode=%s handling with custom error handler`);return e.onError(n,u,(e=>{r.info(`custom error handler treated as success`);r(`custom error returned a %s`,T(e));c(new j(Array.isArray(e)?Buffer.concat(e):e,Buffer.concat(a)))}),l)}if(u){r.info(`handling as error: exitCode=%s stdErr=%s rejection=%o`,s,a.length,i);return l(u)}r.info(`retrieving task output complete`);c(new j(Buffer.concat(o),Buffer.concat(a)))}))}gitResponse(e,t,n,r,s){return __async(this,null,(function*(){const i=s.sibling("output");const o=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:true},pluginContext(e,e.commands));return new Promise((a=>{const c=[];const l=[];s.info(`%s %o`,t,n);s("%O",o);let u=this._beforeSpawn(e,n);if(u){return a({stdOut:c,stdErr:l,exitCode:9901,rejection:u})}this._plugins.exec("spawn.before",void 0,__spreadProps(__spreadValues({},pluginContext(e,n)),{kill(e){u=e||u}}));const f=(0,Ye.spawn)(t,n,o);f.stdout.on("data",onDataReceived(c,"stdOut",s,i.step("stdOut")));f.stderr.on("data",onDataReceived(l,"stdErr",s,i.step("stdErr")));f.on("error",onErrorReceived(l,s));if(r){s(`Passing child process stdOut/stdErr to custom outputHandler`);r(t,f.stdout,f.stderr,[...n])}this._plugins.exec("spawn.after",void 0,__spreadProps(__spreadValues({},pluginContext(e,n)),{spawned:f,close(e,t){a({stdOut:c,stdErr:l,exitCode:e,rejection:u||t})},kill(e){if(f.killed){return}u=e;f.kill("SIGINT")}}))}))}))}_beforeSpawn(e,t){let n;this._plugins.exec("spawn.before",void 0,__spreadProps(__spreadValues({},pluginContext(e,t)),{kill(e){n=e||n}}));return n}}}});var ze={};__export(ze,{GitExecutor:()=>Xe});var Xe;var Ze=__esm({"src/lib/runners/git-executor.ts"(){Qe();Xe=class{constructor(e="git",t,n,r){this.binary=e;this.cwd=t;this._scheduler=n;this._plugins=r;this._chain=new Je(this,this._scheduler,this._plugins)}chain(){return new Je(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});function taskCallback(e,t,n=E){const onSuccess=e=>{n(null,e)};const onError2=t=>{if((t==null?void 0:t.task)===e){n(t instanceof g?addDeprecationNoticeToError(t):t,void 0)}};t.then(onSuccess,onError2)}function addDeprecationNoticeToError(e){let log=e=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${e} should be GitResponseError.git.${e}, this will no longer be available in version 3`);log=E};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce(descriptorReducer,{}));function descriptorReducer(t,n){if(n in e){return t}t[n]={enumerable:false,configurable:false,get(){log(n);return e.git[n]}};return t}}var et=__esm({"src/lib/task-callback.ts"(){y();W()}});function changeWorkingDirectoryTask(e,t){return adhocExecTask((n=>{if(!folderExists(e)){throw new Error(`Git.cwd: cannot change to non-directory "${e}"`)}return(t||n).cwd=e}))}var tt=__esm({"src/lib/tasks/change-working-directory.ts"(){W();oe()}});function checkoutTask(e){const t=["checkout",...e];if(t[1]==="-b"&&t.includes("-B")){t[1]=remove(t,"-B")}return straightThroughStringTask(t)}function checkout_default(){return{checkout(){return this._runTask(checkoutTask(getTrailingOptions(arguments,1)),trailingFunctionArgument(arguments))},checkoutBranch(e,t){return this._runTask(checkoutTask(["-b",e,t,...getTrailingOptions(arguments)]),trailingFunctionArgument(arguments))},checkoutLocalBranch(e){return this._runTask(checkoutTask(["-b",e,...getTrailingOptions(arguments)]),trailingFunctionArgument(arguments))}}}var nt=__esm({"src/lib/tasks/checkout.ts"(){W();oe()}});function parseCommitResult(e){const t={author:null,branch:"",commit:"",root:false,summary:{changes:0,insertions:0,deletions:0}};return parseStringResponse(t,rt,e)}var rt;var st=__esm({"src/lib/parsers/parse-commit.ts"(){W();rt=[new F(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,((e,[t,n,r])=>{e.branch=t;e.commit=r;e.root=!!n})),new F(/\s*Author:\s(.+)/i,((e,[t])=>{const n=t.split("<");const r=n.pop();if(!r||!r.includes("@")){return}e.author={email:r.substr(0,r.length-1),name:n.join("<").trim()}})),new F(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,((e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0;e.summary.insertions=parseInt(n,10)||0;e.summary.deletions=parseInt(r,10)||0})),new F(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,((e,[t,n,r])=>{e.summary.changes=parseInt(t,10)||0;const s=parseInt(n,10)||0;if(r==="-"){e.summary.deletions=s}else if(r==="+"){e.summary.insertions=s}}))]}});function commitTask(e,t,n){const r=["-c","core.abbrev=40","commit",...prefixedArray(e,"-m"),...t,...n];return{commands:r,format:"utf-8",parser:parseCommitResult}}function commit_default(){return{commit(e,...t){const n=trailingFunctionArgument(arguments);const r=rejectDeprecatedSignatures(e)||commitTask(asArray(e),asArray(filterType(t[0],L,[])),[...filterType(t[1],x,[]),...getTrailingOptions(arguments,0,true)]);return this._runTask(r,n)}};function rejectDeprecatedSignatures(e){return!L(e)&&configurationErrorTask(`git.commit: requires the commit message to be supplied as a string/string[]`)}}var it=__esm({"src/lib/tasks/commit.ts"(){st();W();oe()}});function hashObjectTask(e,t){const n=["hash-object",e];if(t){n.push("-w")}return straightThroughStringTask(n,true)}var ot=__esm({"src/lib/tasks/hash-object.ts"(){oe()}});function parseInit(e,t,n){const r=String(n).trim();let s;if(s=ct.exec(r)){return new at(e,t,false,s[1])}if(s=lt.exec(r)){return new at(e,t,true,s[1])}let i="";const o=r.split(" ");while(o.length){const e=o.shift();if(e==="in"){i=o.join(" ");break}}return new at(e,t,/^re/i.test(r),i)}var at,ct,lt;var ut=__esm({"src/lib/responses/InitSummary.ts"(){at=class{constructor(e,t,n,r){this.bare=e;this.path=t;this.existing=n;this.gitDir=r}};ct=/^Init.+ repository in (.+)$/;lt=/^Rein.+ in (.+)$/}});function hasBareCommand(e){return e.includes(ft)}function initTask(e=false,t,n){const r=["init",...n];if(e&&!hasBareCommand(r)){r.splice(1,0,ft)}return{commands:r,format:"utf-8",parser(e){return parseInit(r.includes("--bare"),t,e)}}}var ft;var ht=__esm({"src/lib/tasks/init.ts"(){ut();ft="--bare"}});function logFormatFromCommand(e){for(let t=0;t<e.length;t++){const n=pt.exec(e[t]);if(n){return`--${n[1]}`}}return""}function isLogFormat(e){return pt.test(e)}var pt;var dt=__esm({"src/lib/args/log-format.ts"(){pt=/^--(stat|numstat|name-only|name-status)(=|$)/}});var mt;var gt=__esm({"src/lib/responses/DiffSummary.ts"(){mt=class{constructor(){this.changed=0;this.deletions=0;this.insertions=0;this.files=[]}}}});function getDiffParser(e=""){const t=kt[e];return e=>parseStringResponse(new mt,t,e,false)}var yt,vt,bt,wt,kt;var _t=__esm({"src/lib/parsers/parse-diff-summary.ts"(){dt();gt();W();yt=[new F(/(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,((e,[t,n,r=""])=>{e.files.push({file:t.trim(),changes:asNumber(n),insertions:r.replace(/[^+]/g,"").length,deletions:r.replace(/[^-]/g,"").length,binary:false})})),new F(/(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,((e,[t,n,r])=>{e.files.push({file:t.trim(),before:asNumber(n),after:asNumber(r),binary:true})})),new F(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,((e,[t,n])=>{const r=/(\d+) i/.exec(n);const s=/(\d+) d/.exec(n);e.changed=asNumber(t);e.insertions=asNumber(r==null?void 0:r[1]);e.deletions=asNumber(s==null?void 0:s[1])}))];vt=[new F(/(\d+)\t(\d+)\t(.+)$/,((e,[t,n,r])=>{const s=asNumber(t);const i=asNumber(n);e.changed++;e.insertions+=s;e.deletions+=i;e.files.push({file:r,changes:s+i,insertions:s,deletions:i,binary:false})})),new F(/-\t-\t(.+)$/,((e,[t])=>{e.changed++;e.files.push({file:t,after:0,before:0,binary:true})}))];bt=[new F(/(.+)$/,((e,[t])=>{e.changed++;e.files.push({file:t,changes:0,insertions:0,deletions:0,binary:false})}))];wt=[new F(/([ACDMRTUXB])\s*(.+)$/,((e,[t,n])=>{e.changed++;e.files.push({file:n,changes:0,insertions:0,deletions:0,binary:false})}))];kt={[""]:yt,["--stat"]:yt,["--numstat"]:vt,["--name-status"]:wt,["--name-only"]:bt}}});function lineBuilder(e,t){return t.reduce(((t,n,r)=>{t[n]=e[r]||"";return t}),Object.create({diff:null}))}function createListLogSummaryParser(e=Ot,t=Et,n=""){const r=getDiffParser(n);return function(n){const s=toLinesWithContent(n,true,Ct).map((function(n){const s=n.trim().split(St);const i=lineBuilder(s[0].trim().split(e),t);if(s.length>1&&!!s[1].trim()){i.diff=r(s[1])}return i}));return{all:s,latest:s.length&&s[0]||null,total:s.length}}}var Ct,St,Ot,Et;var Tt=__esm({"src/lib/parsers/parse-list-log-summary.ts"(){W();_t();dt();Ct="òòòòòò ";St=" òò";Ot=" ò ";Et=["hash","date","message","refs","author_name","author_email"]}});var At={};__export(At,{diffSummaryTask:()=>diffSummaryTask,validateLogFormatConfig:()=>validateLogFormatConfig});function diffSummaryTask(e){let t=logFormatFromCommand(e);const n=["diff"];if(t===""){t="--stat";n.push("--stat=4096")}n.push(...e);return validateLogFormatConfig(n)||{commands:n,format:"utf-8",parser:getDiffParser(t)}}function validateLogFormatConfig(e){const t=e.filter(isLogFormat);if(t.length>1){return configurationErrorTask(`Summary flags are mutually exclusive - pick one of ${t.join(",")}`)}if(t.length&&e.includes("-z")){return configurationErrorTask(`Summary flag ${t} parsing is not compatible with null termination option '-z'`)}}var xt=__esm({"src/lib/tasks/diff.ts"(){dt();_t();oe()}});function prettyFormat(e,t){const n=[];const r=[];Object.keys(e).forEach((t=>{n.push(t);r.push(String(e[t]))}));return[n,r.join(t)]}function userOptions(e){return Object.keys(e).reduce(((t,n)=>{if(!(n in Nt)){t[n]=e[n]}return t}),{})}function parseLogOptions(e={},t=[]){const n=filterType(e.splitter,N,Ot);const r=!filterPrimitives(e.format)&&e.format?e.format:{hash:"%H",date:e.strictDate===false?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:e.mailMap!==false?"%aN":"%an",author_email:e.mailMap!==false?"%aE":"%ae"};const[s,i]=prettyFormat(r,n);const o=[];const a=[`--pretty=format:${Ct}${i}${St}`,...t];const c=e.n||e["max-count"]||e.maxCount;if(c){a.push(`--max-count=${c}`)}if(e.from||e.to){const t=e.symmetric!==false?"...":"..";o.push(`${e.from||""}${t}${e.to||""}`)}if(N(e.file)){o.push("--follow",e.file)}appendTaskOptions(userOptions(e),a);return{fields:s,splitter:n,commands:[...a,...o]}}function logTask(e,t,n){const r=createListLogSummaryParser(e,t,logFormatFromCommand(n));return{commands:["log",...n],format:"utf-8",parser:r}}function log_default(){return{log(...e){const t=trailingFunctionArgument(arguments);const n=parseLogOptions(trailingOptionsArgument(arguments),filterType(arguments[0],x));const r=rejectDeprecatedSignatures(...e)||validateLogFormatConfig(n.commands)||createLogTask(n);return this._runTask(r,t)}};function createLogTask(e){return logTask(e.splitter,e.fields,e.commands)}function rejectDeprecatedSignatures(e,t){return N(e)&&N(t)&&configurationErrorTask(`git.log(string, string) should be replaced with git.log({ from: string, to: string })`)}}var Nt;var Pt=__esm({"src/lib/tasks/log.ts"(){dt();Tt();W();oe();xt();Nt=(e=>{e[e["--pretty"]=0]="--pretty";e[e["max-count"]=1]="max-count";e[e["maxCount"]=2]="maxCount";e[e["n"]=3]="n";e[e["file"]=4]="file";e[e["format"]=5]="format";e[e["from"]=6]="from";e[e["to"]=7]="to";e[e["splitter"]=8]="splitter";e[e["symmetric"]=9]="symmetric";e[e["mailMap"]=10]="mailMap";e[e["multiLine"]=11]="multiLine";e[e["strictDate"]=12]="strictDate";return e})(Nt||{})}});var Lt,Mt;var Rt=__esm({"src/lib/responses/MergeSummary.ts"(){Lt=class{constructor(e,t=null,n){this.reason=e;this.file=t;this.meta=n}toString(){return`${this.file}:${this.reason}`}};Mt=class{constructor(){this.conflicts=[];this.merges=[];this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){if(this.conflicts.length){return`CONFLICTS: ${this.conflicts.join(", ")}`}return"OK"}}}});var $t,It;var jt=__esm({"src/lib/responses/PullSummary.ts"(){$t=class{constructor(){this.remoteMessages={all:[]};this.created=[];this.deleted=[];this.files=[];this.deletions={};this.insertions={};this.summary={changes:0,deletions:0,insertions:0}}};It=class{constructor(){this.remote="";this.hash={local:"",remote:""};this.branch={local:"",remote:""};this.message=""}toString(){return this.message}}}});function objectEnumerationResult(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function asObjectCount(e){const t=/^\s*(\d+)/.exec(e);const n=/delta (\d+)/i.exec(e);return{count:asNumber(t&&t[1]||"0"),delta:asNumber(n&&n[1]||"0")}}var Dt;var Ft=__esm({"src/lib/parsers/parse-remote-objects.ts"(){W();Dt=[new B(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,((e,[t,n])=>{const r=t.toLowerCase();const s=objectEnumerationResult(e.remoteMessages);Object.assign(s,{[r]:asNumber(n)})})),new B(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,((e,[t,n])=>{const r=t.toLowerCase();const s=objectEnumerationResult(e.remoteMessages);Object.assign(s,{[r]:asNumber(n)})})),new B(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,((e,[t,n,r])=>{const s=objectEnumerationResult(e.remoteMessages);s.total=asObjectCount(t);s.reused=asObjectCount(n);s.packReused=asNumber(r)}))]}});function parseRemoteMessages(e,t){return parseStringResponse({remoteMessages:new qt},Bt,t)}var Bt,qt;var Ht=__esm({"src/lib/parsers/parse-remote-messages.ts"(){W();Ft();Bt=[new B(/^remote:\s*(.+)$/,((e,[t])=>{e.remoteMessages.all.push(t.trim());return false})),...Dt,new B([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],((e,[t])=>{e.remoteMessages.pullRequestUrl=t})),new B([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],((e,[t,n,r])=>{e.remoteMessages.vulnerabilities={count:asNumber(t),summary:n,url:r}}))];qt=class{constructor(){this.all=[]}}}});function parsePullErrorResult(e,t){const n=parseStringResponse(new It,Wt,[e,t]);return n.message&&n}var Ut,Gt,Vt,Kt,Wt,Yt,Jt;var Qt=__esm({"src/lib/parsers/parse-pull.ts"(){jt();W();Ht();Ut=/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/;Gt=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/;Vt=/^(create|delete) mode \d+ (.+)/;Kt=[new F(Ut,((e,[t,n,r])=>{e.files.push(t);if(n){e.insertions[t]=n.length}if(r){e.deletions[t]=r.length}})),new F(Gt,((e,[t,,n,,r])=>{if(n!==void 0||r!==void 0){e.summary.changes=+t||0;e.summary.insertions=+n||0;e.summary.deletions=+r||0;return true}return false})),new F(Vt,((e,[t,n])=>{append(e.files,n);append(t==="create"?e.created:e.deleted,n)}))];Wt=[new F(/^from\s(.+)$/i,((e,[t])=>void(e.remote=t))),new F(/^fatal:\s(.+)$/,((e,[t])=>void(e.message=t))),new F(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,((e,[t,n,r,s])=>{e.branch.local=r;e.hash.local=t;e.branch.remote=s;e.hash.remote=n}))];Yt=(e,t)=>parseStringResponse(new $t,Kt,[e,t]);Jt=(e,t)=>Object.assign(new $t,Yt(e,t),parseRemoteMessages(e,t))}});var zt,Xt,Zt;var en=__esm({"src/lib/parsers/parse-merge.ts"(){Rt();W();Qt();zt=[new F(/^Auto-merging\s+(.+)$/,((e,[t])=>{e.merges.push(t)})),new F(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,((e,[t,n])=>{e.conflicts.push(new Lt(t,n))})),new F(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,((e,[t,n,r])=>{e.conflicts.push(new Lt(t,n,{deleteRef:r}))})),new F(/^CONFLICT\s+\((.+)\):/,((e,[t])=>{e.conflicts.push(new Lt(t,null))})),new F(/^Automatic merge failed;\s+(.+)$/,((e,[t])=>{e.result=t}))];Xt=(e,t)=>Object.assign(Zt(e,t),Jt(e,t));Zt=e=>parseStringResponse(new Mt,zt,e)}});function mergeTask(e){if(!e.length){return configurationErrorTask("Git.merge requires at least one option")}return{commands:["merge",...e],format:"utf-8",parser(e,t){const n=Xt(e,t);if(n.failed){throw new g(n)}return n}}}var tn=__esm({"src/lib/tasks/merge.ts"(){y();en();oe()}});function pushResultPushedItem(e,t,n){const r=n.includes("deleted");const s=n.includes("tag")||/^refs\/tags/.test(e);const i=!n.includes("new");return{deleted:r,tag:s,branch:!s,new:!i,alreadyUpdated:i,local:e,remote:t}}var nn,rn,sn;var on=__esm({"src/lib/parsers/parse-push.ts"(){W();Ht();nn=[new F(/^Pushing to (.+)$/,((e,[t])=>{e.repo=t})),new F(/^updating local tracking ref '(.+)'/,((e,[t])=>{e.ref=__spreadProps(__spreadValues({},e.ref||{}),{local:t})})),new F(/^[*-=]\s+([^:]+):(\S+)\s+\[(.+)]$/,((e,[t,n,r])=>{e.pushed.push(pushResultPushedItem(t,n,r))})),new F(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,((e,[t,n,r])=>{e.branch=__spreadProps(__spreadValues({},e.branch||{}),{local:t,remote:n,remoteName:r})})),new F(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,((e,[t,n,r,s])=>{e.update={head:{local:t,remote:n},hash:{from:r,to:s}}}))];rn=(e,t)=>{const n=sn(e,t);const r=parseRemoteMessages(e,t);return __spreadValues(__spreadValues({},n),r)};sn=(e,t)=>parseStringResponse({pushed:[]},nn,[e,t])}});var an={};__export(an,{pushTagsTask:()=>pushTagsTask,pushTask:()=>pushTask});function pushTagsTask(e={},t){append(t,"--tags");return pushTask(e,t)}function pushTask(e={},t){const n=["push",...t];if(e.branch){n.splice(1,0,e.branch)}if(e.remote){n.splice(1,0,e.remote)}remove(n,"-v");append(n,"--verbose");append(n,"--porcelain");return{commands:n,format:"utf-8",parser:rn}}var cn=__esm({"src/lib/tasks/push.ts"(){on();W()}});var ln,un;var fn=__esm({"src/lib/responses/FileStatusSummary.ts"(){ln=/^(.+) -> (.+)$/;un=class{constructor(e,t,n){this.path=e;this.index=t;this.working_dir=n;if(t+n==="R"){const t=ln.exec(e)||[null,e,e];this.from=t[1]||"";this.path=t[2]||""}}}}});function renamedFile(e){const[t,n]=e.split(O);return{from:n||t,to:t}}function parser2(e,t,n){return[`${e}${t}`,n]}function conflicts(e,...t){return t.map((t=>parser2(e,t,((e,t)=>append(e.conflicted,t)))))}function splitLine(e,t){const n=t.trim();switch(" "){case n.charAt(2):return data(n.charAt(0),n.charAt(1),n.substr(3));case n.charAt(1):return data(" ",n.charAt(0),n.substr(2));default:return}function data(t,n,r){const s=`${t}${n}`;const i=pn.get(s);if(i){i(e,r)}if(s!=="##"&&s!=="!!"){e.files.push(new un(r.replace(/\0.+$/,""),t,n))}}}var hn,pn,dn;var mn=__esm({"src/lib/responses/StatusSummary.ts"(){W();fn();hn=class{constructor(){this.not_added=[];this.conflicted=[];this.created=[];this.deleted=[];this.ignored=void 0;this.modified=[];this.renamed=[];this.files=[];this.staged=[];this.ahead=0;this.behind=0;this.current=null;this.tracking=null;this.detached=false;this.isClean=()=>!this.files.length}};pn=new Map([parser2(" ","A",((e,t)=>append(e.created,t))),parser2(" ","D",((e,t)=>append(e.deleted,t))),parser2(" ","M",((e,t)=>append(e.modified,t))),parser2("A"," ",((e,t)=>append(e.created,t)&&append(e.staged,t))),parser2("A","M",((e,t)=>append(e.created,t)&&append(e.staged,t)&&append(e.modified,t))),parser2("D"," ",((e,t)=>append(e.deleted,t)&&append(e.staged,t))),parser2("M"," ",((e,t)=>append(e.modified,t)&&append(e.staged,t))),parser2("M","M",((e,t)=>append(e.modified,t)&&append(e.staged,t))),parser2("R"," ",((e,t)=>{append(e.renamed,renamedFile(t))})),parser2("R","M",((e,t)=>{const n=renamedFile(t);append(e.renamed,n);append(e.modified,n.to)})),parser2("!","!",((e,t)=>{append(e.ignored=e.ignored||[],t)})),parser2("?","?",((e,t)=>append(e.not_added,t))),...conflicts("A","A","U"),...conflicts("D","D","U"),...conflicts("U","A","D","U"),["##",(e,t)=>{const n=/ahead (\d+)/;const r=/behind (\d+)/;const s=/^(.+?(?=(?:\.{3}|\s|$)))/;const i=/\.{3}(\S*)/;const o=/\son\s([\S]+)$/;let a;a=n.exec(t);e.ahead=a&&+a[1]||0;a=r.exec(t);e.behind=a&&+a[1]||0;a=s.exec(t);e.current=a&&a[1];a=i.exec(t);e.tracking=a&&a[1];a=o.exec(t);e.current=a&&a[1]||e.current;e.detached=/\(no branch\)/.test(t)}]]);dn=function(e){const t=e.split(O);const n=new hn;for(let e=0,r=t.length;e<r;){let r=t[e++].trim();if(!r){continue}if(r.charAt(0)==="R"){r+=O+(t[e++]||"")}splitLine(n,r)}return n}}});function statusTask(e){const t=["status","--porcelain","-b","-u","--null",...e.filter((e=>!gn.includes(e)))];return{format:"utf-8",commands:t,parser(e){return dn(e)}}}var gn;var yn=__esm({"src/lib/tasks/status.ts"(){mn();gn=["--null","-z"]}});function versionResponse(e=0,t=0,n=0,r="",s=true){return Object.defineProperty({major:e,minor:t,patch:n,agent:r,installed:s},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:false,enumerable:false})}function notInstalledResponse(){return versionResponse(0,0,0,"",false)}function version_default(){return{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:versionParser,onError(e,t,n,r){if(e.exitCode===-2){return n(Buffer.from(vn))}r(t)}})}}}function versionParser(e){if(e===vn){return notInstalledResponse()}return parseStringResponse(versionResponse(0,0,0,e),bn,e)}var vn,bn;var wn=__esm({"src/lib/tasks/version.ts"(){W();vn="installed=false";bn=[new F(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,((e,[t,n,r,s=""])=>{Object.assign(e,versionResponse(asNumber(t),asNumber(n),asNumber(r),s))})),new F(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,((e,[t,n,r,s=""])=>{Object.assign(e,versionResponse(asNumber(t),asNumber(n),r,s))}))]}});var kn={};__export(kn,{SimpleGitApi:()=>_n});var _n;var Cn=__esm({"src/lib/simple-git-api.ts"(){et();tt();nt();it();ye();_e();ot();ht();Pt();tn();cn();yn();oe();wn();W();_n=class{constructor(e){this._executor=e}_runTask(e,t){const n=this._executor.chain();const r=n.push(e);if(t){taskCallback(e,r,t)}return Object.create(this,{then:{value:r.then.bind(r)},catch:{value:r.catch.bind(r)},_executor:{value:n}})}add(e){return this._runTask(straightThroughStringTask(["add",...asArray(e)]),trailingFunctionArgument(arguments))}cwd(e){const t=trailingFunctionArgument(arguments);if(typeof e==="string"){return this._runTask(changeWorkingDirectoryTask(e,this._executor),t)}if(typeof(e==null?void 0:e.path)==="string"){return this._runTask(changeWorkingDirectoryTask(e.path,e.root&&this._executor||void 0),t)}return this._runTask(configurationErrorTask("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(hashObjectTask(e,t===true),trailingFunctionArgument(arguments))}init(e){return this._runTask(initTask(e===true,this._executor.cwd,getTrailingOptions(arguments)),trailingFunctionArgument(arguments))}merge(){return this._runTask(mergeTask(getTrailingOptions(arguments)),trailingFunctionArgument(arguments))}mergeFromTo(e,t){if(!(N(e)&&N(t))){return this._runTask(configurationErrorTask(`Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings`))}return this._runTask(mergeTask([e,t,...getTrailingOptions(arguments)]),trailingFunctionArgument(arguments,false))}outputHandler(e){this._executor.outputHandler=e;return this}push(){const e=pushTask({remote:filterType(arguments[0],N),branch:filterType(arguments[1],N)},getTrailingOptions(arguments));return this._runTask(e,trailingFunctionArgument(arguments))}stash(){return this._runTask(straightThroughStringTask(["stash",...getTrailingOptions(arguments)]),trailingFunctionArgument(arguments))}status(){return this._runTask(statusTask(getTrailingOptions(arguments)),trailingFunctionArgument(arguments))}};Object.assign(_n.prototype,checkout_default(),commit_default(),config_default(),grep_default(),log_default(),version_default())}});var Sn={};__export(Sn,{Scheduler:()=>Tn});var On,En,Tn;var An=__esm({"src/lib/runners/scheduler.ts"(){W();On=n(7613);Ge();En=(()=>{let e=0;return()=>{e++;const{promise:t,done:n}=(0,On.createDeferred)();return{promise:t,done:n,id:e}}})();Tn=class{constructor(e=2){this.concurrency=e;this.logger=createLogger("","scheduler");this.pending=[];this.running=[];this.logger(`Constructed, concurrency=%s`,e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency){this.logger(`Schedule attempt ignored, pending=%s running=%s concurrency=%s`,this.pending.length,this.running.length,this.concurrency);return}const e=append(this.running,this.pending.shift());this.logger(`Attempting id=%s`,e.id);e.done((()=>{this.logger(`Completing id=`,e.id);remove(this.running,e);this.schedule()}))}next(){const{promise:e,id:t}=append(this.pending,En());this.logger(`Scheduling id=%s`,t);this.schedule();return e}}}});var xn={};__export(xn,{applyPatchTask:()=>applyPatchTask});function applyPatchTask(e,t){return straightThroughStringTask(["apply",...t,...e])}var Nn=__esm({"src/lib/tasks/apply-patch.ts"(){oe()}});function branchDeletionSuccess(e,t){return{branch:e,hash:t,success:true}}function branchDeletionFailure(e){return{branch:e,hash:null,success:false}}var Pn;var Ln=__esm({"src/lib/responses/BranchDeleteSummary.ts"(){Pn=class{constructor(){this.all=[];this.branches={};this.errors=[]}get success(){return!this.errors.length}}}});function hasBranchDeletionError(e,t){return t===1&&Rn.test(e)}var Mn,Rn,$n,In;var jn=__esm({"src/lib/parsers/parse-branch-delete.ts"(){Ln();W();Mn=/(\S+)\s+\(\S+\s([^)]+)\)/;Rn=/^error[^']+'([^']+)'/m;$n=[new F(Mn,((e,[t,n])=>{const r=branchDeletionSuccess(t,n);e.all.push(r);e.branches[t]=r})),new F(Rn,((e,[t])=>{const n=branchDeletionFailure(t);e.errors.push(n);e.all.push(n);e.branches[t]=n}))];In=(e,t)=>parseStringResponse(new Pn,$n,[e,t])}});var Dn;var Fn=__esm({"src/lib/responses/BranchSummary.ts"(){Dn=class{constructor(){this.all=[];this.branches={};this.current="";this.detached=false}push(e,t,n,r,s){if(e==="*"){this.detached=t;this.current=n}this.all.push(n);this.branches[n]={current:e==="*",linkedWorkTree:e==="+",name:n,commit:r,label:s}}}}});function branchStatus(e){return e?e.charAt(0):""}function parseBranchSummary(e){return parseStringResponse(new Dn,Bn,e)}var Bn;var qn=__esm({"src/lib/parsers/parse-branch.ts"(){Fn();W();Bn=[new F(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,((e,[t,n,r,s])=>{e.push(branchStatus(t),true,n,r,s)})),new F(/^([*+]\s)?(\S+)\s+([a-z0-9]+)\s?(.*)$/s,((e,[t,n,r,s])=>{e.push(branchStatus(t),false,n,r,s)}))]}});var Hn={};__export(Hn,{branchLocalTask:()=>branchLocalTask,branchTask:()=>branchTask,containsDeleteBranchCommand:()=>containsDeleteBranchCommand,deleteBranchTask:()=>deleteBranchTask,deleteBranchesTask:()=>deleteBranchesTask});function containsDeleteBranchCommand(e){const t=["-d","-D","--delete"];return e.some((e=>t.includes(e)))}function branchTask(e){const t=containsDeleteBranchCommand(e);const n=["branch",...e];if(n.length===1){n.push("-a")}if(!n.includes("-v")){n.splice(1,0,"-v")}return{format:"utf-8",commands:n,parser(e,n){if(t){return In(e,n).all[0]}return parseBranchSummary(e)}}}function branchLocalTask(){const e=parseBranchSummary;return{format:"utf-8",commands:["branch","-v"],parser:e}}function deleteBranchesTask(e,t=false){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser(e,t){return In(e,t)},onError({exitCode:e,stdOut:t},n,r,s){if(!hasBranchDeletionError(String(n),e)){return s(n)}r(t)}}}function deleteBranchTask(e,t=false){const n={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser(t,n){return In(t,n).branches[e]},onError({exitCode:e,stdErr:t,stdOut:r},s,i,o){if(!hasBranchDeletionError(String(s),e)){return o(s)}throw new g(n.parser(bufferToString(r),bufferToString(t)),String(s))}};return n}var Un=__esm({"src/lib/tasks/branch.ts"(){y();jn();qn();W()}});var Gn;var Vn=__esm({"src/lib/responses/CheckIgnore.ts"(){Gn=e=>e.split(/\n/g).map((e=>e.trim())).filter((e=>!!e))}});var Kn={};__export(Kn,{checkIgnoreTask:()=>checkIgnoreTask});function checkIgnoreTask(e){return{commands:["check-ignore",...e],format:"utf-8",parser:Gn}}var Wn=__esm({"src/lib/tasks/check-ignore.ts"(){Vn()}});var Yn={};__export(Yn,{cloneMirrorTask:()=>cloneMirrorTask,cloneTask:()=>cloneTask});function disallowedCommand(e){return/^--upload-pack(=|$)/.test(e)}function cloneTask(e,t,n){const r=["clone",...n];N(e)&&r.push(e);N(t)&&r.push(t);const s=r.find(disallowedCommand);if(s){return configurationErrorTask(`git.fetch: potential exploit argument blocked.`)}return straightThroughStringTask(r)}function cloneMirrorTask(e,t,n){append(n,"--mirror");return cloneTask(e,t,n)}var Jn=__esm({"src/lib/tasks/clone.ts"(){oe();W()}});function parseFetchResult(e,t){const n={raw:e,remote:null,branches:[],tags:[],updated:[],deleted:[]};return parseStringResponse(n,Qn,[e,t])}var Qn;var zn=__esm({"src/lib/parsers/parse-fetch.ts"(){W();Qn=[new F(/From (.+)$/,((e,[t])=>{e.remote=t})),new F(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,((e,[t,n])=>{e.branches.push({name:t,tracking:n})})),new F(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,((e,[t,n])=>{e.tags.push({name:t,tracking:n})})),new F(/- \[deleted]\s+\S+\s*-> (.+)$/,((e,[t])=>{e.deleted.push({tracking:t})})),new F(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,((e,[t,n,r,s])=>{e.updated.push({name:r,tracking:s,to:n,from:t})}))]}});var Xn={};__export(Xn,{fetchTask:()=>fetchTask});function disallowedCommand2(e){return/^--upload-pack(=|$)/.test(e)}function fetchTask(e,t,n){const r=["fetch",...n];if(e&&t){r.push(e,t)}const s=r.find(disallowedCommand2);if(s){return configurationErrorTask(`git.fetch: potential exploit argument blocked.`)}return{commands:r,format:"utf-8",parser:parseFetchResult}}var Zn=__esm({"src/lib/tasks/fetch.ts"(){zn();oe()}});function parseMoveResult(e){return parseStringResponse({moves:[]},er,e)}var er;var tr=__esm({"src/lib/parsers/parse-move.ts"(){W();er=[new F(/^Renaming (.+) to (.+)$/,((e,[t,n])=>{e.moves.push({from:t,to:n})}))]}});var nr={};__export(nr,{moveTask:()=>moveTask});function moveTask(e,t){return{commands:["mv","-v",...asArray(e),t],format:"utf-8",parser:parseMoveResult}}var rr=__esm({"src/lib/tasks/move.ts"(){tr();W()}});var sr={};__export(sr,{pullTask:()=>pullTask});function pullTask(e,t,n){const r=["pull",...n];if(e&&t){r.splice(1,0,e,t)}return{commands:r,format:"utf-8",parser(e,t){return Jt(e,t)},onError(e,t,n,r){const s=parsePullErrorResult(bufferToString(e.stdOut),bufferToString(e.stdErr));if(s){return r(new g(s))}r(t)}}}var ir=__esm({"src/lib/tasks/pull.ts"(){y();Qt();W()}});function parseGetRemotes(e){const t={};forEach(e,(([e])=>t[e]={name:e}));return Object.values(t)}function parseGetRemotesVerbose(e){const t={};forEach(e,(([e,n,r])=>{if(!t.hasOwnProperty(e)){t[e]={name:e,refs:{fetch:"",push:""}}}if(r&&n){t[e].refs[r.replace(/[^a-z]/g,"")]=n}}));return Object.values(t)}function forEach(e,t){forEachLineWithContent(e,(e=>t(e.split(/\s+/))))}var or=__esm({"src/lib/responses/GetRemoteSummary.ts"(){W()}});var ar={};__export(ar,{addRemoteTask:()=>addRemoteTask,getRemotesTask:()=>getRemotesTask,listRemotesTask:()=>listRemotesTask,remoteTask:()=>remoteTask,removeRemoteTask:()=>removeRemoteTask});function addRemoteTask(e,t,n=[]){return straightThroughStringTask(["remote","add",...n,e,t])}function getRemotesTask(e){const t=["remote"];if(e){t.push("-v")}return{commands:t,format:"utf-8",parser:e?parseGetRemotesVerbose:parseGetRemotes}}function listRemotesTask(e=[]){const t=[...e];if(t[0]!=="ls-remote"){t.unshift("ls-remote")}return straightThroughStringTask(t)}function remoteTask(e=[]){const t=[...e];if(t[0]!=="remote"){t.unshift("remote")}return straightThroughStringTask(t)}function removeRemoteTask(e){return straightThroughStringTask(["remote","remove",e])}var cr=__esm({"src/lib/tasks/remote.ts"(){or();oe()}});var lr={};__export(lr,{stashListTask:()=>stashListTask});function stashListTask(e={},t){const n=parseLogOptions(e);const r=["stash","list",...n.commands,...t];const s=createListLogSummaryParser(n.splitter,n.fields,logFormatFromCommand(r));return validateLogFormatConfig(r)||{commands:r,format:"utf-8",parser:s}}var ur=__esm({"src/lib/tasks/stash-list.ts"(){dt();Tt();xt();Pt()}});var fr={};__export(fr,{addSubModuleTask:()=>addSubModuleTask,initSubModuleTask:()=>initSubModuleTask,subModuleTask:()=>subModuleTask,updateSubModuleTask:()=>updateSubModuleTask});function addSubModuleTask(e,t){return subModuleTask(["add",e,t])}function initSubModuleTask(e){return subModuleTask(["init",...e])}function subModuleTask(e){const t=[...e];if(t[0]!=="submodule"){t.unshift("submodule")}return straightThroughStringTask(t)}function updateSubModuleTask(e){return subModuleTask(["update",...e])}var hr=__esm({"src/lib/tasks/sub-module.ts"(){oe()}});function singleSorted(e,t){const n=isNaN(e);const r=isNaN(t);if(n!==r){return n?1:-1}return n?sorted(e,t):0}function sorted(e,t){return e===t?0:e>t?1:-1}function trimmed(e){return e.trim()}function toNumber(e){if(typeof e==="string"){return parseInt(e.replace(/^\D+/g,""),10)||0}return 0}var pr,dr;var mr=__esm({"src/lib/responses/TagList.ts"(){pr=class{constructor(e,t){this.all=e;this.latest=t}};dr=function(e,t=false){const n=e.split("\n").map(trimmed).filter(Boolean);if(!t){n.sort((function(e,t){const n=e.split(".");const r=t.split(".");if(n.length===1||r.length===1){return singleSorted(toNumber(n[0]),toNumber(r[0]))}for(let e=0,t=Math.max(n.length,r.length);e<t;e++){const t=sorted(toNumber(n[e]),toNumber(r[e]));if(t){return t}}return 0}))}const r=t?n[0]:[...n].reverse().find((e=>e.indexOf(".")>=0));return new pr(n,r)}}});var gr={};__export(gr,{addAnnotatedTagTask:()=>addAnnotatedTagTask,addTagTask:()=>addTagTask,tagListTask:()=>tagListTask});function tagListTask(e=[]){const t=e.some((e=>/^--sort=/.test(e)));return{format:"utf-8",commands:["tag","-l",...e],parser(e){return dr(e,t)}}}function addTagTask(e){return{format:"utf-8",commands:["tag",e],parser(){return{name:e}}}}function addAnnotatedTagTask(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser(){return{name:e}}}}var yr=__esm({"src/lib/tasks/tag.ts"(){mr()}});var vr=__commonJS({"src/git.js"(e,t){var{GitExecutor:n}=(Ze(),p(ze));var{SimpleGitApi:r}=(Cn(),p(kn));var{Scheduler:s}=(An(),p(Sn));var{configurationErrorTask:i}=(oe(),p(se));var{asArray:o,filterArray:a,filterPrimitives:c,filterString:l,filterStringOrStringArray:u,filterType:f,getTrailingOptions:h,trailingFunctionArgument:d,trailingOptionsArgument:m}=(W(),p(K));var{applyPatchTask:g}=(Nn(),p(xn));var{branchTask:y,branchLocalTask:v,deleteBranchesTask:b,deleteBranchTask:w}=(Un(),p(Hn));var{checkIgnoreTask:k}=(Wn(),p(Kn));var{checkIsRepoTask:_}=(X(),p(Y));var{cloneTask:C,cloneMirrorTask:S}=(Jn(),p(Yn));var{cleanWithOptionsTask:O,isCleanOptionsArray:E}=(pe(),p(ae));var{diffSummaryTask:T}=(xt(),p(At));var{fetchTask:A}=(Zn(),p(Xn));var{moveTask:x}=(rr(),p(nr));var{pullTask:N}=(ir(),p(sr));var{pushTagsTask:P}=(cn(),p(an));var{addRemoteTask:L,getRemotesTask:M,listRemotesTask:R,remoteTask:$,removeRemoteTask:I}=(cr(),p(ar));var{getResetMode:j,resetTask:D}=(Ee(),p(Ce));var{stashListTask:F}=(ur(),p(lr));var{addSubModuleTask:B,initSubModuleTask:q,subModuleTask:H,updateSubModuleTask:U}=(hr(),p(fr));var{addAnnotatedTagTask:G,addTagTask:V,tagListTask:J}=(yr(),p(gr));var{straightThroughBufferTask:Q,straightThroughStringTask:z}=(oe(),p(se));function Git2(e,t){this._executor=new n(e.binary,e.baseDir,new s(e.maxConcurrentProcesses),t);this._trimmed=e.trimmed}(Git2.prototype=Object.create(r.prototype)).constructor=Git2;Git2.prototype.customBinary=function(e){this._executor.binary=e;return this};Git2.prototype.env=function(e,t){if(arguments.length===1&&typeof e==="object"){this._executor.env=e}else{(this._executor.env=this._executor.env||{})[e]=t}return this};Git2.prototype.stashList=function(e){return this._runTask(F(m(arguments)||{},a(e)&&e||[]),d(arguments))};function createCloneTask(e,t,n,r){if(typeof n!=="string"){return i(`git.${e}() requires a string 'repoPath'`)}return t(n,f(r,l),h(arguments))}Git2.prototype.clone=function(){return this._runTask(createCloneTask("clone",C,...arguments),d(arguments))};Git2.prototype.mirror=function(){return this._runTask(createCloneTask("mirror",S,...arguments),d(arguments))};Git2.prototype.mv=function(e,t){return this._runTask(x(e,t),d(arguments))};Git2.prototype.checkoutLatestTag=function(e){var t=this;return this.pull((function(){t.tags((function(n,r){t.checkout(r.latest,e)}))}))};Git2.prototype.pull=function(e,t,n,r){return this._runTask(N(f(e,l),f(t,l),h(arguments)),d(arguments))};Git2.prototype.fetch=function(e,t){return this._runTask(A(f(e,l),f(t,l),h(arguments)),d(arguments))};Git2.prototype.silent=function(e){console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3");return this};Git2.prototype.tags=function(e,t){return this._runTask(J(h(arguments)),d(arguments))};Git2.prototype.rebase=function(){return this._runTask(z(["rebase",...h(arguments)]),d(arguments))};Git2.prototype.reset=function(e){return this._runTask(D(j(e),h(arguments)),d(arguments))};Git2.prototype.revert=function(e){const t=d(arguments);if(typeof e!=="string"){return this._runTask(i("Commit must be a string"),t)}return this._runTask(z(["revert",...h(arguments,0,true),e]),t)};Git2.prototype.addTag=function(e){const t=typeof e==="string"?V(e):i("Git.addTag requires a tag name");return this._runTask(t,d(arguments))};Git2.prototype.addAnnotatedTag=function(e,t){return this._runTask(G(e,t),d(arguments))};Git2.prototype.deleteLocalBranch=function(e,t,n){return this._runTask(w(e,typeof t==="boolean"?t:false),d(arguments))};Git2.prototype.deleteLocalBranches=function(e,t,n){return this._runTask(b(e,typeof t==="boolean"?t:false),d(arguments))};Git2.prototype.branch=function(e,t){return this._runTask(y(h(arguments)),d(arguments))};Git2.prototype.branchLocal=function(e){return this._runTask(v(),d(arguments))};Git2.prototype.raw=function(e){const t=!Array.isArray(e);const n=[].slice.call(t?arguments:e,0);for(let e=0;e<n.length&&t;e++){if(!c(n[e])){n.splice(e,n.length-e);break}}n.push(...h(arguments,0,true));var r=d(arguments);if(!n.length){return this._runTask(i("Raw: must supply one or more command to execute"),r)}return this._runTask(z(n,this._trimmed),r)};Git2.prototype.submoduleAdd=function(e,t,n){return this._runTask(B(e,t),d(arguments))};Git2.prototype.submoduleUpdate=function(e,t){return this._runTask(U(h(arguments,true)),d(arguments))};Git2.prototype.submoduleInit=function(e,t){return this._runTask(q(h(arguments,true)),d(arguments))};Git2.prototype.subModule=function(e,t){return this._runTask(H(h(arguments)),d(arguments))};Git2.prototype.listRemote=function(){return this._runTask(R(h(arguments)),d(arguments))};Git2.prototype.addRemote=function(e,t,n){return this._runTask(L(e,t,h(arguments)),d(arguments))};Git2.prototype.removeRemote=function(e,t){return this._runTask(I(e),d(arguments))};Git2.prototype.getRemotes=function(e,t){return this._runTask(M(e===true),d(arguments))};Git2.prototype.remote=function(e,t){return this._runTask($(h(arguments)),d(arguments))};Git2.prototype.tag=function(e,t){const n=h(arguments);if(n[0]!=="tag"){n.unshift("tag")}return this._runTask(z(n),d(arguments))};Git2.prototype.updateServerInfo=function(e){return this._runTask(z(["update-server-info"]),d(arguments))};Git2.prototype.pushTags=function(e,t){const n=P({remote:f(e,l)},h(arguments));return this._runTask(n,d(arguments))};Git2.prototype.rm=function(e){return this._runTask(z(["rm","-f",...o(e)]),d(arguments))};Git2.prototype.rmKeepLocal=function(e){return this._runTask(z(["rm","--cached",...o(e)]),d(arguments))};Git2.prototype.catFile=function(e,t){return this._catFile("utf-8",arguments)};Git2.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)};Git2.prototype._catFile=function(e,t){var n=d(t);var r=["cat-file"];var s=t[0];if(typeof s==="string"){return this._runTask(i("Git.catFile: options must be supplied as an array of strings"),n)}if(Array.isArray(s)){r.push.apply(r,s)}const o=e==="buffer"?Q(r):z(r);return this._runTask(o,n)};Git2.prototype.diff=function(e,t){const n=l(e)?i("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):z(["diff",...h(arguments)]);return this._runTask(n,d(arguments))};Git2.prototype.diffSummary=function(){return this._runTask(T(h(arguments,1)),d(arguments))};Git2.prototype.applyPatch=function(e){const t=!u(e)?i(`git.applyPatch requires one or more string patches as the first argument`):g(o(e),h([].slice.call(arguments,1)));return this._runTask(t,d(arguments))};Git2.prototype.revparse=function(){const e=["rev-parse",...h(arguments,true)];return this._runTask(z(e,true),d(arguments))};Git2.prototype.show=function(e,t){return this._runTask(z(["show",...h(arguments,1)]),d(arguments))};Git2.prototype.clean=function(e,t,n){const r=E(e);const s=r&&e.join("")||f(e,l)||"";const i=h([].slice.call(arguments,r?1:0));return this._runTask(O(s,i),d(arguments))};Git2.prototype.exec=function(e){const t={commands:[],format:"utf-8",parser(){if(typeof e==="function"){e()}}};return this._runTask(t)};Git2.prototype.clearQueue=function(){return this};Git2.prototype.checkIgnore=function(e,t){return this._runTask(k(o(f(e,u,[]))),d(arguments))};Git2.prototype.checkIsRepo=function(e,t){return this._runTask(_(f(e,l)),d(arguments))};t.exports=Git2}});var br={};__export(br,{esModuleFactory:()=>esModuleFactory,gitExportFactory:()=>gitExportFactory,gitInstanceFactory:()=>gitInstanceFactory});function esModuleFactory(e){return Object.defineProperties(e,{__esModule:{value:true},default:{value:e}})}function gitExportFactory(e){return Object.assign(e.bind(null),Te)}function gitInstanceFactory(e,t){const n=new Ie;const r=createInstanceConfig(e&&(typeof e==="string"?{baseDir:e}:e)||{},t);if(!folderExists(r.baseDir)){throw new v(r,`Cannot use simple-git on a directory that does not exist`)}if(Array.isArray(r.config)){n.add(commandConfigPrefixingPlugin(r.config))}n.add(blockUnsafeOperationsPlugin(r.unsafe));n.add(completionDetectionPlugin(r.completion));r.abort&&n.add(abortPlugin(r.abort));r.progress&&n.add(progressMonitorPlugin(r.progress));r.timeout&&n.add(timeoutPlugin(r.timeout));r.spawnOptions&&n.add(spawnOptionsPlugin(r.spawnOptions));n.add(errorDetectionPlugin(errorDetectionHandler(true)));r.errors&&n.add(errorDetectionPlugin(r.errors));return new wr(r,n)}var wr;var kr=__esm({"src/lib/git-factory.ts"(){Ae();He();W();wr=vr()}});var _r={};__export(_r,{gitP:()=>gitP});function gitP(...e){let t;let n=Promise.resolve();try{t=gitInstanceFactory(...e)}catch(e){n=Promise.reject(e)}function builderReturn(){return r}function chainReturn(){return n}const r=[...Cr,...Sr].reduce(((e,n)=>{const r=Sr.includes(n);const s=r?asyncWrapper(n,t):syncWrapper(n,t,e);const i=r?chainReturn:builderReturn;Object.defineProperty(e,n,{enumerable:false,configurable:false,value:t?s:i});return e}),{});return r;function asyncWrapper(e,t){return function(...r){if(typeof r[r.length]==="function"){throw new TypeError("Promise interface requires that handlers are not supplied inline, trailing function not allowed in call to "+e)}return n.then((function(){return new Promise((function(n,s){const callback=(e,t)=>{if(e){return s(toError(e))}n(t)};r.push(callback);t[e].apply(t,r)}))}))}}function syncWrapper(e,t,n){return(...r)=>{t[e](...r);return n}}}function toError(e){if(e instanceof Error){return e}if(typeof e==="string"){return new Error(e)}return new g(e)}var Cr,Sr;var Or=__esm({"src/lib/runners/promise-wrapped.ts"(){y();kr();Cr=["customBinary","env","outputHandler","silent"];Sr=["add","addAnnotatedTag","addConfig","addRemote","addTag","applyPatch","binaryCatFile","branch","branchLocal","catFile","checkIgnore","checkIsRepo","checkout","checkoutBranch","checkoutLatestTag","checkoutLocalBranch","clean","clone","commit","cwd","deleteLocalBranch","deleteLocalBranches","diff","diffSummary","exec","fetch","getRemotes","init","listConfig","listRemote","log","merge","mergeFromTo","mirror","mv","pull","push","pushTags","raw","rebase","remote","removeRemote","reset","revert","revparse","rm","rmKeepLocal","show","stash","stashList","status","subModule","submoduleAdd","submoduleInit","submoduleUpdate","tag","tags","updateServerInfo"]}});var{gitP:Er}=(Or(),p(_r));var{esModuleFactory:Tr,gitInstanceFactory:Ar,gitExportFactory:xr}=(kr(),p(br));var Nr=Tr(xr(Ar));e.exports=Object.assign(Nr,{gitP:Er,simpleGit:Nr})},9318:(e,t,n)=>{"use strict";const r=n(2037);const s=n(1621);const i=process.env;let o;if(s("no-color")||s("no-colors")||s("color=false")){o=false}else if(s("color")||s("colors")||s("color=true")||s("color=always")){o=true}if("FORCE_COLOR"in i){o=i.FORCE_COLOR.length===0||parseInt(i.FORCE_COLOR,10)!==0}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e){if(o===false){return 0}if(s("color=16m")||s("color=full")||s("color=truecolor")){return 3}if(s("color=256")){return 2}if(e&&!e.isTTY&&o!==true){return 0}const t=o?1:0;if(process.platform==="win32"){const e=r.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in i){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in i))||i.CI_NAME==="codeship"){return 1}return t}if("TEAMCITY_VERSION"in i){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0}if(i.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(i.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)){return 1}if("COLORTERM"in i){return 1}if(i.TERM==="dumb"){return t}return t}function getSupportLevel(e){const t=supportsColor(e);return translateLevel(t)}e.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}},4294:(e,t,n)=>{e.exports=n(4219)},4219:(e,t,n)=>{"use strict";var r=n(1808);var s=n(4404);var i=n(3685);var o=n(5687);var a=n(2361);var c=n(9491);var l=n(3837);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=i.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=i.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=o.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=o.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||i.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,n,r,s){var i=toOptions(n,r,s);for(var o=0,a=t.requests.length;o<a;++o){var c=t.requests[o];if(c.host===i.host&&c.port===i.port){t.requests.splice(o,1);c.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}l.inherits(TunnelingAgent,a.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,n,r){var s=this;var i=mergeOptions({request:e},s.options,toOptions(t,n,r));if(s.sockets.length>=this.maxSockets){s.requests.push(i);return}s.createSocket(i,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){s.emit("free",t,i)}function onCloseOrRemove(e){s.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var n=this;var r={};n.sockets.push(r);var s=mergeOptions({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){s.localAddress=e.localAddress}if(s.proxyAuth){s.headers=s.headers||{};s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")}u("making CONNECT request");var i=n.request(s);i.useChunkedEncodingByDefault=false;i.once("response",onResponse);i.once("upgrade",onUpgrade);i.once("connect",onConnect);i.once("error",onError);i.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,n){process.nextTick((function(){onConnect(e,t,n)}))}function onConnect(s,o,a){i.removeAllListeners();o.removeAllListeners();if(s.statusCode!==200){u("tunneling socket could not be established, statusCode=%d",s.statusCode);o.destroy();var c=new Error("tunneling socket could not be established, "+"statusCode="+s.statusCode);c.code="ECONNRESET";e.request.emit("error",c);n.removeSocket(r);return}if(a.length>0){u("got illegal response body from proxy");o.destroy();var c=new Error("got illegal response body from proxy");c.code="ECONNRESET";e.request.emit("error",c);n.removeSocket(r);return}u("tunneling connection has established");n.sockets[n.sockets.indexOf(r)]=o;return t(o)}function onError(t){i.removeAllListeners();u("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=new Error("tunneling socket could not be established, "+"cause="+t.message);s.code="ECONNRESET";e.request.emit("error",s);n.removeSocket(r)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var n=this.requests.shift();if(n){this.createSocket(n,(function(e){n.request.onSocket(e)}))}};function createSecureSocket(e,t){var n=this;TunnelingAgent.prototype.createSocket.call(n,e,(function(r){var i=e.request.getHeader("host");var o=mergeOptions({},n.options,{socket:r,servername:i?i.replace(/:.*$/,""):e.host});var a=s.connect(0,o);n.sockets[n.sockets.indexOf(r)]=a;t(a)}))}function toOptions(e,t,n){if(typeof e==="string"){return{host:e,port:t,localAddress:n}}return e}function mergeOptions(e){for(var t=1,n=arguments.length;t<n;++t){var r=arguments[t];if(typeof r==="object"){var s=Object.keys(r);for(var i=0,o=s.length;i<o;++i){var a=s[i];if(r[a]!==undefined){e[a]=r[a]}}}}return e}var u;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){u=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{u=function(){}}t.debug=u},5840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return r.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return a.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return f.default}});var r=_interopRequireDefault(n(8628));var s=_interopRequireDefault(n(6409));var i=_interopRequireDefault(n(5122));var o=_interopRequireDefault(n(9120));var a=_interopRequireDefault(n(5332));var c=_interopRequireDefault(n(1595));var l=_interopRequireDefault(n(6900));var u=_interopRequireDefault(n(8950));var f=_interopRequireDefault(n(2746));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},4569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return r.default.createHash("md5").update(e).digest()}var s=md5;t["default"]=s},5332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n="00000000-0000-0000-0000-000000000000";t["default"]=n},2746:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,r.default)(e)){throw TypeError("Invalid UUID")}let t;const n=new Uint8Array(16);n[0]=(t=parseInt(e.slice(0,8),16))>>>24;n[1]=t>>>16&255;n[2]=t>>>8&255;n[3]=t&255;n[4]=(t=parseInt(e.slice(9,13),16))>>>8;n[5]=t&255;n[6]=(t=parseInt(e.slice(14,18),16))>>>8;n[7]=t&255;n[8]=(t=parseInt(e.slice(19,23),16))>>>8;n[9]=t&255;n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;n[11]=t/4294967296&255;n[12]=t>>>24&255;n[13]=t>>>16&255;n[14]=t>>>8&255;n[15]=t&255;return n}var s=parse;t["default"]=s},814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t["default"]=n},807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=rng;var r=_interopRequireDefault(n(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=new Uint8Array(256);let i=s.length;function rng(){if(i>s.length-16){r.default.randomFillSync(s);i=0}return s.slice(i,i+=16)}},5274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return r.default.createHash("sha1").update(e).digest()}var s=sha1;t["default"]=s},8950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const s=[];for(let e=0;e<256;++e){s.push((e+256).toString(16).substr(1))}function stringify(e,t=0){const n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!(0,r.default)(n)){throw TypeError("Stringified UUID is invalid")}return n}var i=stringify;t["default"]=i},8628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(807));var s=_interopRequireDefault(n(8950));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let i;let o;let a=0;let c=0;function v1(e,t,n){let l=t&&n||0;const u=t||new Array(16);e=e||{};let f=e.node||i;let h=e.clockseq!==undefined?e.clockseq:o;if(f==null||h==null){const t=e.random||(e.rng||r.default)();if(f==null){f=i=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(h==null){h=o=(t[6]<<8|t[7])&16383}}let p=e.msecs!==undefined?e.msecs:Date.now();let d=e.nsecs!==undefined?e.nsecs:c+1;const m=p-a+(d-c)/1e4;if(m<0&&e.clockseq===undefined){h=h+1&16383}if((m<0||p>a)&&e.nsecs===undefined){d=0}if(d>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}a=p;c=d;o=h;p+=122192928e5;const g=((p&268435455)*1e4+d)%4294967296;u[l++]=g>>>24&255;u[l++]=g>>>16&255;u[l++]=g>>>8&255;u[l++]=g&255;const y=p/4294967296*1e4&268435455;u[l++]=y>>>8&255;u[l++]=y&255;u[l++]=y>>>24&15|16;u[l++]=y>>>16&255;u[l++]=h>>>8|128;u[l++]=h&255;for(let e=0;e<6;++e){u[l+e]=f[e]}return t||(0,s.default)(u)}var l=v1;t["default"]=l},6409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(5998));var s=_interopRequireDefault(n(4569));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=(0,r.default)("v3",48,s.default);var o=i;t["default"]=o},5998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=_default;t.URL=t.DNS=void 0;var r=_interopRequireDefault(n(8950));var s=_interopRequireDefault(n(2746));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n){t.push(e.charCodeAt(n))}return t}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=i;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o;function _default(e,t,n){function generateUUID(e,i,o,a){if(typeof e==="string"){e=stringToBytes(e)}if(typeof i==="string"){i=(0,s.default)(i)}if(i.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let c=new Uint8Array(16+e.length);c.set(i);c.set(e,i.length);c=n(c);c[6]=c[6]&15|t;c[8]=c[8]&63|128;if(o){a=a||0;for(let e=0;e<16;++e){o[a+e]=c[e]}return o}return(0,r.default)(c)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=i;generateUUID.URL=o;return generateUUID}},5122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(807));var s=_interopRequireDefault(n(8950));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,n){e=e||{};const i=e.random||(e.rng||r.default)();i[6]=i[6]&15|64;i[8]=i[8]&63|128;if(t){n=n||0;for(let e=0;e<16;++e){t[n+e]=i[e]}return t}return(0,s.default)(i)}var i=v4;t["default"]=i},9120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(5998));var s=_interopRequireDefault(n(5274));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=(0,r.default)("v5",80,s.default);var o=i;t["default"]=o},6900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(814));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&r.default.test(e)}var s=validate;t["default"]=s},1595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=_interopRequireDefault(n(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,r.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}var s=version;t["default"]=s},5810:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;var s=Object.getOwnPropertyDescriptor(t,n);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,r,s)}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};var o=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const c=a(n(5281));const l=i(n(2186));const u=i(n(7147));const f=i(n(2037));const h=n(1730);const p=n(6373);const d=n(6976);const m=n(4379);const g=n(2449);const y=new m.Command;const v="[90m";const b="[91m";const w="[92m";const k="[93m";const _="[0m";y.name("commisery").description("Commisery Conventional Commit Message Manager").option("-c, --config <string>");y.command("check").description("Checks whether commit messages adhere to the Conventional Commits standard.").argument("[TARGET...]",`The \`TARGET\` can be:\n  - a single commit hash\n  - a file containing the commit message to check\n  - a revision range that \`git rev-list\` can interpret\n When TARGET is omitted, 'HEAD' is implied.`).action((e=>o(void 0,void 0,void 0,(function*(){const t=new p.Configuration(y.opts().config);if(e.length===0){e=["HEAD"]}let n=[];if(u.existsSync(e.join(" "))){n=[u.readFileSync(e.join(" "),"utf8")]}else{n=yield(0,g.getCommitMessages)(e)}for(const e of n){try{new h.ConventionalCommitMessage(e,undefined,t)}catch(e){if(e instanceof d.ConventionalCommitError){for(const t of e.errors){l.info(t.report())}}}}}))));y.command("overview").description("Lists the accepted Conventional Commit types and Rules (including description)").action((()=>{const e=new p.Configuration(y.opts().config);l.info((0,c.default)(`\n    Conventional Commit types\n    -------------------------`));for(const t in e.tags){const n=e.tags[t].bump&&t!=="fix"?` ${k}(bumps patch)${_}`:"";l.info(`${t}: ${v}${e.tags[t].description}${_}${n}`)}l.info(f.EOL);l.info((0,c.default)(`\n    Commisery Validation rules\n    --------------------------\n    [${w}o${_}]: ${v}rule is enabled${_}, [${b}x${_}]: ${v}rule has been disabled${_}\n    `));l.info(f.EOL);for(const t in e.rules){const n=e.rules[t].enabled?`${w}o${_}`:`${b}x${_}`;l.info(`[${n}] ${t}: ${v}${e.rules[t].description}${_}`)}}));y.parse()},2449:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getCommitMessages=t.getRootPath=void 0;const s=n(9103);let i=undefined;function getRootPath(){return r(this,void 0,void 0,(function*(){if(i===undefined){try{i=yield(0,s.simpleGit)().revparse({"--show-toplevel":null})}catch(e){i=process.cwd()}}return i}))}t.getRootPath=getRootPath;function getCommitHashes(e){return r(this,void 0,void 0,(function*(){return(yield(0,s.simpleGit)(yield getRootPath()).revparse(e)).split("\n")}))}function getCommitMessage(e){return r(this,void 0,void 0,(function*(){return yield(0,s.simpleGit)(yield getRootPath()).show(["-q","--format=%B",e,"--"])}))}function getCommitMessages(e){return r(this,void 0,void 0,(function*(){const t=(0,s.simpleGit)(yield getRootPath());let n=[];if(/^[0-9a-fA-F]{40}$/.test(e.join(" "))===false&&(yield getCommitHashes(e)).length>1){n=(yield t.raw(["rev-list"].concat(e).concat(["--"]))).split("\n")}else{n.push(e[0])}const r=[];for(const e of n){try{r.push(yield getCommitMessage(e))}catch(e){continue}}return r}))}t.getCommitMessages=getCommitMessages},1730:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;var s=Object.getOwnPropertyDescriptor(t,n);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,r,s)}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.ConventionalCommitMessage=t.getConventionalCommitMetadata=void 0;const o=n(6373);const a=n(1058);const c=n(6976);const l=n(8593);const u=i(n(2037));const f="BREAKING-CHANGE";const h=/(?<type>\w+)?((\s*)?\((?<scope>[^()]*)\)(\s*)?)?(?<breakingChange>((\s*)+[!]+(\s*)?)?)(?<separator>((\s+)?:?(\s+)?))(?<description>.*)/;const p=/^(?<token>[\w-]+|BREAKING\sCHANGE|[\w-\s]+\sby)(?::[ ]|[ ](?=[#]))(?<value>.*)/;class Footer{constructor(e,t){this.token=e;if(e==="BREAKING CHANGE"){this.token=f}this.value=t}appendParagrah(e){this.value+=u.EOL+e}}function getConventionalCommitMetadata(e){var t;let n=[];let r=[];let s=false;if(e.length>1){let t=1;e.slice(1).forEach(((e,r)=>{var i;const o=(i=e.match(p))===null||i===void 0?void 0:i.groups;if(o){n.push(new Footer(o.token,o.value));if(n[n.length-1].token===f){s=true}}else if(n.length>0&&e.startsWith(" ")){n[n.length-1].appendParagrah(e)}else if(s===true&&e.trim()===""){if(n[n.length-1].token!==f){n.push(new Footer("",""))}return}else{t=r+1;n=[]}}));if(t>1){r=e.slice(1,t+1)}else{r=[e[t]]}}const i=(t=e[0].match(h))===null||t===void 0?void 0:t.groups;if(i===undefined){throw new Error(`Commit is not compliant to Conventional Commits (non-strict)`)}const o={body:r,footers:n,type:i.type,scope:i.scope,subject:e[0],breakingChange:i.breakingChange,separator:i.separator,description:i.description};return o}t.getConventionalCommitMetadata=getConventionalCommitMetadata;class ConventionalCommitMessage{constructor(e,t=undefined,n=new o.Configuration){const r=stripMessage(e).split(u.EOL);if(isMerge(r[0])){throw new c.MergeCommitError}if(isFixup(r[0])){throw new c.FixupCommitError}this.hexsha=t;this.config=n;const s=getConventionalCommitMetadata(r);if(s===undefined){throw new c.ConventionalCommitError(`Commit is not a Conventional Commit type!`,[])}const i=(0,a.validateRules)(s,this.config);if(i.length>0){throw new c.ConventionalCommitError(`Commit is not compliant to Conventional Commits!`,i)}this.body=s.body.slice(1).join(u.EOL);if(this.body===""){this.body=null}this.description=s.description;this.footers=s.footers;this.scope=s.scope?s.scope:null;this.type=s.type;this.bump=this.determineBump(s);this.breakingChange=this.bump===l.SemVerType.MAJOR}determineBump(e){for(const t of e.footers){if(t.token===f){return l.SemVerType.MAJOR}}if(e.type===undefined){return l.SemVerType.NONE}if(e.breakingChange==="!"){return l.SemVerType.MAJOR}if(e.type.trim()==="feat"){return l.SemVerType.MINOR}const t=Object.entries(this.config.tags).map((([e,t])=>t.bump?e:undefined)).filter((e=>!!e));if(!t.includes("fix"))t.push("fix");if(t.includes(e.type.trim())){return l.SemVerType.PATCH}return l.SemVerType.NONE}}t.ConventionalCommitMessage=ConventionalCommitMessage;function isFixup(e){const t=/^(?:(?:fixup|squash)!\s+)+/;const n=e.match(t);return n!==null}function isMerge(e){const t=/^Merge.*?:?[\s\t]*?/;const n=e.match(t);return n!==null}function stripMessage(e){const t=e.indexOf("# ------------------------ >8 ------------------------\n");if(t>=0&&(t===0||e[t-1]==="\n")){e=e.substring(t)}e=e.replace(/^#[^\n]*\n?/,"");e=e.replace(/[ \t]+$/,"");e=e.trim();return e}},6373:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;var s=Object.getOwnPropertyDescriptor(t,n);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,r,s)}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t._testData=t.Configuration=void 0;const o=n(1058);const a=i(n(2186));const c=i(n(7147));const l=i(n(4083));const u=".commisery.yml";const f={fix:{description:"Patches a bug in your codebase",bump:true},feat:{description:"Introduces a new feature to the codebase",bump:false},build:{description:"Changes towards the build system",bump:false},chore:{description:"General maintenance changes to the codebase",bump:false},ci:{description:"Changes related to your CI configuration",bump:false},docs:{description:"Documentation changes (not part of the public API)",bump:false},perf:{description:"Performance improvements",bump:false},refactor:{description:"Refactoring the code base (no behaviorial changes)",bump:false},revert:{description:"Reverts previous change(s) from your codebase",bump:false},style:{description:"Coding style improvements",bump:false},test:{description:"Updates tests",bump:false},improvement:{description:"Introduces improvements to the code quality of the codebase",bump:false}};const h=["max-subject-length","tags","disable","allowed-branches","initial-development"];function verifyTypeMatches(e,t,n){if(typeof t!==typeof n){throw new Error(`Incorrect type '${typeof t}' for '${e}', must be '${typeof n}'`)}}class Configuration{loadFromData(e){var t,n;var r;for(const s in e){if(!h.includes(s)){throw new Error(`Unknown configuration item '${s} detected!`)}switch(s){case"disable":if(typeof e[s]==="object"){for(const t of e[s]){if(t in this.rules){this.rules[t].enabled=false}else{a.warning(`Rule "${t}" is unknown; disabling it has no effect.`)}}}else{throw new Error(`Incorrect type '${typeof e[s]} for ${s}, must be '${typeof[]}`)}break;case"max-subject-length":if(typeof e[s]==="number"){this.maxSubjectLength=e[s]}else{throw new Error(`Incorrect type '${typeof e[s]}' for '${s}', must be '${typeof this.maxSubjectLength}'!`)}break;case"tags":verifyTypeMatches(s,e[s],{});this.tags={};for(const t of Object.keys(e[s])){const n=e[s][t];switch(typeof n){case"string":this.tags[t]={description:n,bump:false};break;case"object":for(const e of Object.keys(n)){if(["description","bump"].includes(e)){if(e==="description"){verifyTypeMatches(`${t}.${e}`,n[e],"")}else if(e==="bump"){verifyTypeMatches(`${t}.${e}`,n[e],true)}this.tags[t]=this.tags[t]?this.tags[t]:{};this.tags[t][e]=n[e]}else{a.info(`Warning: "${s}.${t}.${e}" is unknown and has no effect.`)}}break;default:break}}if(!("fix"in this.tags)){this.tags["fix"]=f["fix"]}if(!("feat"in this.tags)){this.tags["feat"]=f["feat"]}for(const e in this.tags){if(this.tags[e].description===undefined){let n="";if(e in f){n=(t=f[e].description)!==null&&t!==void 0?t:""}this.tags[e].description=n}(n=(r=this.tags[e]).bump)!==null&&n!==void 0?n:r.bump=false}break;case"allowed-branches":if(typeof e[s]==="string"){this.allowedBranches=e[s]}else{throw new Error(`Incorrect type '${typeof e[s]}' for '${s}', must be '${typeof this.allowedBranches}'!`)}break;case"initial-development":if(typeof e[s]==="boolean"){this.initialDevelopment=e[s]}else{throw new Error(`Incorrect type '${typeof e[s]}' for '${s}', must be '${typeof this.initialDevelopment}'!`)}break}}}constructor(e=u){this.allowedBranches=".*";this.initialDevelopment=true;this.maxSubjectLength=80;this.tags=f;this.rules=new Map;for(const e of o.ALL_RULES){this.rules[e.id]={description:e.description,enabled:true}}if(c.existsSync(e)){const t=l.parse(c.readFileSync(e,"utf8"));this.loadFromData(t)}else{if(e!==u){throw new Error(`No configuration can be found at: ${e}`)}}}}t.Configuration=Configuration;t._testData={DEFAULT_ACCEPTED_TAGS:f}},6976:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FixupCommitError=t.MergeCommitError=t.ConventionalCommitError=void 0;class ConventionalCommitError extends Error{constructor(e,t){super(e);this.name="ConventionalCommitError";this.errors=t}}t.ConventionalCommitError=ConventionalCommitError;class MergeCommitError extends Error{constructor(){super("Commit Message is a 'merge' commit!");this.name="MergeCommitError"}}t.MergeCommitError=MergeCommitError;class FixupCommitError extends Error{constructor(){super("Commit Message is a 'fixup' commit!");this.name="FixupCommitError"}}t.FixupCommitError=FixupCommitError},1517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LlvmWarning=t.LlvmError=t.LlvmMessage=t.LlvmLevel=void 0;const r=n(2037);var s;(function(e){e["ERROR"]="ERROR";e["WARNING"]="WARNING";e["NOTE"]="NOTE"})(s=t.LlvmLevel||(t.LlvmLevel={}));var i;(function(e){e[e["BOLD"]=1]="BOLD";e[e["RED"]=31]="RED";e[e["BLUE"]=34]="BLUE";e[e["LIGHT_GREEN"]=92]="LIGHT_GREEN";e[e["CYAN"]=94]="CYAN"})(i||(i={}));function formatLevel(e){switch(e){case s.ERROR:return formatString("error",i.RED);case s.WARNING:return formatString("warning",i.CYAN);case s.NOTE:return formatString("note",i.LIGHT_GREEN)}}function formatString(e,t){return`[${t.toString()}m${e}[0m`}class LlvmMessage{constructor({columnNumber:e,expectations:t,filePath:n,level:r=s.NOTE,line:i,lineNumber:o,message:a}){this.columnNumber=e!==null&&e!==void 0?e:{start:1,range:undefined};this.expectations=t;this.filePath=n;this.level=r;this.line=i;this.lineNumber=o!==null&&o!==void 0?o:{start:1,range:undefined};this.message=a}getAnnotationProperties(){const e={file:this.filePath,title:this.message,startLine:this.lineNumber.start,startColumn:this.columnNumber.start};if(this.lineNumber.range!==undefined){e.endLine=this.lineNumber.start+this.lineNumber.range}if(this.columnNumber.range!==undefined){e.endColumn=this.columnNumber.start+this.columnNumber.range}return e}report(){let e="";if(this.filePath){e=`${this.filePath}:${this.lineNumber.start}:${this.columnNumber.start+1}: `}e=formatString(`${e}${formatLevel(this.level)}: ${this.message}`,i.BOLD);if(this.line===undefined){return e}const t=this.expectations?i.LIGHT_GREEN:i.RED;let n=this.line.trimEnd()+r.EOL+" ".repeat(this.columnNumber.start-1)+formatString("^",t);if(this.columnNumber.range!==undefined){if(this.columnNumber.range>1){n+=formatString("~".repeat(this.columnNumber.range-1),t)}}if(this.expectations!==undefined){n+=r.EOL+" ".repeat(this.columnNumber.start-1)+this.expectations}return e+r.EOL+n}}t.LlvmMessage=LlvmMessage;class LlvmError extends LlvmMessage{constructor(){super(...arguments);this.level=s.ERROR}}t.LlvmError=LlvmError;class LlvmWarning extends LlvmMessage{constructor(){super(...arguments);this.level=s.WARNING}}t.LlvmWarning=LlvmWarning},1058:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){if(r===undefined)r=n;var s=Object.getOwnPropertyDescriptor(t,n);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,r,s)}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n))r(t,e,n);s(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getConventionalCommitRule=t.ALL_RULES=t.validateRules=void 0;const o=i(n(4087));const a=n(1517);function validateRules(e,n){const r=[];const s=Object.entries(n.rules).map((([e,t])=>!t.enabled?e:undefined)).filter((e=>!!e));for(const i of t.ALL_RULES){try{if(!s.includes(i.id)){i.validate(e,n)}}catch(e){if(e instanceof a.LlvmError){r.push(e)}else{throw e}}}return r}t.validateRules=validateRules;class NonLowerCaseType{constructor(){this.id="C001";this.description="The commit message's tag type should be in lower case"}validate(e,t){if(e.type===undefined){return}if(e.type.toLowerCase()!==e.type){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.type)+1,range:e.type.length},expectations:e.type.toLowerCase()})}}}class OneWhitelineBetweenSubjectAndBody{constructor(){this.id="C002";this.description="Only one empty line between subject and body"}validate(e,t){if(e.body.length>=2&&e.body[1].trim()===""){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject})}}}class TitleCaseDescription{constructor(){this.id="C003";this.description="The commit message's description should not start with a capital case letter"}validate(e,t){if(e.description&&!e.description.startsWith(e.description[0].toLowerCase())){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.description)+1},expectations:e.description[0].toLowerCase()})}}}class UnknownTagType{constructor(){this.id="C004";this.description="Commit message's subject should not contain an unknown tag type"}validate(e,t){if(e.type===undefined){return}if(!(e.type in t.tags)){const n=o.getCloseMatches(e.type.toLowerCase(),Object.keys(t.tags));const r=n?n[0]:Object.keys(t.tags).join(", ");throw new a.LlvmError({message:`[${this.id}] ${this.description}. Use one of: ${Object.keys(t.tags).join(", ")}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.type)+1,range:e.type.length},expectations:r})}}}class SeparatorContainsTrailingWhitespaces{constructor(){this.id="C005";this.description='Only one whitespace allowed after the ":" separator'}validate(e,t){if(e.separator===null){return}if(e.separator!==": "){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.separator)+1,range:e.separator.length},expectations:`: `})}}}class ScopeShouldNotBeEmpty{constructor(){this.id="C006";this.description="The commit message's scope should not be empty"}validate(e,t){if(e.scope===undefined){return}if(!e.scope.trim()){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf("(")+1,range:e.scope.length+2}})}}}class ScopeContainsWhitespace{constructor(){this.id="C007";this.description="The commit message's scope should not contain any whitespacing"}validate(e,t){if(e.scope&&e.scope.length!==e.scope.trim().length){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf("(")+2,range:e.scope.length},expectations:e.scope.trim()})}}}class MissingSeparator{constructor(){this.id="C008";this.description=`The commit message's subject requires a separator (": ") after the type tag`}validate(e,t){if(e.separator===undefined||!e.separator.includes(":")){const t={start:e.subject.indexOf(" ")+1};if(e.scope){t.start=e.subject.indexOf(e.scope)+e.scope.length+2}else if(e.breakingChange){t.start=e.subject.indexOf(e.breakingChange)}throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:t,expectations:`:`})}}}class MissingDescription{constructor(){this.id="C009";this.description="The commit message requires a description"}validate(e,t){if(!e.description){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.length+2}})}}}class BreakingIndicatorContainsWhitespacing{constructor(){this.id="C010";this.description='No whitespace allowed around the "!" indicator'}validate(e,t){if(e.breakingChange&&e.breakingChange.trim()!==e.breakingChange){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.breakingChange)+1,range:e.breakingChange.length+e.separator.trimEnd().length},expectations:`!:`})}}}class OnlySingleBreakingIndicator{constructor(){this.id="C011";this.description="Breaking separator should consist of only one indicator"}validate(e,t){if(e.breakingChange&&e.breakingChange.trim().length>1){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.breakingChange)+1,range:e.breakingChange.length+1},expectations:`!:`})}}}class MissingTypeTag{constructor(){this.id="C012";this.description="The commit message's subject requires a type"}validate(e,t){if(!e.type){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject})}}}class SubjectShouldNotEndWithPunctuation{constructor(){this.id="C013";this.description="The commit message's subject should not end with punctuation"}validate(e,t){if(e.description.match(/.*[.!?,]$/)){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.length}})}}}class SubjectExceedsLineLengthLimit{constructor(){this.id="C014";this.description="The commit message's subject should be within the line length limit"}validate(e,t){if(e.subject.length>t.maxSubjectLength){throw new a.LlvmError({message:`[${this.id}] ${this.description} (${t.maxSubjectLength}), exceeded by ${e.subject.length-t.maxSubjectLength+1} characters`,line:e.subject,columnNumber:{start:t.maxSubjectLength,range:e.subject.length-t.maxSubjectLength+1}})}}}class NoRepeatedTags{constructor(){this.id="C015";this.description="Description should not start with a repetition of the tag"}validate(e,t){if(e.description===undefined||e.type===undefined){return}if(e.description.split(" ")[0].toLowerCase()===e.type.toLowerCase()){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.separator)+e.separator.length+1,range:e.type.length}})}}}class DescriptionInImperativeMood{constructor(){this.id="C016";this.description="The commit message's description should be written in imperative mood"}validate(e,t){const n=["added","adds","adding","applied","applies","applying","edited","edits","editing","expanded","expands","expanding","fixed","fixes","fixing","removed","removes","removing","renamed","renames","renaming","deleted","deletes","deleting","updated","updates","updating","ensured","ensures","ensuring","resolved","resolves","resolving","verified","verifies","verifying"];if(e.description.match(new RegExp(`^(${n.join("|")})`,"i"))){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:e.subject.indexOf(e.description)+1,range:e.description.split(" ")[0].length}})}}}class SubjectContainsReviewRemarks{constructor(){this.id="C017";this.description="Subject should not contain reference to review comments"}validate(e,t){}}class MissingEmptyLineBetweenSubjectAndBody{constructor(){this.id="C018";this.description="The commit message should contain an empty line between subject and body"}validate(e,t){if(e.body&&e.body[0]){throw new a.LlvmError({message:`[${this.id}] ${this.description}`})}}}class SubjectContainsIssueReference{constructor(){this.id="C019";this.description="The commit message's subject should not contain a ticket reference"}validate(e,t){const n=["AES","CVE","CWE","PEP","SHA","UTF","VT"];const r=new RegExp(`(?!\\b(?:${n.join("|")})\\b)\\b[A-Z]+-[0-9]+\\b(?!-)`);const s=r.exec(e.subject);if(s){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:e.subject,columnNumber:{start:s.index+1,range:s[0].length}})}}}class GitTrailerContainsWhitespace{constructor(){this.id="C020";this.description="Git-trailer should not contain whitespace(s)"}validate(e,t){for(const t of e.footers){if(t.token.includes(" ")){throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:`${t.token}: ${t.value}`,columnNumber:{start:1,range:t.token.length},expectations:t.token.replace(/ /g,"-")})}}}}class FooterContainsBlankLine{constructor(){this.id="C022";this.description="Footer should not contain any blank line(s)"}validate(e,t){for(const t of e.footers){if(!t.token||t.value.length===0){throw new a.LlvmError({message:`[${this.id}] ${this.description}`})}}}}class BreakingChangeMustBeFirstGitTrailer{constructor(){this.id="C023";this.description="The BREAKING CHANGE git-trailer should be the first element in the footer"}validate(e,t){e.footers.forEach(((e,t)=>{if(e.token==="BREAKING-CHANGE"){if(t===0){return}throw new a.LlvmError({message:`[${this.id}] ${this.description}`})}}))}}class GitTrailerNeedAColon{constructor(){this.id="C024";this.description="A colon is required in git-trailers"}validate(e,t){const n=[/^Addresses:* (?:[A-Z]+-[0-9]+|#[0-9]+)/,/^Closes:* (?:[A-Z]+-[0-9]+|#[0-9]+)/,/^Fixes:* (?:[A-Z]+-[0-9]+|#[0-9]+)/,/^Implements:* (?:[A-Z]+-[0-9]+|#[0-9]+)/,/^References:* (?:[A-Z]+-[0-9]+|#[0-9]+)/,/^Refs:* (?:[A-Z]+-[0-9]+|#[0-9]+)/,/^Acked-by/,/^Authored-by/,/^BREAKING CHANGE/,/^BREAKING-CHANGE/,/^Co-authored-by/,/^Helped-by/,/^Merged-by/,/^Reported-by/,/^Reviewed-by/,/^Signed-off-by/];for(let t=e.body.length-1;t>=0;--t){const r=e.body[t];const s=r.replace(/^BREAKING CHANGE/,"BREAKING-CHANGE");if(n.some((e=>s.match(e)))){if(s.match(/^[A-Za-z0-9-]+ /)){const e=s.indexOf(" ");throw new a.LlvmError({message:`[${this.id}] ${this.description}`,line:r,columnNumber:{start:e+1,range:r.substring(e).length},expectations:`: ${r.substring(e+1)}`})}}}}}t.ALL_RULES=[new NonLowerCaseType,new OneWhitelineBetweenSubjectAndBody,new TitleCaseDescription,new UnknownTagType,new SeparatorContainsTrailingWhitespaces,new ScopeShouldNotBeEmpty,new ScopeContainsWhitespace,new MissingSeparator,new MissingDescription,new BreakingIndicatorContainsWhitespacing,new OnlySingleBreakingIndicator,new MissingTypeTag,new SubjectShouldNotEndWithPunctuation,new SubjectExceedsLineLengthLimit,new NoRepeatedTags,new DescriptionInImperativeMood,new SubjectContainsReviewRemarks,new MissingEmptyLineBetweenSubjectAndBody,new SubjectContainsIssueReference,new GitTrailerContainsWhitespace,new FooterContainsBlankLine,new BreakingChangeMustBeFirstGitTrailer,new GitTrailerNeedAColon];function getConventionalCommitRule(e){for(const n of t.ALL_RULES){if(n.id===e){return n}}throw new Error(`Unknown rule: ${e}`)}t.getConventionalCommitRule=getConventionalCommitRule},8593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SemVer=t.SemVerType=void 0;const n=new RegExp([/^(?<prefix>[A-Za-z-]+)?/,/(?<major>0|[1-9][0-9]*)/,/\.(?<minor>0|[1-9][0-9]*)/,/\.(?<patch>0|[1-9][0-9]*)/,/(?:-(?<prerelease>[-0-9a-zA-Z]+(?:\.[-0-9a-zA-Z]+)*))?/,/(?:\+(?<build>[-0-9a-zA-Z]+(?:\.[-0-9a-zA-Z]+)*))?/,/\s*$/].map((e=>e.source)).join(""));var r;(function(e){e[e["NONE"]=0]="NONE";e[e["PATCH"]=1]="PATCH";e[e["MINOR"]=2]="MINOR";e[e["MAJOR"]=3]="MAJOR"})(r=t.SemVerType||(t.SemVerType={}));class SemVer{constructor({major:e,minor:t,patch:n,prerelease:r="",build:s="",prefix:i=""}){this.major=e;this.minor=t;this.patch=n;this.prerelease=r;this.build=s;this.prefix=i}get build(){return this._build}set build(e){if(e!==""){for(const t of e.split(".")){if(/[^0-9A-Za-z-]/.test(t)||t.length===0){throw new Error(`Provided build metadata (${e}) does not comply to the SemVer specification`)}}}this._build=e}static fromString(e){const t=n.exec(e);if(t!=null&&t.groups!=null){return new SemVer({major:+t.groups.major,minor:+t.groups.minor,patch:+t.groups.patch,prerelease:t.groups.prerelease||"",build:t.groups.build||"",prefix:t.groups.prefix||""})}return null}toString(){const e=this.prerelease?`-${this.prerelease}`:"";const t=this.build?`+${this.build}`:"";return`${this.prefix}${this.major}.${this.minor}.${this.patch}${e}${t}`}nextMajor(){return new SemVer({major:this.major+1,minor:0,patch:0,prefix:this.prefix})}nextMinor(){return new SemVer({major:this.major,minor:this.minor+1,patch:0,prefix:this.prefix})}nextPatch(){if(this.prerelease!==""){return new SemVer({major:this.major,minor:this.minor,patch:this.patch,prefix:this.prefix})}return new SemVer({major:this.major,minor:this.minor,patch:this.patch+1,prefix:this.prefix})}bump(e,t=true){if(!t&&this.major<=0){return new SemVer({major:1,minor:0,patch:0,prefix:this.prefix})}switch(e){case r.MAJOR:if(t&&this.major<=0){return this.nextMinor()}return this.nextMajor();case r.MINOR:return this.nextMinor();case r.PATCH:return this.nextPatch();default:return null}}lessThan(e){if(this.major<e.major)return true;if(this.major===e.major){if(this.minor<e.minor){return true}if(this.minor===e.minor){if(this.patch<e.patch){return true}if(this.patch===e.patch){if(this.prerelease!==""&&e.prerelease===""){return true}}}}return false}equals(e){return this.major===e.major&&this.minor===e.minor&&this.patch===e.patch&&!!this.prerelease===!!e.prerelease}}t.SemVer=SemVer},9491:e=>{"use strict";e.exports=require("assert")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},3837:e=>{"use strict";e.exports=require("util")},4379:(e,t,n)=>{const{Argument:r}=n(9414);const{Command:s}=n(552);const{CommanderError:i,InvalidArgumentError:o}=n(2625);const{Help:a}=n(5153);const{Option:c}=n(6558);t=e.exports=new s;t.program=t;t.Argument=r;t.Command=s;t.CommanderError=i;t.Help=a;t.InvalidArgumentError=o;t.InvalidOptionArgumentError=o;t.Option=c},9414:(e,t,n)=>{const{InvalidArgumentError:r}=n(2625);class Argument{constructor(e,t){this.description=t||"";this.variadic=false;this.parseArg=undefined;this.defaultValue=undefined;this.defaultValueDescription=undefined;this.argChoices=undefined;switch(e[0]){case"<":this.required=true;this._name=e.slice(1,-1);break;case"[":this.required=false;this._name=e.slice(1,-1);break;default:this.required=true;this._name=e;break}if(this._name.length>3&&this._name.slice(-3)==="..."){this.variadic=true;this._name=this._name.slice(0,-3)}}name(){return this._name}_concatValue(e,t){if(t===this.defaultValue||!Array.isArray(t)){return[e]}return t.concat(e)}default(e,t){this.defaultValue=e;this.defaultValueDescription=t;return this}argParser(e){this.parseArg=e;return this}choices(e){this.argChoices=e.slice();this.parseArg=(e,t)=>{if(!this.argChoices.includes(e)){throw new r(`Allowed choices are ${this.argChoices.join(", ")}.`)}if(this.variadic){return this._concatValue(e,t)}return e};return this}argRequired(){this.required=true;return this}argOptional(){this.required=false;return this}}function humanReadableArgName(e){const t=e.name()+(e.variadic===true?"...":"");return e.required?"<"+t+">":"["+t+"]"}t.Argument=Argument;t.humanReadableArgName=humanReadableArgName},552:(e,t,n)=>{const r=n(2361).EventEmitter;const s=n(2081);const i=n(1017);const o=n(7147);const a=n(7282);const{Argument:c,humanReadableArgName:l}=n(9414);const{CommanderError:u}=n(2625);const{Help:f}=n(5153);const{Option:h,splitOptionFlags:p,DualOptions:d}=n(6558);const{suggestSimilar:m}=n(7592);class Command extends r{constructor(e){super();this.commands=[];this.options=[];this.parent=null;this._allowUnknownOption=false;this._allowExcessArguments=true;this._args=[];this.args=[];this.rawArgs=[];this.processedArgs=[];this._scriptPath=null;this._name=e||"";this._optionValues={};this._optionValueSources={};this._storeOptionsAsProperties=false;this._actionHandler=null;this._executableHandler=false;this._executableFile=null;this._executableDir=null;this._defaultCommandName=null;this._exitCallback=null;this._aliases=[];this._combineFlagAndOptionalValue=true;this._description="";this._summary="";this._argsDescription=undefined;this._enablePositionalOptions=false;this._passThroughOptions=false;this._lifeCycleHooks={};this._showHelpAfterError=false;this._showSuggestionAfterError=true;this._outputConfiguration={writeOut:e=>a.stdout.write(e),writeErr:e=>a.stderr.write(e),getOutHelpWidth:()=>a.stdout.isTTY?a.stdout.columns:undefined,getErrHelpWidth:()=>a.stderr.isTTY?a.stderr.columns:undefined,outputError:(e,t)=>t(e)};this._hidden=false;this._hasHelpOption=true;this._helpFlags="-h, --help";this._helpDescription="display help for command";this._helpShortFlag="-h";this._helpLongFlag="--help";this._addImplicitHelpCommand=undefined;this._helpCommandName="help";this._helpCommandnameAndArgs="help [command]";this._helpCommandDescription="display help for command";this._helpConfiguration={}}copyInheritedSettings(e){this._outputConfiguration=e._outputConfiguration;this._hasHelpOption=e._hasHelpOption;this._helpFlags=e._helpFlags;this._helpDescription=e._helpDescription;this._helpShortFlag=e._helpShortFlag;this._helpLongFlag=e._helpLongFlag;this._helpCommandName=e._helpCommandName;this._helpCommandnameAndArgs=e._helpCommandnameAndArgs;this._helpCommandDescription=e._helpCommandDescription;this._helpConfiguration=e._helpConfiguration;this._exitCallback=e._exitCallback;this._storeOptionsAsProperties=e._storeOptionsAsProperties;this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue;this._allowExcessArguments=e._allowExcessArguments;this._enablePositionalOptions=e._enablePositionalOptions;this._showHelpAfterError=e._showHelpAfterError;this._showSuggestionAfterError=e._showSuggestionAfterError;return this}command(e,t,n){let r=t;let s=n;if(typeof r==="object"&&r!==null){s=r;r=null}s=s||{};const[,i,o]=e.match(/([^ ]+) *(.*)/);const a=this.createCommand(i);if(r){a.description(r);a._executableHandler=true}if(s.isDefault)this._defaultCommandName=a._name;a._hidden=!!(s.noHelp||s.hidden);a._executableFile=s.executableFile||null;if(o)a.arguments(o);this.commands.push(a);a.parent=this;a.copyInheritedSettings(this);if(r)return this;return a}createCommand(e){return new Command(e)}createHelp(){return Object.assign(new f,this.configureHelp())}configureHelp(e){if(e===undefined)return this._helpConfiguration;this._helpConfiguration=e;return this}configureOutput(e){if(e===undefined)return this._outputConfiguration;Object.assign(this._outputConfiguration,e);return this}showHelpAfterError(e=true){if(typeof e!=="string")e=!!e;this._showHelpAfterError=e;return this}showSuggestionAfterError(e=true){this._showSuggestionAfterError=!!e;return this}addCommand(e,t){if(!e._name){throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`)}t=t||{};if(t.isDefault)this._defaultCommandName=e._name;if(t.noHelp||t.hidden)e._hidden=true;this.commands.push(e);e.parent=this;return this}createArgument(e,t){return new c(e,t)}argument(e,t,n,r){const s=this.createArgument(e,t);if(typeof n==="function"){s.default(r).argParser(n)}else{s.default(n)}this.addArgument(s);return this}arguments(e){e.split(/ +/).forEach((e=>{this.argument(e)}));return this}addArgument(e){const t=this._args.slice(-1)[0];if(t&&t.variadic){throw new Error(`only the last argument can be variadic '${t.name()}'`)}if(e.required&&e.defaultValue!==undefined&&e.parseArg===undefined){throw new Error(`a default value for a required argument is never used: '${e.name()}'`)}this._args.push(e);return this}addHelpCommand(e,t){if(e===false){this._addImplicitHelpCommand=false}else{this._addImplicitHelpCommand=true;if(typeof e==="string"){this._helpCommandName=e.split(" ")[0];this._helpCommandnameAndArgs=e}this._helpCommandDescription=t||this._helpCommandDescription}return this}_hasImplicitHelpCommand(){if(this._addImplicitHelpCommand===undefined){return this.commands.length&&!this._actionHandler&&!this._findCommand("help")}return this._addImplicitHelpCommand}hook(e,t){const n=["preSubcommand","preAction","postAction"];if(!n.includes(e)){throw new Error(`Unexpected value for event passed to hook : '${e}'.\nExpecting one of '${n.join("', '")}'`)}if(this._lifeCycleHooks[e]){this._lifeCycleHooks[e].push(t)}else{this._lifeCycleHooks[e]=[t]}return this}exitOverride(e){if(e){this._exitCallback=e}else{this._exitCallback=e=>{if(e.code!=="commander.executeSubCommandAsync"){throw e}else{}}}return this}_exit(e,t,n){if(this._exitCallback){this._exitCallback(new u(e,t,n))}a.exit(e)}action(e){const listener=t=>{const n=this._args.length;const r=t.slice(0,n);if(this._storeOptionsAsProperties){r[n]=this}else{r[n]=this.opts()}r.push(this);return e.apply(this,r)};this._actionHandler=listener;return this}createOption(e,t){return new h(e,t)}addOption(e){const t=e.name();const n=e.attributeName();if(e.negate){const t=e.long.replace(/^--no-/,"--");if(!this._findOption(t)){this.setOptionValueWithSource(n,e.defaultValue===undefined?true:e.defaultValue,"default")}}else if(e.defaultValue!==undefined){this.setOptionValueWithSource(n,e.defaultValue,"default")}this.options.push(e);const handleOptionValue=(t,r,s)=>{if(t==null&&e.presetArg!==undefined){t=e.presetArg}const i=this.getOptionValue(n);if(t!==null&&e.parseArg){try{t=e.parseArg(t,i)}catch(e){if(e.code==="commander.invalidArgument"){const t=`${r} ${e.message}`;this.error(t,{exitCode:e.exitCode,code:e.code})}throw e}}else if(t!==null&&e.variadic){t=e._concatValue(t,i)}if(t==null){if(e.negate){t=false}else if(e.isBoolean()||e.optional){t=true}else{t=""}}this.setOptionValueWithSource(n,t,s)};this.on("option:"+t,(t=>{const n=`error: option '${e.flags}' argument '${t}' is invalid.`;handleOptionValue(t,n,"cli")}));if(e.envVar){this.on("optionEnv:"+t,(t=>{const n=`error: option '${e.flags}' value '${t}' from env '${e.envVar}' is invalid.`;handleOptionValue(t,n,"env")}))}return this}_optionEx(e,t,n,r,s){if(typeof t==="object"&&t instanceof h){throw new Error("To add an Option object use addOption() instead of option() or requiredOption()")}const i=this.createOption(t,n);i.makeOptionMandatory(!!e.mandatory);if(typeof r==="function"){i.default(s).argParser(r)}else if(r instanceof RegExp){const e=r;r=(t,n)=>{const r=e.exec(t);return r?r[0]:n};i.default(s).argParser(r)}else{i.default(r)}return this.addOption(i)}option(e,t,n,r){return this._optionEx({},e,t,n,r)}requiredOption(e,t,n,r){return this._optionEx({mandatory:true},e,t,n,r)}combineFlagAndOptionalValue(e=true){this._combineFlagAndOptionalValue=!!e;return this}allowUnknownOption(e=true){this._allowUnknownOption=!!e;return this}allowExcessArguments(e=true){this._allowExcessArguments=!!e;return this}enablePositionalOptions(e=true){this._enablePositionalOptions=!!e;return this}passThroughOptions(e=true){this._passThroughOptions=!!e;if(!!this.parent&&e&&!this.parent._enablePositionalOptions){throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)")}return this}storeOptionsAsProperties(e=true){this._storeOptionsAsProperties=!!e;if(this.options.length){throw new Error("call .storeOptionsAsProperties() before adding options")}return this}getOptionValue(e){if(this._storeOptionsAsProperties){return this[e]}return this._optionValues[e]}setOptionValue(e,t){return this.setOptionValueWithSource(e,t,undefined)}setOptionValueWithSource(e,t,n){if(this._storeOptionsAsProperties){this[e]=t}else{this._optionValues[e]=t}this._optionValueSources[e]=n;return this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let t;getCommandAndParents(this).forEach((n=>{if(n.getOptionValueSource(e)!==undefined){t=n.getOptionValueSource(e)}}));return t}_prepareUserArgs(e,t){if(e!==undefined&&!Array.isArray(e)){throw new Error("first parameter to parse must be array or undefined")}t=t||{};if(e===undefined){e=a.argv;if(a.versions&&a.versions.electron){t.from="electron"}}this.rawArgs=e.slice();let n;switch(t.from){case undefined:case"node":this._scriptPath=e[1];n=e.slice(2);break;case"electron":if(a.defaultApp){this._scriptPath=e[1];n=e.slice(2)}else{n=e.slice(1)}break;case"user":n=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}if(!this._name&&this._scriptPath)this.nameFromFilename(this._scriptPath);this._name=this._name||"program";return n}parse(e,t){const n=this._prepareUserArgs(e,t);this._parseCommand([],n);return this}async parseAsync(e,t){const n=this._prepareUserArgs(e,t);await this._parseCommand([],n);return this}_executeSubCommand(e,t){t=t.slice();let n=false;const r=[".js",".ts",".tsx",".mjs",".cjs"];function findFile(e,t){const n=i.resolve(e,t);if(o.existsSync(n))return n;if(r.includes(i.extname(t)))return undefined;const s=r.find((e=>o.existsSync(`${n}${e}`)));if(s)return`${n}${s}`;return undefined}this._checkForMissingMandatoryOptions();this._checkForConflictingOptions();let c=e._executableFile||`${this._name}-${e._name}`;let l=this._executableDir||"";if(this._scriptPath){let e;try{e=o.realpathSync(this._scriptPath)}catch(t){e=this._scriptPath}l=i.resolve(i.dirname(e),l)}if(l){let t=findFile(l,c);if(!t&&!e._executableFile&&this._scriptPath){const n=i.basename(this._scriptPath,i.extname(this._scriptPath));if(n!==this._name){t=findFile(l,`${n}-${e._name}`)}}c=t||c}n=r.includes(i.extname(c));let f;if(a.platform!=="win32"){if(n){t.unshift(c);t=incrementNodeInspectorPort(a.execArgv).concat(t);f=s.spawn(a.argv[0],t,{stdio:"inherit"})}else{f=s.spawn(c,t,{stdio:"inherit"})}}else{t.unshift(c);t=incrementNodeInspectorPort(a.execArgv).concat(t);f=s.spawn(a.execPath,t,{stdio:"inherit"})}if(!f.killed){const e=["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"];e.forEach((e=>{a.on(e,(()=>{if(f.killed===false&&f.exitCode===null){f.kill(e)}}))}))}const h=this._exitCallback;if(!h){f.on("close",a.exit.bind(a))}else{f.on("close",(()=>{h(new u(a.exitCode||0,"commander.executeSubCommandAsync","(close)"))}))}f.on("error",(t=>{if(t.code==="ENOENT"){const t=l?`searched for local subcommand relative to directory '${l}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory";const n=`'${c}' does not exist\n - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${t}`;throw new Error(n)}else if(t.code==="EACCES"){throw new Error(`'${c}' not executable`)}if(!h){a.exit(1)}else{const e=new u(1,"commander.executeSubCommandAsync","(error)");e.nestedError=t;h(e)}}));this.runningCommand=f}_dispatchSubcommand(e,t,n){const r=this._findCommand(e);if(!r)this.help({error:true});let s;s=this._chainOrCallSubCommandHook(s,r,"preSubcommand");s=this._chainOrCall(s,(()=>{if(r._executableHandler){this._executeSubCommand(r,t.concat(n))}else{return r._parseCommand(t,n)}}));return s}_checkNumberOfArguments(){this._args.forEach(((e,t)=>{if(e.required&&this.args[t]==null){this.missingArgument(e.name())}}));if(this._args.length>0&&this._args[this._args.length-1].variadic){return}if(this.args.length>this._args.length){this._excessArguments(this.args)}}_processArguments(){const myParseArg=(e,t,n)=>{let r=t;if(t!==null&&e.parseArg){try{r=e.parseArg(t,n)}catch(n){if(n.code==="commander.invalidArgument"){const r=`error: command-argument value '${t}' is invalid for argument '${e.name()}'. ${n.message}`;this.error(r,{exitCode:n.exitCode,code:n.code})}throw n}}return r};this._checkNumberOfArguments();const e=[];this._args.forEach(((t,n)=>{let r=t.defaultValue;if(t.variadic){if(n<this.args.length){r=this.args.slice(n);if(t.parseArg){r=r.reduce(((e,n)=>myParseArg(t,n,e)),t.defaultValue)}}else if(r===undefined){r=[]}}else if(n<this.args.length){r=this.args[n];if(t.parseArg){r=myParseArg(t,r,t.defaultValue)}}e[n]=r}));this.processedArgs=e}_chainOrCall(e,t){if(e&&e.then&&typeof e.then==="function"){return e.then((()=>t()))}return t()}_chainOrCallHooks(e,t){let n=e;const r=[];getCommandAndParents(this).reverse().filter((e=>e._lifeCycleHooks[t]!==undefined)).forEach((e=>{e._lifeCycleHooks[t].forEach((t=>{r.push({hookedCommand:e,callback:t})}))}));if(t==="postAction"){r.reverse()}r.forEach((e=>{n=this._chainOrCall(n,(()=>e.callback(e.hookedCommand,this)))}));return n}_chainOrCallSubCommandHook(e,t,n){let r=e;if(this._lifeCycleHooks[n]!==undefined){this._lifeCycleHooks[n].forEach((e=>{r=this._chainOrCall(r,(()=>e(this,t)))}))}return r}_parseCommand(e,t){const n=this.parseOptions(t);this._parseOptionsEnv();this._parseOptionsImplied();e=e.concat(n.operands);t=n.unknown;this.args=e.concat(t);if(e&&this._findCommand(e[0])){return this._dispatchSubcommand(e[0],e.slice(1),t)}if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName){if(e.length===1){this.help()}return this._dispatchSubcommand(e[1],[],[this._helpLongFlag])}if(this._defaultCommandName){outputHelpIfRequested(this,t);return this._dispatchSubcommand(this._defaultCommandName,e,t)}if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName){this.help({error:true})}outputHelpIfRequested(this,n.unknown);this._checkForMissingMandatoryOptions();this._checkForConflictingOptions();const checkForUnknownOptions=()=>{if(n.unknown.length>0){this.unknownOption(n.unknown[0])}};const r=`command:${this.name()}`;if(this._actionHandler){checkForUnknownOptions();this._processArguments();let n;n=this._chainOrCallHooks(n,"preAction");n=this._chainOrCall(n,(()=>this._actionHandler(this.processedArgs)));if(this.parent){n=this._chainOrCall(n,(()=>{this.parent.emit(r,e,t)}))}n=this._chainOrCallHooks(n,"postAction");return n}if(this.parent&&this.parent.listenerCount(r)){checkForUnknownOptions();this._processArguments();this.parent.emit(r,e,t)}else if(e.length){if(this._findCommand("*")){return this._dispatchSubcommand("*",e,t)}if(this.listenerCount("command:*")){this.emit("command:*",e,t)}else if(this.commands.length){this.unknownCommand()}else{checkForUnknownOptions();this._processArguments()}}else if(this.commands.length){checkForUnknownOptions();this.help({error:true})}else{checkForUnknownOptions();this._processArguments()}}_findCommand(e){if(!e)return undefined;return this.commands.find((t=>t._name===e||t._aliases.includes(e)))}_findOption(e){return this.options.find((t=>t.is(e)))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent){e.options.forEach((t=>{if(t.mandatory&&e.getOptionValue(t.attributeName())===undefined){e.missingMandatoryOptionValue(t)}}))}}_checkForConflictingLocalOptions(){const e=this.options.filter((e=>{const t=e.attributeName();if(this.getOptionValue(t)===undefined){return false}return this.getOptionValueSource(t)!=="default"}));const t=e.filter((e=>e.conflictsWith.length>0));t.forEach((t=>{const n=e.find((e=>t.conflictsWith.includes(e.attributeName())));if(n){this._conflictingOption(t,n)}}))}_checkForConflictingOptions(){for(let e=this;e;e=e.parent){e._checkForConflictingLocalOptions()}}parseOptions(e){const t=[];const n=[];let r=t;const s=e.slice();function maybeOption(e){return e.length>1&&e[0]==="-"}let i=null;while(s.length){const e=s.shift();if(e==="--"){if(r===n)r.push(e);r.push(...s);break}if(i&&!maybeOption(e)){this.emit(`option:${i.name()}`,e);continue}i=null;if(maybeOption(e)){const t=this._findOption(e);if(t){if(t.required){const e=s.shift();if(e===undefined)this.optionMissingArgument(t);this.emit(`option:${t.name()}`,e)}else if(t.optional){let e=null;if(s.length>0&&!maybeOption(s[0])){e=s.shift()}this.emit(`option:${t.name()}`,e)}else{this.emit(`option:${t.name()}`)}i=t.variadic?t:null;continue}}if(e.length>2&&e[0]==="-"&&e[1]!=="-"){const t=this._findOption(`-${e[1]}`);if(t){if(t.required||t.optional&&this._combineFlagAndOptionalValue){this.emit(`option:${t.name()}`,e.slice(2))}else{this.emit(`option:${t.name()}`);s.unshift(`-${e.slice(2)}`)}continue}}if(/^--[^=]+=/.test(e)){const t=e.indexOf("=");const n=this._findOption(e.slice(0,t));if(n&&(n.required||n.optional)){this.emit(`option:${n.name()}`,e.slice(t+1));continue}}if(maybeOption(e)){r=n}if((this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&n.length===0){if(this._findCommand(e)){t.push(e);if(s.length>0)n.push(...s);break}else if(e===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(e);if(s.length>0)t.push(...s);break}else if(this._defaultCommandName){n.push(e);if(s.length>0)n.push(...s);break}}if(this._passThroughOptions){r.push(e);if(s.length>0)r.push(...s);break}r.push(e)}return{operands:t,unknown:n}}opts(){if(this._storeOptionsAsProperties){const e={};const t=this.options.length;for(let n=0;n<t;n++){const t=this.options[n].attributeName();e[t]=t===this._versionOptionName?this._version:this[t]}return e}return this._optionValues}optsWithGlobals(){return getCommandAndParents(this).reduce(((e,t)=>Object.assign(e,t.opts())),{})}error(e,t){this._outputConfiguration.outputError(`${e}\n`,this._outputConfiguration.writeErr);if(typeof this._showHelpAfterError==="string"){this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`)}else if(this._showHelpAfterError){this._outputConfiguration.writeErr("\n");this.outputHelp({error:true})}const n=t||{};const r=n.exitCode||1;const s=n.code||"commander.error";this._exit(r,s,e)}_parseOptionsEnv(){this.options.forEach((e=>{if(e.envVar&&e.envVar in a.env){const t=e.attributeName();if(this.getOptionValue(t)===undefined||["default","config","env"].includes(this.getOptionValueSource(t))){if(e.required||e.optional){this.emit(`optionEnv:${e.name()}`,a.env[e.envVar])}else{this.emit(`optionEnv:${e.name()}`)}}}}))}_parseOptionsImplied(){const e=new d(this.options);const hasCustomOptionValue=e=>this.getOptionValue(e)!==undefined&&!["default","implied"].includes(this.getOptionValueSource(e));this.options.filter((t=>t.implied!==undefined&&hasCustomOptionValue(t.attributeName())&&e.valueFromOption(this.getOptionValue(t.attributeName()),t))).forEach((e=>{Object.keys(e.implied).filter((e=>!hasCustomOptionValue(e))).forEach((t=>{this.setOptionValueWithSource(t,e.implied[t],"implied")}))}))}missingArgument(e){const t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){const t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){const t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){const findBestOptionFromValue=e=>{const t=e.attributeName();const n=this.getOptionValue(t);const r=this.options.find((e=>e.negate&&t===e.attributeName()));const s=this.options.find((e=>!e.negate&&t===e.attributeName()));if(r&&(r.presetArg===undefined&&n===false||r.presetArg!==undefined&&n===r.presetArg)){return r}return s||e};const getErrorMessage=e=>{const t=findBestOptionFromValue(e);const n=t.attributeName();const r=this.getOptionValueSource(n);if(r==="env"){return`environment variable '${t.envVar}'`}return`option '${t.flags}'`};const n=`error: ${getErrorMessage(e)} cannot be used with ${getErrorMessage(t)}`;this.error(n,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let n=[];let r=this;do{const e=r.createHelp().visibleOptions(r).filter((e=>e.long)).map((e=>e.long));n=n.concat(e);r=r.parent}while(r&&!r._enablePositionalOptions);t=m(e,n)}const n=`error: unknown option '${e}'${t}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;const t=this._args.length;const n=t===1?"":"s";const r=this.parent?` for '${this.name()}'`:"";const s=`error: too many arguments${r}. Expected ${t} argument${n} but got ${e.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){const e=this.args[0];let t="";if(this._showSuggestionAfterError){const n=[];this.createHelp().visibleCommands(this).forEach((e=>{n.push(e.name());if(e.alias())n.push(e.alias())}));t=m(e,n)}const n=`error: unknown command '${e}'${t}`;this.error(n,{code:"commander.unknownCommand"})}version(e,t,n){if(e===undefined)return this._version;this._version=e;t=t||"-V, --version";n=n||"output the version number";const r=this.createOption(t,n);this._versionOptionName=r.attributeName();this.options.push(r);this.on("option:"+r.name(),(()=>{this._outputConfiguration.writeOut(`${e}\n`);this._exit(0,"commander.version",e)}));return this}description(e,t){if(e===undefined&&t===undefined)return this._description;this._description=e;if(t){this._argsDescription=t}return this}summary(e){if(e===undefined)return this._summary;this._summary=e;return this}alias(e){if(e===undefined)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler){t=this.commands[this.commands.length-1]}if(e===t._name)throw new Error("Command alias can't be the same as its name");t._aliases.push(e);return this}aliases(e){if(e===undefined)return this._aliases;e.forEach((e=>this.alias(e)));return this}usage(e){if(e===undefined){if(this._usage)return this._usage;const e=this._args.map((e=>l(e)));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?e:[]).join(" ")}this._usage=e;return this}name(e){if(e===undefined)return this._name;this._name=e;return this}nameFromFilename(e){this._name=i.basename(e,i.extname(e));return this}executableDir(e){if(e===undefined)return this._executableDir;this._executableDir=e;return this}helpInformation(e){const t=this.createHelp();if(t.helpWidth===undefined){t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()}return t.formatHelp(this,t)}_getHelpContext(e){e=e||{};const t={error:!!e.error};let n;if(t.error){n=e=>this._outputConfiguration.writeErr(e)}else{n=e=>this._outputConfiguration.writeOut(e)}t.write=e.write||n;t.command=this;return t}outputHelp(e){let t;if(typeof e==="function"){t=e;e=undefined}const n=this._getHelpContext(e);getCommandAndParents(this).reverse().forEach((e=>e.emit("beforeAllHelp",n)));this.emit("beforeHelp",n);let r=this.helpInformation(n);if(t){r=t(r);if(typeof r!=="string"&&!Buffer.isBuffer(r)){throw new Error("outputHelp callback must return a string or a Buffer")}}n.write(r);this.emit(this._helpLongFlag);this.emit("afterHelp",n);getCommandAndParents(this).forEach((e=>e.emit("afterAllHelp",n)))}helpOption(e,t){if(typeof e==="boolean"){this._hasHelpOption=e;return this}this._helpFlags=e||this._helpFlags;this._helpDescription=t||this._helpDescription;const n=p(this._helpFlags);this._helpShortFlag=n.shortFlag;this._helpLongFlag=n.longFlag;return this}help(e){this.outputHelp(e);let t=a.exitCode||0;if(t===0&&e&&typeof e!=="function"&&e.error){t=1}this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){const n=["beforeAll","before","after","afterAll"];if(!n.includes(e)){throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${n.join("', '")}'`)}const r=`${e}Help`;this.on(r,(e=>{let n;if(typeof t==="function"){n=t({error:e.error,command:e.command})}else{n=t}if(n){e.write(`${n}\n`)}}));return this}}function outputHelpIfRequested(e,t){const n=e._hasHelpOption&&t.find((t=>t===e._helpLongFlag||t===e._helpShortFlag));if(n){e.outputHelp();e._exit(0,"commander.helpDisplayed","(outputHelp)")}}function incrementNodeInspectorPort(e){return e.map((e=>{if(!e.startsWith("--inspect")){return e}let t;let n="127.0.0.1";let r="9229";let s;if((s=e.match(/^(--inspect(-brk)?)$/))!==null){t=s[1]}else if((s=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null){t=s[1];if(/^\d+$/.test(s[3])){r=s[3]}else{n=s[3]}}else if((s=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null){t=s[1];n=s[3];r=s[4]}if(t&&r!=="0"){return`${t}=${n}:${parseInt(r)+1}`}return e}))}function getCommandAndParents(e){const t=[];for(let n=e;n;n=n.parent){t.push(n)}return t}t.Command=Command},2625:(e,t)=>{class CommanderError extends Error{constructor(e,t,n){super(n);Error.captureStackTrace(this,this.constructor);this.name=this.constructor.name;this.code=t;this.exitCode=e;this.nestedError=undefined}}class InvalidArgumentError extends CommanderError{constructor(e){super(1,"commander.invalidArgument",e);Error.captureStackTrace(this,this.constructor);this.name=this.constructor.name}}t.CommanderError=CommanderError;t.InvalidArgumentError=InvalidArgumentError},5153:(e,t,n)=>{const{humanReadableArgName:r}=n(9414);class Help{constructor(){this.helpWidth=undefined;this.sortSubcommands=false;this.sortOptions=false;this.showGlobalOptions=false}visibleCommands(e){const t=e.commands.filter((e=>!e._hidden));if(e._hasImplicitHelpCommand()){const[,n,r]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/);const s=e.createCommand(n).helpOption(false);s.description(e._helpCommandDescription);if(r)s.arguments(r);t.push(s)}if(this.sortSubcommands){t.sort(((e,t)=>e.name().localeCompare(t.name())))}return t}compareOptions(e,t){const getSortKey=e=>e.short?e.short.replace(/^-/,""):e.long.replace(/^--/,"");return getSortKey(e).localeCompare(getSortKey(t))}visibleOptions(e){const t=e.options.filter((e=>!e.hidden));const n=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag);const r=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(n||r){let s;if(!n){s=e.createOption(e._helpLongFlag,e._helpDescription)}else if(!r){s=e.createOption(e._helpShortFlag,e._helpDescription)}else{s=e.createOption(e._helpFlags,e._helpDescription)}t.push(s)}if(this.sortOptions){t.sort(this.compareOptions)}return t}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];const t=[];for(let n=e.parent;n;n=n.parent){const e=n.options.filter((e=>!e.hidden));t.push(...e)}if(this.sortOptions){t.sort(this.compareOptions)}return t}visibleArguments(e){if(e._argsDescription){e._args.forEach((t=>{t.description=t.description||e._argsDescription[t.name()]||""}))}if(e._args.find((e=>e.description))){return e._args}return[]}subcommandTerm(e){const t=e._args.map((e=>r(e))).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce(((e,n)=>Math.max(e,t.subcommandTerm(n).length)),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce(((e,n)=>Math.max(e,t.optionTerm(n).length)),0)}longestGlobalOptionTermLength(e,t){return t.visibleGlobalOptions(e).reduce(((e,n)=>Math.max(e,t.optionTerm(n).length)),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce(((e,n)=>Math.max(e,t.argumentTerm(n).length)),0)}commandUsage(e){let t=e._name;if(e._aliases[0]){t=t+"|"+e._aliases[0]}let n="";for(let t=e.parent;t;t=t.parent){n=t.name()+" "+n}return n+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){const t=[];if(e.argChoices){t.push(`choices: ${e.argChoices.map((e=>JSON.stringify(e))).join(", ")}`)}if(e.defaultValue!==undefined){const n=e.required||e.optional||e.isBoolean()&&typeof e.defaultValue==="boolean";if(n){t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`)}}if(e.presetArg!==undefined&&e.optional){t.push(`preset: ${JSON.stringify(e.presetArg)}`)}if(e.envVar!==undefined){t.push(`env: ${e.envVar}`)}if(t.length>0){return`${e.description} (${t.join(", ")})`}return e.description}argumentDescription(e){const t=[];if(e.argChoices){t.push(`choices: ${e.argChoices.map((e=>JSON.stringify(e))).join(", ")}`)}if(e.defaultValue!==undefined){t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`)}if(t.length>0){const n=`(${t.join(", ")})`;if(e.description){return`${e.description} ${n}`}return n}return e.description}formatHelp(e,t){const n=t.padWidth(e,t);const r=t.helpWidth||80;const s=2;const i=2;function formatItem(e,o){if(o){const a=`${e.padEnd(n+i)}${o}`;return t.wrap(a,r-s,n+i)}return e}function formatList(e){return e.join("\n").replace(/^/gm," ".repeat(s))}let o=[`Usage: ${t.commandUsage(e)}`,""];const a=t.commandDescription(e);if(a.length>0){o=o.concat([a,""])}const c=t.visibleArguments(e).map((e=>formatItem(t.argumentTerm(e),t.argumentDescription(e))));if(c.length>0){o=o.concat(["Arguments:",formatList(c),""])}const l=t.visibleOptions(e).map((e=>formatItem(t.optionTerm(e),t.optionDescription(e))));if(l.length>0){o=o.concat(["Options:",formatList(l),""])}if(this.showGlobalOptions){const n=t.visibleGlobalOptions(e).map((e=>formatItem(t.optionTerm(e),t.optionDescription(e))));if(n.length>0){o=o.concat(["Global Options:",formatList(n),""])}}const u=t.visibleCommands(e).map((e=>formatItem(t.subcommandTerm(e),t.subcommandDescription(e))));if(u.length>0){o=o.concat(["Commands:",formatList(u),""])}return o.join("\n")}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestGlobalOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,n,r=40){if(e.match(/[\n]\s+/))return e;const s=t-n;if(s<r)return e;const i=e.slice(0,n);const o=e.slice(n);const a=" ".repeat(n);const c=new RegExp(".{1,"+(s-1)+"}([\\s​]|$)|[^\\s​]+?([\\s​]|$)","g");const l=o.match(c)||[];return i+l.map(((e,t)=>{if(e.slice(-1)==="\n"){e=e.slice(0,e.length-1)}return(t>0?a:"")+e.trimRight()})).join("\n")}}t.Help=Help},6558:(e,t,n)=>{const{InvalidArgumentError:r}=n(2625);class Option{constructor(e,t){this.flags=e;this.description=t||"";this.required=e.includes("<");this.optional=e.includes("[");this.variadic=/\w\.\.\.[>\]]$/.test(e);this.mandatory=false;const n=splitOptionFlags(e);this.short=n.shortFlag;this.long=n.longFlag;this.negate=false;if(this.long){this.negate=this.long.startsWith("--no-")}this.defaultValue=undefined;this.defaultValueDescription=undefined;this.presetArg=undefined;this.envVar=undefined;this.parseArg=undefined;this.hidden=false;this.argChoices=undefined;this.conflictsWith=[];this.implied=undefined}default(e,t){this.defaultValue=e;this.defaultValueDescription=t;return this}preset(e){this.presetArg=e;return this}conflicts(e){this.conflictsWith=this.conflictsWith.concat(e);return this}implies(e){this.implied=Object.assign(this.implied||{},e);return this}env(e){this.envVar=e;return this}argParser(e){this.parseArg=e;return this}makeOptionMandatory(e=true){this.mandatory=!!e;return this}hideHelp(e=true){this.hidden=!!e;return this}_concatValue(e,t){if(t===this.defaultValue||!Array.isArray(t)){return[e]}return t.concat(e)}choices(e){this.argChoices=e.slice();this.parseArg=(e,t)=>{if(!this.argChoices.includes(e)){throw new r(`Allowed choices are ${this.argChoices.join(", ")}.`)}if(this.variadic){return this._concatValue(e,t)}return e};return this}name(){if(this.long){return this.long.replace(/^--/,"")}return this.short.replace(/^-/,"")}attributeName(){return camelcase(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class DualOptions{constructor(e){this.positiveOptions=new Map;this.negativeOptions=new Map;this.dualOptions=new Set;e.forEach((e=>{if(e.negate){this.negativeOptions.set(e.attributeName(),e)}else{this.positiveOptions.set(e.attributeName(),e)}}));this.negativeOptions.forEach(((e,t)=>{if(this.positiveOptions.has(t)){this.dualOptions.add(t)}}))}valueFromOption(e,t){const n=t.attributeName();if(!this.dualOptions.has(n))return true;const r=this.negativeOptions.get(n).presetArg;const s=r!==undefined?r:false;return t.negate===(s===e)}}function camelcase(e){return e.split("-").reduce(((e,t)=>e+t[0].toUpperCase()+t.slice(1)))}function splitOptionFlags(e){let t;let n;const r=e.split(/[ |,]+/);if(r.length>1&&!/^[[<]/.test(r[1]))t=r.shift();n=r.shift();if(!t&&/^-[^-]$/.test(n)){t=n;n=undefined}return{shortFlag:t,longFlag:n}}t.Option=Option;t.splitOptionFlags=splitOptionFlags;t.DualOptions=DualOptions},7592:(e,t)=>{const n=3;function editDistance(e,t){if(Math.abs(e.length-t.length)>n)return Math.max(e.length,t.length);const r=[];for(let t=0;t<=e.length;t++){r[t]=[t]}for(let e=0;e<=t.length;e++){r[0][e]=e}for(let n=1;n<=t.length;n++){for(let s=1;s<=e.length;s++){let i=1;if(e[s-1]===t[n-1]){i=0}else{i=1}r[s][n]=Math.min(r[s-1][n]+1,r[s][n-1]+1,r[s-1][n-1]+i);if(s>1&&n>1&&e[s-1]===t[n-2]&&e[s-2]===t[n-1]){r[s][n]=Math.min(r[s][n],r[s-2][n-2]+1)}}}return r[e.length][t.length]}function suggestSimilar(e,t){if(!t||t.length===0)return"";t=Array.from(new Set(t));const r=e.startsWith("--");if(r){e=e.slice(2);t=t.map((e=>e.slice(2)))}let s=[];let i=n;const o=.4;t.forEach((t=>{if(t.length<=1)return;const n=editDistance(e,t);const r=Math.max(e.length,t.length);const a=(r-n)/r;if(a>o){if(n<i){i=n;s=[t]}else if(n===i){s.push(t)}}}));s.sort(((e,t)=>e.localeCompare(t)));if(r){s=s.map((e=>`--${e}`))}if(s.length>1){return`\n(Did you mean one of ${s.join(", ")}?)`}if(s.length===1){return`\n(Did you mean ${s[0]}?)`}return""}t.suggestSimilar=suggestSimilar},8109:(e,t,n)=>{"use strict";var r=n(1399);var s=n(9338);var i=n(2986);var o=n(2289);var a=n(45);function composeCollection(e,t,n,c,l){let u;switch(n.type){case"block-map":{u=i.resolveBlockMap(e,t,n,l);break}case"block-seq":{u=o.resolveBlockSeq(e,t,n,l);break}case"flow-collection":{u=a.resolveFlowCollection(e,t,n,l);break}}if(!c)return u;const f=t.directives.tagName(c.source,(e=>l(c,"TAG_RESOLVE_FAILED",e)));if(!f)return u;const h=u.constructor;if(f==="!"||f===h.tagName){u.tag=h.tagName;return u}const p=r.isMap(u)?"map":"seq";let d=t.schema.tags.find((e=>e.collection===p&&e.tag===f));if(!d){const e=t.schema.knownTags[f];if(e&&e.collection===p){t.schema.tags.push(Object.assign({},e,{default:false}));d=e}else{l(c,"TAG_RESOLVE_FAILED",`Unresolved tag: ${f}`,true);u.tag=f;return u}}const m=d.resolve(u,(e=>l(c,"TAG_RESOLVE_FAILED",e)),t.options);const g=r.isNode(m)?m:new s.Scalar(m);g.range=u.range;g.tag=f;if(d?.format)g.format=d.format;return g}t.composeCollection=composeCollection},5050:(e,t,n)=>{"use strict";var r=n(42);var s=n(8676);var i=n(1250);var o=n(6985);function composeDoc(e,t,{offset:n,start:a,value:c,end:l},u){const f=Object.assign({_directives:t},e);const h=new r.Document(undefined,f);const p={atRoot:true,directives:h.directives,options:h.options,schema:h.schema};const d=o.resolveProps(a,{indicator:"doc-start",next:c??l?.[0],offset:n,onError:u,startOnNewline:true});if(d.found){h.directives.docStart=true;if(c&&(c.type==="block-map"||c.type==="block-seq")&&!d.hasNewline)u(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")}h.contents=c?s.composeNode(p,c,d,u):s.composeEmptyNode(p,d.end,a,null,d,u);const m=h.contents.range[2];const g=i.resolveEnd(l,m,false,u);if(g.comment)h.comment=g.comment;h.range=[n,m,g.offset];return h}t.composeDoc=composeDoc},8676:(e,t,n)=>{"use strict";var r=n(5639);var s=n(8109);var i=n(4766);var o=n(1250);var a=n(8781);const c={composeNode:composeNode,composeEmptyNode:composeEmptyNode};function composeNode(e,t,n,r){const{spaceBefore:o,comment:a,anchor:l,tag:u}=n;let f;let h=true;switch(t.type){case"alias":f=composeAlias(e,t,r);if(l||u)r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=i.composeScalar(e,t,u,r);if(l)f.anchor=l.source.substring(1);break;case"block-map":case"block-seq":case"flow-collection":f=s.composeCollection(c,e,t,u,r);if(l)f.anchor=l.source.substring(1);break;default:{const s=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",s);f=composeEmptyNode(e,t.offset,undefined,null,n,r);h=false}}if(l&&f.anchor==="")r(l,"BAD_ALIAS","Anchor cannot be an empty string");if(o)f.spaceBefore=true;if(a){if(t.type==="scalar"&&t.source==="")f.comment=a;else f.commentBefore=a}if(e.options.keepSourceTokens&&h)f.srcToken=t;return f}function composeEmptyNode(e,t,n,r,{spaceBefore:s,comment:o,anchor:c,tag:l,end:u},f){const h={type:"scalar",offset:a.emptyScalarPosition(t,n,r),indent:-1,source:""};const p=i.composeScalar(e,h,l,f);if(c){p.anchor=c.source.substring(1);if(p.anchor==="")f(c,"BAD_ALIAS","Anchor cannot be an empty string")}if(s)p.spaceBefore=true;if(o){p.comment=o;p.range[2]=u}return p}function composeAlias({options:e},{offset:t,source:n,end:s},i){const a=new r.Alias(n.substring(1));if(a.source==="")i(t,"BAD_ALIAS","Alias cannot be an empty string");if(a.source.endsWith(":"))i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",true);const c=t+n.length;const l=o.resolveEnd(s,c,e.strict,i);a.range=[t,c,l.offset];if(l.comment)a.comment=l.comment;return a}t.composeEmptyNode=composeEmptyNode;t.composeNode=composeNode},4766:(e,t,n)=>{"use strict";var r=n(1399);var s=n(9338);var i=n(9485);var o=n(7578);function composeScalar(e,t,n,a){const{value:c,type:l,comment:u,range:f}=t.type==="block-scalar"?i.resolveBlockScalar(t,e.options.strict,a):o.resolveFlowScalar(t,e.options.strict,a);const h=n?e.directives.tagName(n.source,(e=>a(n,"TAG_RESOLVE_FAILED",e))):null;const p=n&&h?findScalarTagByName(e.schema,c,h,n,a):t.type==="scalar"?findScalarTagByTest(e,c,t,a):e.schema[r.SCALAR];let d;try{const i=p.resolve(c,(e=>a(n??t,"TAG_RESOLVE_FAILED",e)),e.options);d=r.isScalar(i)?i:new s.Scalar(i)}catch(e){const r=e instanceof Error?e.message:String(e);a(n??t,"TAG_RESOLVE_FAILED",r);d=new s.Scalar(c)}d.range=f;d.source=c;if(l)d.type=l;if(h)d.tag=h;if(p.format)d.format=p.format;if(u)d.comment=u;return d}function findScalarTagByName(e,t,n,s,i){if(n==="!")return e[r.SCALAR];const o=[];for(const t of e.tags){if(!t.collection&&t.tag===n){if(t.default&&t.test)o.push(t);else return t}}for(const e of o)if(e.test?.test(t))return e;const a=e.knownTags[n];if(a&&!a.collection){e.tags.push(Object.assign({},a,{default:false,test:undefined}));return a}i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str");return e[r.SCALAR]}function findScalarTagByTest({directives:e,schema:t},n,s,i){const o=t.tags.find((e=>e.default&&e.test?.test(n)))||t[r.SCALAR];if(t.compat){const a=t.compat.find((e=>e.default&&e.test?.test(n)))??t[r.SCALAR];if(o.tag!==a.tag){const t=e.tagString(o.tag);const n=e.tagString(a.tag);const r=`Value may be parsed as either ${t} or ${n}`;i(s,"TAG_RESOLVE_FAILED",r,true)}}return o}t.composeScalar=composeScalar},9493:(e,t,n)=>{"use strict";var r=n(5400);var s=n(42);var i=n(4236);var o=n(1399);var a=n(5050);var c=n(1250);function getErrorPos(e){if(typeof e==="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n==="string"?n.length:1)]}function parsePrelude(e){let t="";let n=false;let r=false;for(let s=0;s<e.length;++s){const i=e[s];switch(i[0]){case"#":t+=(t===""?"":r?"\n\n":"\n")+(i.substring(1)||" ");n=true;r=false;break;case"%":if(e[s+1]?.[0]!=="#")s+=1;n=false;break;default:if(!n)r=true;n=false}}return{comment:t,afterEmptyLine:r}}class Composer{constructor(e={}){this.doc=null;this.atDirectives=false;this.prelude=[];this.errors=[];this.warnings=[];this.onError=(e,t,n,r)=>{const s=getErrorPos(e);if(r)this.warnings.push(new i.YAMLWarning(s,t,n));else this.errors.push(new i.YAMLParseError(s,t,n))};this.directives=new r.Directives({version:e.version||"1.2"});this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:r}=parsePrelude(this.prelude);if(n){const s=e.contents;if(t){e.comment=e.comment?`${e.comment}\n${n}`:n}else if(r||e.directives.docStart||!s){e.commentBefore=n}else if(o.isCollection(s)&&!s.flow&&s.items.length>0){let e=s.items[0];if(o.isPair(e))e=e.key;const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=s.commentBefore;s.commentBefore=e?`${n}\n${e}`:n}}if(t){Array.prototype.push.apply(e.errors,this.errors);Array.prototype.push.apply(e.warnings,this.warnings)}else{e.errors=this.errors;e.warnings=this.warnings}this.prelude=[];this.errors=[];this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=false,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){if(process.env.LOG_STREAM)console.dir(e,{depth:null});switch(e.type){case"directive":this.directives.add(e.source,((t,n,r)=>{const s=getErrorPos(e);s[0]+=t;this.onError(s,"BAD_DIRECTIVE",n,r)}));this.prelude.push(e.source);this.atDirectives=true;break;case"document":{const t=a.composeDoc(this.options,this.directives,e,this.onError);if(this.atDirectives&&!t.directives.docStart)this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line");this.decorate(t,false);if(this.doc)yield this.doc;this.doc=t;this.atDirectives=false;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message;const n=new i.YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",t);if(this.atDirectives||!this.doc)this.errors.push(n);else this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new i.YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=true;const t=c.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);this.decorate(this.doc,true);if(t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new i.YAMLParseError(getErrorPos(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=false,t=-1){if(this.doc){this.decorate(this.doc,true);yield this.doc;this.doc=null}else if(e){const e=Object.assign({_directives:this.directives},this.options);const n=new s.Document(undefined,e);if(this.atDirectives)this.onError(t,"MISSING_CHAR","Missing directives-end indicator line");n.range=[0,t,t];this.decorate(n,false);yield n}}}t.Composer=Composer},2986:(e,t,n)=>{"use strict";var r=n(246);var s=n(6011);var i=n(6985);var o=n(976);var a=n(3669);var c=n(6899);const l="All mapping items must start at the same column";function resolveBlockMap({composeNode:e,composeEmptyNode:t},n,u,f){const h=new s.YAMLMap(n.schema);if(n.atRoot)n.atRoot=false;let p=u.offset;let d=null;for(const s of u.items){const{start:m,key:g,sep:y,value:v}=s;const b=i.resolveProps(m,{indicator:"explicit-key-ind",next:g??y?.[0],offset:p,onError:f,startOnNewline:true});const w=!b.found;if(w){if(g){if(g.type==="block-seq")f(p,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key");else if("indent"in g&&g.indent!==u.indent)f(p,"BAD_INDENT",l)}if(!b.anchor&&!b.tag&&!y){d=b.end;if(b.comment){if(h.comment)h.comment+="\n"+b.comment;else h.comment=b.comment}continue}if(b.hasNewlineAfterProp||o.containsNewline(g)){f(g??m[m.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}}else if(b.found?.indent!==u.indent){f(p,"BAD_INDENT",l)}const k=b.end;const _=g?e(n,g,b,f):t(n,k,m,null,b,f);if(n.schema.compat)a.flowIndentCheck(u.indent,g,f);if(c.mapIncludes(n,h.items,_))f(k,"DUPLICATE_KEY","Map keys must be unique");const C=i.resolveProps(y??[],{indicator:"map-value-ind",next:v,offset:_.range[2],onError:f,startOnNewline:!g||g.type==="block-scalar"});p=C.end;if(C.found){if(w){if(v?.type==="block-map"&&!C.hasNewline)f(p,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings");if(n.options.strict&&b.start<C.found.offset-1024)f(_.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key")}const i=v?e(n,v,C,f):t(n,p,y,null,C,f);if(n.schema.compat)a.flowIndentCheck(u.indent,v,f);p=i.range[2];const o=new r.Pair(_,i);if(n.options.keepSourceTokens)o.srcToken=s;h.items.push(o)}else{if(w)f(_.range,"MISSING_CHAR","Implicit map keys need to be followed by map values");if(C.comment){if(_.comment)_.comment+="\n"+C.comment;else _.comment=C.comment}const e=new r.Pair(_);if(n.options.keepSourceTokens)e.srcToken=s;h.items.push(e)}}if(d&&d<p)f(d,"IMPOSSIBLE","Map comment with trailing content");h.range=[u.offset,p,d??p];return h}t.resolveBlockMap=resolveBlockMap},9485:(e,t,n)=>{"use strict";var r=n(9338);function resolveBlockScalar(e,t,n){const s=e.offset;const i=parseBlockScalarHeader(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};const o=i.mode===">"?r.Scalar.BLOCK_FOLDED:r.Scalar.BLOCK_LITERAL;const a=e.source?splitLines(e.source):[];let c=a.length;for(let e=a.length-1;e>=0;--e){const t=a[e][1];if(t===""||t==="\r")c=e;else break}if(c===0){const t=i.chomp==="+"&&a.length>0?"\n".repeat(Math.max(1,a.length-1)):"";let n=s+i.length;if(e.source)n+=e.source.length;return{value:t,type:o,comment:i.comment,range:[s,n,n]}}let l=e.indent+i.indent;let u=e.offset+i.length;let f=0;for(let e=0;e<c;++e){const[t,r]=a[e];if(r===""||r==="\r"){if(i.indent===0&&t.length>l)l=t.length}else{if(t.length<l){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(u+t.length,"MISSING_CHAR",e)}if(i.indent===0)l=t.length;f=e;break}u+=t.length+r.length+1}for(let e=a.length-1;e>=c;--e){if(a[e][0].length>l)c=e+1}let h="";let p="";let d=false;for(let e=0;e<f;++e)h+=a[e][0].slice(l)+"\n";for(let e=f;e<c;++e){let[t,s]=a[e];u+=t.length+s.length+1;const c=s[s.length-1]==="\r";if(c)s=s.slice(0,-1);if(s&&t.length<l){const e=i.indent?"explicit indentation indicator":"first line";const r=`Block scalar lines must not be less indented than their ${e}`;n(u-s.length-(c?2:1),"BAD_INDENT",r);t=""}if(o===r.Scalar.BLOCK_LITERAL){h+=p+t.slice(l)+s;p="\n"}else if(t.length>l||s[0]==="\t"){if(p===" ")p="\n";else if(!d&&p==="\n")p="\n\n";h+=p+t.slice(l)+s;p="\n";d=true}else if(s===""){if(p==="\n")h+="\n";else p="\n"}else{h+=p+s;p=" ";d=false}}switch(i.chomp){case"-":break;case"+":for(let e=c;e<a.length;++e)h+="\n"+a[e][0].slice(l);if(h[h.length-1]!=="\n")h+="\n";break;default:h+="\n"}const m=s+i.length+e.source.length;return{value:h,type:o,comment:i.comment,range:[s,m,m]}}function parseBlockScalarHeader({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header"){r(t[0],"IMPOSSIBLE","Block scalar header not found");return null}const{source:s}=t[0];const i=s[0];let o=0;let a="";let c=-1;for(let t=1;t<s.length;++t){const n=s[t];if(!a&&(n==="-"||n==="+"))a=n;else{const r=Number(n);if(!o&&r)o=r;else if(c===-1)c=e+t}}if(c!==-1)r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let l=false;let u="";let f=s.length;for(let e=1;e<t.length;++e){const s=t[e];switch(s.type){case"space":l=true;case"newline":f+=s.source.length;break;case"comment":if(n&&!l){const e="Comments must be separated from other tokens by white space characters";r(s,"MISSING_CHAR",e)}f+=s.source.length;u=s.source.substring(1);break;case"error":r(s,"UNEXPECTED_TOKEN",s.message);f+=s.source.length;break;default:{const e=`Unexpected token in block scalar header: ${s.type}`;r(s,"UNEXPECTED_TOKEN",e);const t=s.source;if(t&&typeof t==="string")f+=t.length}}}return{mode:i,indent:o,chomp:a,comment:u,length:f}}function splitLines(e){const t=e.split(/\n( *)/);const n=t[0];const r=n.match(/^( *)/);const s=r?.[1]?[r[1],n.slice(r[1].length)]:["",n];const i=[s];for(let e=1;e<t.length;e+=2)i.push([t[e],t[e+1]]);return i}t.resolveBlockScalar=resolveBlockScalar},2289:(e,t,n)=>{"use strict";var r=n(5161);var s=n(6985);var i=n(3669);function resolveBlockSeq({composeNode:e,composeEmptyNode:t},n,o,a){const c=new r.YAMLSeq(n.schema);if(n.atRoot)n.atRoot=false;let l=o.offset;let u=null;for(const{start:r,value:f}of o.items){const h=s.resolveProps(r,{indicator:"seq-item-ind",next:f,offset:l,onError:a,startOnNewline:true});if(!h.found){if(h.anchor||h.tag||f){if(f&&f.type==="block-seq")a(h.end,"BAD_INDENT","All sequence items must start at the same column");else a(l,"MISSING_CHAR","Sequence item without - indicator")}else{u=h.end;if(h.comment)c.comment=h.comment;continue}}const p=f?e(n,f,h,a):t(n,h.end,r,null,h,a);if(n.schema.compat)i.flowIndentCheck(o.indent,f,a);l=p.range[2];c.items.push(p)}c.range=[o.offset,l,u??l];return c}t.resolveBlockSeq=resolveBlockSeq},1250:(e,t)=>{"use strict";function resolveEnd(e,t,n,r){let s="";if(e){let i=false;let o="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":i=true;break;case"comment":{if(n&&!i)r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";if(!s)s=t;else s+=o+t;o="";break}case"newline":if(s)o+=e;i=true;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:s,offset:t}}t.resolveEnd=resolveEnd},45:(e,t,n)=>{"use strict";var r=n(1399);var s=n(246);var i=n(6011);var o=n(5161);var a=n(1250);var c=n(6985);var l=n(976);var u=n(6899);const f="Block collections are not allowed within flow collections";const isBlock=e=>e&&(e.type==="block-map"||e.type==="block-seq");function resolveFlowCollection({composeNode:e,composeEmptyNode:t},n,h,p){const d=h.start.source==="{";const m=d?"flow map":"flow sequence";const g=d?new i.YAMLMap(n.schema):new o.YAMLSeq(n.schema);g.flow=true;const y=n.atRoot;if(y)n.atRoot=false;let v=h.offset+h.start.source.length;for(let o=0;o<h.items.length;++o){const a=h.items[o];const{start:y,key:b,sep:w,value:k}=a;const _=c.resolveProps(y,{flow:m,indicator:"explicit-key-ind",next:b??w?.[0],offset:v,onError:p,startOnNewline:false});if(!_.found){if(!_.anchor&&!_.tag&&!w&&!k){if(o===0&&_.comma)p(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${m}`);else if(o<h.items.length-1)p(_.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${m}`);if(_.comment){if(g.comment)g.comment+="\n"+_.comment;else g.comment=_.comment}v=_.end;continue}if(!d&&n.options.strict&&l.containsNewline(b))p(b,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(o===0){if(_.comma)p(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${m}`)}else{if(!_.comma)p(_.start,"MISSING_CHAR",`Missing , between ${m} items`);if(_.comment){let e="";e:for(const t of y){switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}}if(e){let t=g.items[g.items.length-1];if(r.isPair(t))t=t.value??t.key;if(t.comment)t.comment+="\n"+e;else t.comment=e;_.comment=_.comment.substring(e.length+1)}}}if(!d&&!w&&!_.found){const r=k?e(n,k,_,p):t(n,_.end,w,null,_,p);g.items.push(r);v=r.range[2];if(isBlock(k))p(r.range,"BLOCK_IN_FLOW",f)}else{const r=_.end;const o=b?e(n,b,_,p):t(n,r,y,null,_,p);if(isBlock(b))p(o.range,"BLOCK_IN_FLOW",f);const l=c.resolveProps(w??[],{flow:m,indicator:"map-value-ind",next:k,offset:o.range[2],onError:p,startOnNewline:false});if(l.found){if(!d&&!_.found&&n.options.strict){if(w)for(const e of w){if(e===l.found)break;if(e.type==="newline"){p(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}if(_.start<l.found.offset-1024)p(l.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else if(k){if("source"in k&&k.source&&k.source[0]===":")p(k,"MISSING_CHAR",`Missing space after : in ${m}`);else p(l.start,"MISSING_CHAR",`Missing , or : between ${m} items`)}const h=k?e(n,k,l,p):l.found?t(n,l.end,w,null,l,p):null;if(h){if(isBlock(k))p(h.range,"BLOCK_IN_FLOW",f)}else if(l.comment){if(o.comment)o.comment+="\n"+l.comment;else o.comment=l.comment}const C=new s.Pair(o,h);if(n.options.keepSourceTokens)C.srcToken=a;if(d){const e=g;if(u.mapIncludes(n,e.items,o))p(r,"DUPLICATE_KEY","Map keys must be unique");e.items.push(C)}else{const e=new i.YAMLMap(n.schema);e.flow=true;e.items.push(C);g.items.push(e)}v=h?h.range[2]:l.end}}const b=d?"}":"]";const[w,...k]=h.end;let _=v;if(w&&w.source===b)_=w.offset+w.source.length;else{const e=m[0].toUpperCase()+m.substring(1);const t=y?`${e} must end with a ${b}`:`${e} in block collection must be sufficiently indented and end with a ${b}`;p(v,y?"MISSING_CHAR":"BAD_INDENT",t);if(w&&w.source.length!==1)k.unshift(w)}if(k.length>0){const e=a.resolveEnd(k,_,n.options.strict,p);if(e.comment){if(g.comment)g.comment+="\n"+e.comment;else g.comment=e.comment}g.range=[h.offset,_,e.offset]}else{g.range=[h.offset,_,_]}return g}t.resolveFlowCollection=resolveFlowCollection},7578:(e,t,n)=>{"use strict";var r=n(9338);var s=n(1250);function resolveFlowScalar(e,t,n){const{offset:i,type:o,source:a,end:c}=e;let l;let u;const _onError=(e,t,r)=>n(i+e,t,r);switch(o){case"scalar":l=r.Scalar.PLAIN;u=plainValue(a,_onError);break;case"single-quoted-scalar":l=r.Scalar.QUOTE_SINGLE;u=singleQuotedValue(a,_onError);break;case"double-quoted-scalar":l=r.Scalar.QUOTE_DOUBLE;u=doubleQuotedValue(a,_onError);break;default:n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`);return{value:"",type:null,comment:"",range:[i,i+a.length,i+a.length]}}const f=i+a.length;const h=s.resolveEnd(c,f,t,n);return{value:u,type:l,comment:h.comment,range:[i,f,h.offset]}}function plainValue(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}if(n)t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return foldLines(e)}function singleQuotedValue(e,t){if(e[e.length-1]!=="'"||e.length===1)t(e.length,"MISSING_CHAR","Missing closing 'quote");return foldLines(e.slice(1,-1)).replace(/''/g,"'")}function foldLines(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy");n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/ys;n=/[ \t]*(.*?)[ \t]*\r?\n/ys}let r=t.exec(e);if(!r)return e;let s=r[1];let i=" ";let o=t.lastIndex;n.lastIndex=o;while(r=n.exec(e)){if(r[1]===""){if(i==="\n")s+=i;else i="\n"}else{s+=i+r[1];i=" "}o=n.lastIndex}const a=/[ \t]*(.*)/ys;a.lastIndex=o;r=a.exec(e);return s+i+(r?.[1]??"")}function doubleQuotedValue(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(s==="\r"&&e[r+1]==="\n")continue;if(s==="\n"){const{fold:t,offset:s}=foldNewline(e,r);n+=t;r=s}else if(s==="\\"){let s=e[++r];const o=i[s];if(o)n+=o;else if(s==="\n"){s=e[r+1];while(s===" "||s==="\t")s=e[++r+1]}else if(s==="\r"&&e[r+1]==="\n"){s=e[++r+1];while(s===" "||s==="\t")s=e[++r+1]}else if(s==="x"||s==="u"||s==="U"){const i={x:2,u:4,U:8}[s];n+=parseCharCode(e,r+1,i,t);r+=i}else{const s=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`);n+=s}}else if(s===" "||s==="\t"){const t=r;let i=e[r+1];while(i===" "||i==="\t")i=e[++r+1];if(i!=="\n"&&!(i==="\r"&&e[r+2]==="\n"))n+=r>t?e.slice(t,r+1):s}else{n+=s}}if(e[e.length-1]!=='"'||e.length===1)t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}function foldNewline(e,t){let n="";let r=e[t+1];while(r===" "||r==="\t"||r==="\n"||r==="\r"){if(r==="\r"&&e[t+2]!=="\n")break;if(r==="\n")n+="\n";t+=1;r=e[t+1]}if(!n)n=" ";return{fold:n,offset:t}}const i={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function parseCharCode(e,t,n,r){const s=e.substr(t,n);const i=s.length===n&&/^[0-9a-fA-F]+$/.test(s);const o=i?parseInt(s,16):NaN;if(isNaN(o)){const s=e.substr(t-2,n+2);r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${s}`);return s}return String.fromCodePoint(o)}t.resolveFlowScalar=resolveFlowScalar},6985:(e,t)=>{"use strict";function resolveProps(e,{flow:t,indicator:n,next:r,offset:s,onError:i,startOnNewline:o}){let a=false;let c=o;let l=o;let u="";let f="";let h=false;let p=false;let d=false;let m=null;let g=null;let y=null;let v=null;let b=null;for(const r of e){if(d){if(r.type!=="space"&&r.type!=="newline"&&r.type!=="comma")i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");d=false}switch(r.type){case"space":if(!t&&c&&n!=="doc-start"&&r.source[0]==="\t")i(r,"TAB_AS_INDENT","Tabs are not allowed as indentation");l=true;break;case"comment":{if(!l)i(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=r.source.substring(1)||" ";if(!u)u=e;else u+=f+e;f="";c=false;break}case"newline":if(c){if(u)u+=r.source;else a=true}else f+=r.source;c=true;h=true;if(m||g)p=true;l=true;break;case"anchor":if(m)i(r,"MULTIPLE_ANCHORS","A node can have at most one anchor");if(r.source.endsWith(":"))i(r.offset+r.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",true);m=r;if(b===null)b=r.offset;c=false;l=false;d=true;break;case"tag":{if(g)i(r,"MULTIPLE_TAGS","A node can have at most one tag");g=r;if(b===null)b=r.offset;c=false;l=false;d=true;break}case n:if(m||g)i(r,"BAD_PROP_ORDER",`Anchors and tags must be after the ${r.source} indicator`);if(v)i(r,"UNEXPECTED_TOKEN",`Unexpected ${r.source} in ${t??"collection"}`);v=r;c=false;l=false;break;case"comma":if(t){if(y)i(r,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`);y=r;c=false;l=false;break}default:i(r,"UNEXPECTED_TOKEN",`Unexpected ${r.type} token`);c=false;l=false}}const w=e[e.length-1];const k=w?w.offset+w.source.length:s;if(d&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!==""))i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");return{comma:y,found:v,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:p,anchor:m,tag:g,end:k,start:b??k}}t.resolveProps=resolveProps},976:(e,t)=>{"use strict";function containsNewline(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return true;if(e.end)for(const t of e.end)if(t.type==="newline")return true;return false;case"flow-collection":for(const t of e.items){for(const e of t.start)if(e.type==="newline")return true;if(t.sep)for(const e of t.sep)if(e.type==="newline")return true;if(containsNewline(t.key)||containsNewline(t.value))return true}return false;default:return true}}t.containsNewline=containsNewline},8781:(e,t)=>{"use strict";function emptyScalarPosition(e,t,n){if(t){if(n===null)n=t.length;for(let r=n-1;r>=0;--r){let n=t[r];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}n=t[++r];while(n?.type==="space"){e+=n.source.length;n=t[++r]}break}}return e}t.emptyScalarPosition=emptyScalarPosition},3669:(e,t,n)=>{"use strict";var r=n(976);function flowIndentCheck(e,t,n){if(t?.type==="flow-collection"){const s=t.end[0];if(s.indent===e&&(s.source==="]"||s.source==="}")&&r.containsNewline(t)){const e="Flow end indicator should be more indented than parent";n(s,"BAD_INDENT",e,true)}}}t.flowIndentCheck=flowIndentCheck},6899:(e,t,n)=>{"use strict";var r=n(1399);function mapIncludes(e,t,n){const{uniqueKeys:s}=e.options;if(s===false)return false;const i=typeof s==="function"?s:(t,n)=>t===n||r.isScalar(t)&&r.isScalar(n)&&t.value===n.value&&!(t.value==="<<"&&e.schema.merge);return t.some((e=>i(e.key,n)))}t.mapIncludes=mapIncludes},42:(e,t,n)=>{"use strict";var r=n(5639);var s=n(3466);var i=n(1399);var o=n(246);var a=n(2463);var c=n(6831);var l=n(8409);var u=n(5225);var f=n(8459);var h=n(3412);var p=n(9652);var d=n(5400);class Document{constructor(e,t,n){this.commentBefore=null;this.comment=null;this.errors=[];this.warnings=[];Object.defineProperty(this,i.NODE_TYPE,{value:i.DOC});let r=null;if(typeof t==="function"||Array.isArray(t)){r=t}else if(n===undefined&&t){n=t;t=undefined}const s=Object.assign({intAsBigInt:false,keepSourceTokens:false,logLevel:"warn",prettyErrors:true,strict:true,uniqueKeys:true,version:"1.2"},n);this.options=s;let{version:o}=s;if(n?._directives){this.directives=n._directives.atDocument();if(this.directives.yaml.explicit)o=this.directives.yaml.version}else this.directives=new d.Directives({version:o});this.setSchema(o,n);if(e===undefined)this.contents=null;else{this.contents=this.createNode(e,r,n)}}clone(){const e=Object.create(Document.prototype,{[i.NODE_TYPE]:{value:i.DOC}});e.commentBefore=this.commentBefore;e.comment=this.comment;e.errors=this.errors.slice();e.warnings=this.warnings.slice();e.options=Object.assign({},this.options);if(this.directives)e.directives=this.directives.clone();e.schema=this.schema.clone();e.contents=i.isNode(this.contents)?this.contents.clone(e.schema):this.contents;if(this.range)e.range=this.range.slice();return e}add(e){if(assertCollection(this.contents))this.contents.add(e)}addIn(e,t){if(assertCollection(this.contents))this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=f.anchorNames(this);e.anchor=!t||n.has(t)?f.findNewAnchor(t||"a",n):t}return new r.Alias(e.anchor)}createNode(e,t,n){let r=undefined;if(typeof t==="function"){e=t.call({"":e},"",e);r=t}else if(Array.isArray(t)){const keyToStr=e=>typeof e==="number"||e instanceof String||e instanceof Number;const e=t.filter(keyToStr).map(String);if(e.length>0)t=t.concat(e);r=t}else if(n===undefined&&t){n=t;t=undefined}const{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:l,tag:u}=n??{};const{onAnchor:h,setAnchors:d,sourceObjects:m}=f.createNodeAnchors(this,o||"a");const g={aliasDuplicateObjects:s??true,keepUndefined:c??false,onAnchor:h,onTagObj:l,replacer:r,schema:this.schema,sourceObjects:m};const y=p.createNode(e,u,g);if(a&&i.isCollection(y))y.flow=true;d();return y}createPair(e,t,n={}){const r=this.createNode(e,null,n);const s=this.createNode(t,null,n);return new o.Pair(r,s)}delete(e){return assertCollection(this.contents)?this.contents.delete(e):false}deleteIn(e){if(s.isEmptyPath(e)){if(this.contents==null)return false;this.contents=null;return true}return assertCollection(this.contents)?this.contents.deleteIn(e):false}get(e,t){return i.isCollection(this.contents)?this.contents.get(e,t):undefined}getIn(e,t){if(s.isEmptyPath(e))return!t&&i.isScalar(this.contents)?this.contents.value:this.contents;return i.isCollection(this.contents)?this.contents.getIn(e,t):undefined}has(e){return i.isCollection(this.contents)?this.contents.has(e):false}hasIn(e){if(s.isEmptyPath(e))return this.contents!==undefined;return i.isCollection(this.contents)?this.contents.hasIn(e):false}set(e,t){if(this.contents==null){this.contents=s.collectionFromPath(this.schema,[e],t)}else if(assertCollection(this.contents)){this.contents.set(e,t)}}setIn(e,t){if(s.isEmptyPath(e))this.contents=t;else if(this.contents==null){this.contents=s.collectionFromPath(this.schema,Array.from(e),t)}else if(assertCollection(this.contents)){this.contents.setIn(e,t)}}setSchema(e,t={}){if(typeof e==="number")e=String(e);let n;switch(e){case"1.1":if(this.directives)this.directives.yaml.version="1.1";else this.directives=new d.Directives({version:"1.1"});n={merge:true,resolveKnownTags:false,schema:"yaml-1.1"};break;case"1.2":case"next":if(this.directives)this.directives.yaml.version=e;else this.directives=new d.Directives({version:e});n={merge:false,resolveKnownTags:true,schema:"core"};break;case null:if(this.directives)delete this.directives;n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new c.Schema(Object.assign(n,t));else throw new Error(`With a null YAML version, the { schema: Schema } option is required`)}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:n===true,mapKeyWarned:false,maxAliasCount:typeof r==="number"?r:100,stringify:l.stringify};const c=a.toJS(this.contents,t??"",o);if(typeof s==="function")for(const{count:e,res:t}of o.anchors.values())s(t,e);return typeof i==="function"?h.applyReviver(i,{"":c},"",c):c}toJSON(e,t){return this.toJS({json:true,jsonArg:e,mapAsMap:false,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return u.stringifyDocument(this,e)}}function assertCollection(e){if(i.isCollection(e))return true;throw new Error("Expected a YAML collection as document contents")}t.Document=Document},8459:(e,t,n)=>{"use strict";var r=n(1399);var s=n(6796);function anchorIsValid(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);const n=`Anchor must not contain whitespace or control characters: ${t}`;throw new Error(n)}return true}function anchorNames(e){const t=new Set;s.visit(e,{Value(e,n){if(n.anchor)t.add(n.anchor)}});return t}function findNewAnchor(e,t){for(let n=1;true;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function createNodeAnchors(e,t){const n=[];const s=new Map;let i=null;return{onAnchor:r=>{n.push(r);if(!i)i=anchorNames(e);const s=findNewAnchor(t,i);i.add(s);return s},setAnchors:()=>{for(const e of n){const t=s.get(e);if(typeof t==="object"&&t.anchor&&(r.isScalar(t.node)||r.isCollection(t.node))){t.node.anchor=t.anchor}else{const t=new Error("Failed to resolve repeated object (this should not happen)");t.source=e;throw t}}},sourceObjects:s}}t.anchorIsValid=anchorIsValid;t.anchorNames=anchorNames;t.createNodeAnchors=createNodeAnchors;t.findNewAnchor=findNewAnchor},3412:(e,t)=>{"use strict";function applyReviver(e,t,n,r){if(r&&typeof r==="object"){if(Array.isArray(r)){for(let t=0,n=r.length;t<n;++t){const n=r[t];const s=applyReviver(e,r,String(t),n);if(s===undefined)delete r[t];else if(s!==n)r[t]=s}}else if(r instanceof Map){for(const t of Array.from(r.keys())){const n=r.get(t);const s=applyReviver(e,r,t,n);if(s===undefined)r.delete(t);else if(s!==n)r.set(t,s)}}else if(r instanceof Set){for(const t of Array.from(r)){const n=applyReviver(e,r,t,t);if(n===undefined)r.delete(t);else if(n!==t){r.delete(t);r.add(n)}}}else{for(const[t,n]of Object.entries(r)){const s=applyReviver(e,r,t,n);if(s===undefined)delete r[t];else if(s!==n)r[t]=s}}}return e.call(t,n,r)}t.applyReviver=applyReviver},9652:(e,t,n)=>{"use strict";var r=n(5639);var s=n(1399);var i=n(9338);const o="tag:yaml.org,2002:";function findTagObject(e,t,n){if(t){const e=n.filter((e=>e.tag===t));const r=e.find((e=>!e.format))??e[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return n.find((t=>t.identify?.(e)&&!t.format))}function createNode(e,t,n){if(s.isDocument(e))e=e.contents;if(s.isNode(e))return e;if(s.isPair(e)){const t=n.schema[s.MAP].createNode?.(n.schema,null,n);t.items.push(e);return t}if(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt!=="undefined"&&e instanceof BigInt){e=e.valueOf()}const{aliasDuplicateObjects:a,onAnchor:c,onTagObj:l,schema:u,sourceObjects:f}=n;let h=undefined;if(a&&e&&typeof e==="object"){h=f.get(e);if(h){if(!h.anchor)h.anchor=c(e);return new r.Alias(h.anchor)}else{h={anchor:null,node:null};f.set(e,h)}}if(t?.startsWith("!!"))t=o+t.slice(2);let p=findTagObject(e,t,u.tags);if(!p){if(e&&typeof e.toJSON==="function"){e=e.toJSON()}if(!e||typeof e!=="object"){const t=new i.Scalar(e);if(h)h.node=t;return t}p=e instanceof Map?u[s.MAP]:Symbol.iterator in Object(e)?u[s.SEQ]:u[s.MAP]}if(l){l(p);delete n.onTagObj}const d=p?.createNode?p.createNode(n.schema,e,n):new i.Scalar(e);if(t)d.tag=t;if(h)h.node=d;return d}t.createNode=createNode},5400:(e,t,n)=>{"use strict";var r=n(1399);var s=n(6796);const i={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};const escapeTagName=e=>e.replace(/[!,[\]{}]/g,(e=>i[e]));class Directives{constructor(e,t){this.docStart=null;this.docEnd=false;this.yaml=Object.assign({},Directives.defaultYaml,e);this.tags=Object.assign({},Directives.defaultTags,t)}clone(){const e=new Directives(this.yaml,this.tags);e.docStart=this.docStart;return e}atDocument(){const e=new Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=true;break;case"1.2":this.atNextDocument=false;this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.2"};this.tags=Object.assign({},Directives.defaultTags);break}return e}add(e,t){if(this.atNextDocument){this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.1"};this.tags=Object.assign({},Directives.defaultTags);this.atNextDocument=false}const n=e.trim().split(/[ \t]+/);const r=n.shift();switch(r){case"%TAG":{if(n.length!==2){t(0,"%TAG directive should contain exactly two parts");if(n.length<2)return false}const[e,r]=n;this.tags[e]=r;return true}case"%YAML":{this.yaml.explicit=true;if(n.length!==1){t(0,"%YAML directive should contain exactly one part");return false}const[e]=n;if(e==="1.1"||e==="1.2"){this.yaml.version=e;return true}else{const n=/^\d+\.\d+$/.test(e);t(6,`Unsupported YAML version ${e}`,n);return false}}default:t(0,`Unknown directive ${r}`,true);return false}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!"){t(`Not a valid tag: ${e}`);return null}if(e[1]==="<"){const n=e.slice(2,-1);if(n==="!"||n==="!!"){t(`Verbatim tags aren't resolved, so ${e} is invalid.`);return null}if(e[e.length-1]!==">")t("Verbatim tags must end with a >");return n}const[,n,r]=e.match(/^(.*!)([^!]*)$/);if(!r)t(`The ${e} tag has no suffix`);const s=this.tags[n];if(s)return s+decodeURIComponent(r);if(n==="!")return e;t(`Could not resolve tag: ${e}`);return null}tagString(e){for(const[t,n]of Object.entries(this.tags)){if(e.startsWith(n))return t+escapeTagName(e.substring(n.length))}return e[0]==="!"?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[];const n=Object.entries(this.tags);let i;if(e&&n.length>0&&r.isNode(e.contents)){const t={};s.visit(e.contents,((e,n)=>{if(r.isNode(n)&&n.tag)t[n.tag]=true}));i=Object.keys(t)}else i=[];for(const[r,s]of n){if(r==="!!"&&s==="tag:yaml.org,2002:")continue;if(!e||i.some((e=>e.startsWith(s))))t.push(`%TAG ${r} ${s}`)}return t.join("\n")}}Directives.defaultYaml={explicit:false,version:"1.2"};Directives.defaultTags={"!!":"tag:yaml.org,2002:"};t.Directives=Directives},4236:(e,t)=>{"use strict";class YAMLError extends Error{constructor(e,t,n,r){super();this.name=e;this.code=n;this.message=r;this.pos=t}}class YAMLParseError extends YAMLError{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class YAMLWarning extends YAMLError{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const prettifyError=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1;let o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const e=Math.min(i-39,o.length-79);o="…"+o.substring(e);i-=e-1}if(o.length>80)o=o.substring(0,79)+"…";if(r>1&&/^ *$/.test(o.substring(0,i))){let n=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);if(n.length>80)n=n.substring(0,79)+"…\n";o=n+o}if(/[^ ]/.test(o)){let e=1;const t=n.linePos[1];if(t&&t.line===r&&t.col>s){e=Math.min(t.col-s,80-i)}const a=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${o}\n${a}\n`}};t.YAMLError=YAMLError;t.YAMLParseError=YAMLParseError;t.YAMLWarning=YAMLWarning;t.prettifyError=prettifyError},4083:(e,t,n)=>{"use strict";var r=n(9493);var s=n(42);var i=n(6831);var o=n(4236);var a=n(5639);var c=n(1399);var l=n(246);var u=n(9338);var f=n(6011);var h=n(5161);var p=n(9169);var d=n(5976);var m=n(1929);var g=n(3328);var y=n(8649);var v=n(6796);t.Composer=r.Composer;t.Document=s.Document;t.Schema=i.Schema;t.YAMLError=o.YAMLError;t.YAMLParseError=o.YAMLParseError;t.YAMLWarning=o.YAMLWarning;t.Alias=a.Alias;t.isAlias=c.isAlias;t.isCollection=c.isCollection;t.isDocument=c.isDocument;t.isMap=c.isMap;t.isNode=c.isNode;t.isPair=c.isPair;t.isScalar=c.isScalar;t.isSeq=c.isSeq;t.Pair=l.Pair;t.Scalar=u.Scalar;t.YAMLMap=f.YAMLMap;t.YAMLSeq=h.YAMLSeq;t.CST=p;t.Lexer=d.Lexer;t.LineCounter=m.LineCounter;t.Parser=g.Parser;t.parse=y.parse;t.parseAllDocuments=y.parseAllDocuments;t.parseDocument=y.parseDocument;t.stringify=y.stringify;t.visit=v.visit;t.visitAsync=v.visitAsync},6909:(e,t)=>{"use strict";function debug(e,...t){if(e==="debug")console.log(...t)}function warn(e,t){if(e==="debug"||e==="warn"){if(typeof process!=="undefined"&&process.emitWarning)process.emitWarning(t);else console.warn(t)}}t.debug=debug;t.warn=warn},5639:(e,t,n)=>{"use strict";var r=n(8459);var s=n(6796);var i=n(1399);class Alias extends i.NodeBase{constructor(e){super(i.ALIAS);this.source=e;Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t=undefined;s.visit(e,{Node:(e,n)=>{if(n===this)return s.visit.BREAK;if(n.anchor===this.source)t=n}});return t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:r,maxAliasCount:s}=t;const i=this.resolve(r);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const o=n.get(i);if(!o||o.res===undefined){const e="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(e)}if(s>=0){o.count+=1;if(o.aliasCount===0)o.aliasCount=getAliasCount(r,i,n);if(o.count*o.aliasCount>s){const e="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(e)}}return o.res}toString(e,t,n){const s=`*${this.source}`;if(e){r.anchorIsValid(this.source);if(e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${s} `}return s}}function getAliasCount(e,t,n){if(i.isAlias(t)){const r=t.resolve(e);const s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(i.isCollection(t)){let r=0;for(const s of t.items){const t=getAliasCount(e,s,n);if(t>r)r=t}return r}else if(i.isPair(t)){const r=getAliasCount(e,t.key,n);const s=getAliasCount(e,t.value,n);return Math.max(r,s)}return 1}t.Alias=Alias},3466:(e,t,n)=>{"use strict";var r=n(9652);var s=n(1399);function collectionFromPath(e,t,n){let s=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if(typeof n==="number"&&Number.isInteger(n)&&n>=0){const e=[];e[n]=s;s=e}else{s=new Map([[n,s]])}}return r.createNode(s,undefined,{aliasDuplicateObjects:false,keepUndefined:false,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const isEmptyPath=e=>e==null||typeof e==="object"&&!!e[Symbol.iterator]().next().done;class Collection extends s.NodeBase{constructor(e,t){super(e);Object.defineProperty(this,"schema",{value:t,configurable:true,enumerable:false,writable:true})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(e)t.schema=e;t.items=t.items.map((t=>s.isNode(t)||s.isPair(t)?t.clone(e):t));if(this.range)t.range=this.range.slice();return t}addIn(e,t){if(isEmptyPath(e))this.add(t);else{const[n,...r]=e;const i=this.get(n,true);if(s.isCollection(i))i.addIn(r,t);else if(i===undefined&&this.schema)this.set(n,collectionFromPath(this.schema,r,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}deleteIn(e){const[t,...n]=e;if(n.length===0)return this.delete(t);const r=this.get(t,true);if(s.isCollection(r))return r.deleteIn(n);else throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...r]=e;const i=this.get(n,true);if(r.length===0)return!t&&s.isScalar(i)?i.value:i;else return s.isCollection(i)?i.getIn(r,t):undefined}hasAllNullValues(e){return this.items.every((t=>{if(!s.isPair(t))return false;const n=t.value;return n==null||e&&s.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(n.length===0)return this.has(t);const r=this.get(t,true);return s.isCollection(r)?r.hasIn(n):false}setIn(e,t){const[n,...r]=e;if(r.length===0){this.set(n,t)}else{const e=this.get(n,true);if(s.isCollection(e))e.setIn(r,t);else if(e===undefined&&this.schema)this.set(n,collectionFromPath(this.schema,r,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}}Collection.maxFlowStringSingleLineLength=60;t.Collection=Collection;t.collectionFromPath=collectionFromPath;t.isEmptyPath=isEmptyPath},1399:(e,t)=>{"use strict";const n=Symbol.for("yaml.alias");const r=Symbol.for("yaml.document");const s=Symbol.for("yaml.map");const i=Symbol.for("yaml.pair");const o=Symbol.for("yaml.scalar");const a=Symbol.for("yaml.seq");const c=Symbol.for("yaml.node.type");const isAlias=e=>!!e&&typeof e==="object"&&e[c]===n;const isDocument=e=>!!e&&typeof e==="object"&&e[c]===r;const isMap=e=>!!e&&typeof e==="object"&&e[c]===s;const isPair=e=>!!e&&typeof e==="object"&&e[c]===i;const isScalar=e=>!!e&&typeof e==="object"&&e[c]===o;const isSeq=e=>!!e&&typeof e==="object"&&e[c]===a;function isCollection(e){if(e&&typeof e==="object")switch(e[c]){case s:case a:return true}return false}function isNode(e){if(e&&typeof e==="object")switch(e[c]){case n:case s:case o:case a:return true}return false}const hasAnchor=e=>(isScalar(e)||isCollection(e))&&!!e.anchor;class NodeBase{constructor(e){Object.defineProperty(this,c,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(this.range)e.range=this.range.slice();return e}}t.ALIAS=n;t.DOC=r;t.MAP=s;t.NODE_TYPE=c;t.NodeBase=NodeBase;t.PAIR=i;t.SCALAR=o;t.SEQ=a;t.hasAnchor=hasAnchor;t.isAlias=isAlias;t.isCollection=isCollection;t.isDocument=isDocument;t.isMap=isMap;t.isNode=isNode;t.isPair=isPair;t.isScalar=isScalar;t.isSeq=isSeq},246:(e,t,n)=>{"use strict";var r=n(9652);var s=n(4875);var i=n(4676);var o=n(1399);function createPair(e,t,n){const s=r.createNode(e,undefined,n);const i=r.createNode(t,undefined,n);return new Pair(s,i)}class Pair{constructor(e,t=null){Object.defineProperty(this,o.NODE_TYPE,{value:o.PAIR});this.key=e;this.value=t}clone(e){let{key:t,value:n}=this;if(o.isNode(t))t=t.clone(e);if(o.isNode(n))n=n.clone(e);return new Pair(t,n)}toJSON(e,t){const n=t?.mapAsMap?new Map:{};return i.addPairToJSMap(t,n,this)}toString(e,t,n){return e?.doc?s.stringifyPair(this,e,t,n):JSON.stringify(this)}}t.Pair=Pair;t.createPair=createPair},9338:(e,t,n)=>{"use strict";var r=n(1399);var s=n(2463);const isScalarValue=e=>!e||typeof e!=="function"&&typeof e!=="object";class Scalar extends r.NodeBase{constructor(e){super(r.SCALAR);this.value=e}toJSON(e,t){return t?.keep?this.value:s.toJS(this.value,e,t)}toString(){return String(this.value)}}Scalar.BLOCK_FOLDED="BLOCK_FOLDED";Scalar.BLOCK_LITERAL="BLOCK_LITERAL";Scalar.PLAIN="PLAIN";Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE";Scalar.QUOTE_SINGLE="QUOTE_SINGLE";t.Scalar=Scalar;t.isScalarValue=isScalarValue},6011:(e,t,n)=>{"use strict";var r=n(2466);var s=n(4676);var i=n(3466);var o=n(1399);var a=n(246);var c=n(9338);function findPair(e,t){const n=o.isScalar(t)?t.value:t;for(const r of e){if(o.isPair(r)){if(r.key===t||r.key===n)return r;if(o.isScalar(r.key)&&r.key.value===n)return r}}return undefined}class YAMLMap extends i.Collection{constructor(e){super(o.MAP,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;if(o.isPair(e))n=e;else if(!e||typeof e!=="object"||!("key"in e)){n=new a.Pair(e,e?.value)}else n=new a.Pair(e.key,e.value);const r=findPair(this.items,n.key);const s=this.schema?.sortMapEntries;if(r){if(!t)throw new Error(`Key ${n.key} already set`);if(o.isScalar(r.value)&&c.isScalarValue(n.value))r.value.value=n.value;else r.value=n.value}else if(s){const e=this.items.findIndex((e=>s(n,e)<0));if(e===-1)this.items.push(n);else this.items.splice(e,0,n)}else{this.items.push(n)}}delete(e){const t=findPair(this.items,e);if(!t)return false;const n=this.items.splice(this.items.indexOf(t),1);return n.length>0}get(e,t){const n=findPair(this.items,e);const r=n?.value;return(!t&&o.isScalar(r)?r.value:r)??undefined}has(e){return!!findPair(this.items,e)}set(e,t){this.add(new a.Pair(e,t),true)}toJSON(e,t,n){const r=n?new n:t?.mapAsMap?new Map:{};if(t?.onCreate)t.onCreate(r);for(const e of this.items)s.addPairToJSMap(t,r,e);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items){if(!o.isPair(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`)}if(!e.allNullValues&&this.hasAllNullValues(false))e=Object.assign({},e,{allNullValues:true});return r.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}t.YAMLMap=YAMLMap;t.findPair=findPair},5161:(e,t,n)=>{"use strict";var r=n(2466);var s=n(3466);var i=n(1399);var o=n(9338);var a=n(2463);class YAMLSeq extends s.Collection{constructor(e){super(i.SEQ,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=asItemIndex(e);if(typeof t!=="number")return false;const n=this.items.splice(t,1);return n.length>0}get(e,t){const n=asItemIndex(e);if(typeof n!=="number")return undefined;const r=this.items[n];return!t&&i.isScalar(r)?r.value:r}has(e){const t=asItemIndex(e);return typeof t==="number"&&t<this.items.length}set(e,t){const n=asItemIndex(e);if(typeof n!=="number")throw new Error(`Expected a valid index, not ${e}.`);const r=this.items[n];if(i.isScalar(r)&&o.isScalarValue(t))r.value=t;else this.items[n]=t}toJSON(e,t){const n=[];if(t?.onCreate)t.onCreate(n);let r=0;for(const e of this.items)n.push(a.toJS(e,String(r++),t));return n}toString(e,t,n){if(!e)return JSON.stringify(this);return r.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t})}}function asItemIndex(e){let t=i.isScalar(e)?e.value:e;if(t&&typeof t==="string")t=Number(t);return typeof t==="number"&&Number.isInteger(t)&&t>=0?t:null}t.YAMLSeq=YAMLSeq},4676:(e,t,n)=>{"use strict";var r=n(6909);var s=n(8409);var i=n(1399);var o=n(9338);var a=n(2463);const c="<<";function addPairToJSMap(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&isMergeKey(n)){r=i.isAlias(r)?r.resolve(e.doc):r;if(i.isSeq(r))for(const n of r.items)mergeToJSMap(e,t,n);else if(Array.isArray(r))for(const n of r)mergeToJSMap(e,t,n);else mergeToJSMap(e,t,r)}else{const s=a.toJS(n,"",e);if(t instanceof Map){t.set(s,a.toJS(r,s,e))}else if(t instanceof Set){t.add(s)}else{const i=stringifyKey(n,s,e);const o=a.toJS(r,i,e);if(i in t)Object.defineProperty(t,i,{value:o,writable:true,enumerable:true,configurable:true});else t[i]=o}}return t}const isMergeKey=e=>e===c||i.isScalar(e)&&e.value===c&&(!e.type||e.type===o.Scalar.PLAIN);function mergeToJSMap(e,t,n){const r=e&&i.isAlias(n)?n.resolve(e.doc):n;if(!i.isMap(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[e,n]of s){if(t instanceof Map){if(!t.has(e))t.set(e,n)}else if(t instanceof Set){t.add(e)}else if(!Object.prototype.hasOwnProperty.call(t,e)){Object.defineProperty(t,e,{value:n,writable:true,enumerable:true,configurable:true})}}return t}function stringifyKey(e,t,n){if(t===null)return"";if(typeof t!=="object")return String(t);if(i.isNode(e)&&n&&n.doc){const t=s.createStringifyContext(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=true;t.inStringifyKey=true;const i=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(i);if(e.length>40)e=e.substring(0,36)+'..."';r.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`);n.mapKeyWarned=true}return i}return JSON.stringify(t)}t.addPairToJSMap=addPairToJSMap},2463:(e,t,n)=>{"use strict";var r=n(1399);function toJS(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>toJS(e,String(t),n)));if(e&&typeof e.toJSON==="function"){if(!n||!r.hasAnchor(e))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:undefined};n.anchors.set(e,s);n.onCreate=e=>{s.res=e;delete n.onCreate};const i=e.toJSON(t,n);if(n.onCreate)n.onCreate(i);return i}if(typeof e==="bigint"&&!n?.keep)return Number(e);return e}t.toJS=toJS},9027:(e,t,n)=>{"use strict";var r=n(9485);var s=n(7578);var i=n(4236);var o=n(6226);function resolveAsScalar(e,t=true,n){if(e){const _onError=(e,t,r)=>{const s=typeof e==="number"?e:Array.isArray(e)?e[0]:e.offset;if(n)n(s,t,r);else throw new i.YAMLParseError([s,s+1],t,r)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return s.resolveFlowScalar(e,t,_onError);case"block-scalar":return r.resolveBlockScalar(e,t,_onError)}}return null}function createScalarToken(e,t){const{implicitKey:n=false,indent:r,inFlow:s=false,offset:i=-1,type:a="PLAIN"}=t;const c=o.stringifyString({type:a,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:true,lineWidth:-1}});const l=t.end??[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(c[0]){case"|":case">":{const e=c.indexOf("\n");const t=c.substring(0,e);const n=c.substring(e+1)+"\n";const s=[{type:"block-scalar-header",offset:i,indent:r,source:t}];if(!addEndtoBlockProps(s,l))s.push({type:"newline",offset:-1,indent:r,source:"\n"});return{type:"block-scalar",offset:i,indent:r,props:s,source:n}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:c,end:l};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:c,end:l};default:return{type:"scalar",offset:i,indent:r,source:c,end:l}}}function setScalarValue(e,t,n={}){let{afterKey:r=false,implicitKey:s=false,inFlow:i=false,type:a}=n;let c="indent"in e?e.indent:null;if(r&&typeof c==="number")c+=2;if(!a)switch(e.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if(t.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a=t.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}const l=o.stringifyString({type:a,value:t},{implicitKey:s||c===null,indent:c!==null&&c>0?" ".repeat(c):"",inFlow:i,options:{blockQuote:true,lineWidth:-1}});switch(l[0]){case"|":case">":setBlockScalarValue(e,l);break;case'"':setFlowScalarValue(e,l,"double-quoted-scalar");break;case"'":setFlowScalarValue(e,l,"single-quoted-scalar");break;default:setFlowScalarValue(e,l,"scalar")}}function setBlockScalarValue(e,t){const n=t.indexOf("\n");const r=t.substring(0,n);const s=t.substring(n+1)+"\n";if(e.type==="block-scalar"){const t=e.props[0];if(t.type!=="block-scalar-header")throw new Error("Invalid block scalar header");t.source=r;e.source=s}else{const{offset:t}=e;const n="indent"in e?e.indent:-1;const i=[{type:"block-scalar-header",offset:t,indent:n,source:r}];if(!addEndtoBlockProps(i,"end"in e?e.end:undefined))i.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))if(t!=="type"&&t!=="offset")delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:i,source:s})}}function addEndtoBlockProps(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":e.push(n);return true}return false}function setFlowScalarValue(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n;e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let s=t.length;if(e.props[0].type==="block-scalar-header")s-=e.props[0].source.length;for(const e of r)e.offset+=s;delete e.props;Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const r=e.offset+t.length;const s={type:"newline",offset:r,indent:e.indent,source:"\n"};delete e.items;Object.assign(e,{type:n,source:t,end:[s]});break}default:{const r="indent"in e?e.indent:-1;const s="end"in e&&Array.isArray(e.end)?e.end.filter((e=>e.type==="space"||e.type==="comment"||e.type==="newline")):[];for(const t of Object.keys(e))if(t!=="type"&&t!=="offset")delete e[t];Object.assign(e,{type:n,indent:r,source:t,end:s})}}}t.createScalarToken=createScalarToken;t.resolveAsScalar=resolveAsScalar;t.setScalarValue=setScalarValue},6307:(e,t)=>{"use strict";const stringify=e=>"type"in e?stringifyToken(e):stringifyItem(e);function stringifyToken(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=stringifyToken(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=stringifyItem(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=stringifyItem(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=stringifyItem(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function stringifyItem({start:e,key:t,sep:n,value:r}){let s="";for(const t of e)s+=t.source;if(t)s+=stringifyToken(t);if(n)for(const e of n)s+=e.source;if(r)s+=stringifyToken(r);return s}t.stringify=stringify},8497:(e,t)=>{"use strict";const n=Symbol("break visit");const r=Symbol("skip children");const s=Symbol("remove item");function visit(e,t){if("type"in e&&e.type==="document")e={start:e.start,value:e.value};_visit(Object.freeze([]),e,t)}visit.BREAK=n;visit.SKIP=r;visit.REMOVE=s;visit.itemAtPath=(e,t)=>{let n=e;for(const[e,r]of t){const t=n?.[e];if(t&&"items"in t){n=t.items[r]}else return undefined}return n};visit.parentCollection=(e,t)=>{const n=visit.itemAtPath(e,t.slice(0,-1));const r=t[t.length-1][0];const s=n?.[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function _visit(e,t,r){let i=r(t,e);if(typeof i==="symbol")return i;for(const o of["key","value"]){const a=t[o];if(a&&"items"in a){for(let t=0;t<a.items.length;++t){const i=_visit(Object.freeze(e.concat([[o,t]])),a.items[t],r);if(typeof i==="number")t=i-1;else if(i===n)return n;else if(i===s){a.items.splice(t,1);t-=1}}if(typeof i==="function"&&o==="key")i=i(t,e)}}return typeof i==="function"?i(t,e):i}t.visit=visit},9169:(e,t,n)=>{"use strict";var r=n(9027);var s=n(6307);var i=n(8497);const o="\ufeff";const a="";const c="";const l="";const isCollection=e=>!!e&&"items"in e;const isScalar=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function prettyToken(e){switch(e){case o:return"<BOM>";case a:return"<DOC>";case c:return"<FLOW_END>";case l:return"<SCALAR>";default:return JSON.stringify(e)}}function tokenType(e){switch(e){case o:return"byte-order-mark";case a:return"doc-mode";case c:return"flow-error-end";case l:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}t.createScalarToken=r.createScalarToken;t.resolveAsScalar=r.resolveAsScalar;t.setScalarValue=r.setScalarValue;t.stringify=s.stringify;t.visit=i.visit;t.BOM=o;t.DOCUMENT=a;t.FLOW_END=c;t.SCALAR=l;t.isCollection=isCollection;t.isScalar=isScalar;t.prettyToken=prettyToken;t.tokenType=tokenType},5976:(e,t,n)=>{"use strict";var r=n(9169);function isEmpty(e){switch(e){case undefined:case" ":case"\n":case"\r":case"\t":return true;default:return false}}const s="0123456789ABCDEFabcdef".split("");const i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split("");const o=",[]{}".split("");const a=" ,[]{}\n\r\t".split("");const isNotAnchorChar=e=>!e||a.includes(e);class Lexer{constructor(){this.atEnd=false;this.blockScalarIndent=-1;this.blockScalarKeep=false;this.buffer="";this.flowKey=false;this.flowLevel=0;this.indentNext=0;this.indentValue=0;this.lineEndPos=null;this.next=null;this.pos=0}*lex(e,t=false){if(e){this.buffer=this.buffer?this.buffer+e:e;this.lineEndPos=null}this.atEnd=!t;let n=this.next??"stream";while(n&&(t||this.hasChars(1)))n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos;let t=this.buffer[e];while(t===" "||t==="\t")t=this.buffer[++e];if(!t||t==="#"||t==="\n")return true;if(t==="\r")return this.buffer[e+1]==="\n";return false}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;while(t===" ")t=this.buffer[++n+e];if(t==="\r"){const t=this.buffer[n+e+1];if(t==="\n"||!t&&!this.atEnd)return e+n+1}return t==="\n"||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){const t=this.buffer.substr(e,3);if((t==="---"||t==="...")&&isEmpty(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;if(typeof e!=="number"||e!==-1&&e<this.pos){e=this.buffer.indexOf("\n",this.pos);this.lineEndPos=e}if(e===-1)return this.atEnd?this.buffer.substring(this.pos):null;if(this.buffer[e-1]==="\r")e-=1;return this.buffer.substring(this.pos,e)}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){this.buffer=this.buffer.substring(this.pos);this.pos=0;this.lineEndPos=null;this.next=e;return null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===r.BOM){yield*this.pushCount(1);e=e.substring(1)}if(e[0]==="%"){let t=e.length;const n=e.indexOf("#");if(n!==-1){const r=e[n-1];if(r===" "||r==="\t")t=n-1}while(true){const n=e[t-1];if(n===" "||n==="\t")t-=1;else break}const r=(yield*this.pushCount(t))+(yield*this.pushSpaces(true));yield*this.pushCount(e.length-r);this.pushNewline();return"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(true);yield*this.pushCount(e.length-t);yield*this.pushNewline();return"stream"}yield r.DOCUMENT;return yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if(e==="---"&&isEmpty(this.charAt(3))){yield*this.pushCount(3);this.indentValue=0;this.indentNext=0;return"doc"}else if(e==="..."&&isEmpty(this.charAt(3))){yield*this.pushCount(3);return"stream"}}this.indentValue=yield*this.pushSpaces(false);if(this.indentNext>this.indentValue&&!isEmpty(this.charAt(1)))this.indentNext=this.indentValue;return yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&isEmpty(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(true));this.indentNext=this.indentValue+1;this.indentValue+=e;return yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(true);const e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case undefined:yield*this.pushNewline();return yield*this.parseLineStart();case"{":case"[":yield*this.pushCount(1);this.flowKey=false;this.flowLevel=1;return"flow";case"}":case"]":yield*this.pushCount(1);return"doc";case"*":yield*this.pushUntil(isNotAnchorChar);return"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":t+=(yield*this.parseBlockScalarHeader());t+=(yield*this.pushSpaces(true));yield*this.pushCount(e.length-t);yield*this.pushNewline();return yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t;let n=-1;do{e=yield*this.pushNewline();if(e>0){t=yield*this.pushSpaces(false);this.indentValue=n=t}else{t=0}t+=(yield*this.pushSpaces(true))}while(e+t>0);const s=this.getLine();if(s===null)return this.setNext("flow");if(n!==-1&&n<this.indentNext&&s[0]!=="#"||n===0&&(s.startsWith("---")||s.startsWith("..."))&&isEmpty(s[3])){const e=n===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}");if(!e){this.flowLevel=0;yield r.FLOW_END;return yield*this.parseLineStart()}}let i=0;while(s[i]===","){i+=(yield*this.pushCount(1));i+=(yield*this.pushSpaces(true));this.flowKey=false}i+=(yield*this.pushIndicators());switch(s[i]){case undefined:return"flow";case"#":yield*this.pushCount(s.length-i);return"flow";case"{":case"[":yield*this.pushCount(1);this.flowKey=false;this.flowLevel+=1;return"flow";case"}":case"]":yield*this.pushCount(1);this.flowKey=true;this.flowLevel-=1;return this.flowLevel?"flow":"doc";case"*":yield*this.pushUntil(isNotAnchorChar);return"flow";case'"':case"'":this.flowKey=true;return yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||isEmpty(e)||e===","){this.flowKey=false;yield*this.pushCount(1);yield*this.pushSpaces(true);return"flow"}}default:this.flowKey=false;return yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if(e==="'"){while(t!==-1&&this.buffer[t+1]==="'")t=this.buffer.indexOf("'",t+2)}else{while(t!==-1){let e=0;while(this.buffer[t-1-e]==="\\")e+=1;if(e%2===0)break;t=this.buffer.indexOf('"',t+1)}}const n=this.buffer.substring(0,t);let r=n.indexOf("\n",this.pos);if(r!==-1){while(r!==-1){const e=this.continueScalar(r+1);if(e===-1)break;r=n.indexOf("\n",e)}if(r!==-1){t=r-(n[r-1]==="\r"?2:1)}}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}yield*this.pushToIndex(t+1,false);return this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1;this.blockScalarKeep=false;let e=this.pos;while(true){const t=this.buffer[++e];if(t==="+")this.blockScalarKeep=true;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil((e=>isEmpty(e)||e==="#"))}*parseBlockScalar(){let e=this.pos-1;let t=0;let n;e:for(let r=this.pos;n=this.buffer[r];++r){switch(n){case" ":t+=1;break;case"\n":e=r;t=0;break;case"\r":{const e=this.buffer[r+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if(e==="\n")break}default:break e}}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){if(this.blockScalarIndent===-1)this.indentNext=t;else this.indentNext+=this.blockScalarIndent;do{const t=this.continueScalar(e+1);if(t===-1)break;e=this.buffer.indexOf("\n",t)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep){do{let n=e-1;let r=this.buffer[n];if(r==="\r")r=this.buffer[--n];const s=n;while(r===" "||r==="\t")r=this.buffer[--n];if(r==="\n"&&n>=this.pos&&n+1+t>s)e=n;else break}while(true)}yield r.SCALAR;yield*this.pushToIndex(e+1,true);return yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t=this.pos-1;let n=this.pos-1;let s;while(s=this.buffer[++n]){if(s===":"){const r=this.buffer[n+1];if(isEmpty(r)||e&&r===",")break;t=n}else if(isEmpty(s)){let r=this.buffer[n+1];if(s==="\r"){if(r==="\n"){n+=1;s="\n";r=this.buffer[n+1]}else t=n}if(r==="#"||e&&o.includes(r))break;if(s==="\n"){const e=this.continueScalar(n+1);if(e===-1)break;n=Math.max(n,e-2)}}else{if(e&&o.includes(s))break;t=n}}if(!s&&!this.atEnd)return this.setNext("plain-scalar");yield r.SCALAR;yield*this.pushToIndex(t+1,true);return e?"flow":"doc"}*pushCount(e){if(e>0){yield this.buffer.substr(this.pos,e);this.pos+=e;return e}return 0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);if(n){yield n;this.pos+=n.length;return n.length}else if(t)yield"";return 0}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(true))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(true))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0;const t=this.charAt(1);if(isEmpty(t)||e&&o.includes(t)){if(!e)this.indentNext=this.indentValue+1;else if(this.flowKey)this.flowKey=false;return(yield*this.pushCount(1))+(yield*this.pushSpaces(true))+(yield*this.pushIndicators())}}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2;let t=this.buffer[e];while(!isEmpty(t)&&t!==">")t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,false)}else{let e=this.pos+1;let t=this.buffer[e];while(t){if(i.includes(t))t=this.buffer[++e];else if(t==="%"&&s.includes(this.buffer[e+1])&&s.includes(this.buffer[e+2])){t=this.buffer[e+=3]}else break}return yield*this.pushToIndex(e,false)}}*pushNewline(){const e=this.buffer[this.pos];if(e==="\n")return yield*this.pushCount(1);else if(e==="\r"&&this.charAt(1)==="\n")return yield*this.pushCount(2);else return 0}*pushSpaces(e){let t=this.pos-1;let n;do{n=this.buffer[++t]}while(n===" "||e&&n==="\t");const r=t-this.pos;if(r>0){yield this.buffer.substr(this.pos,r);this.pos=t}return r}*pushUntil(e){let t=this.pos;let n=this.buffer[t];while(!e(n))n=this.buffer[++t];return yield*this.pushToIndex(t,false)}}t.Lexer=Lexer},1929:(e,t)=>{"use strict";class LineCounter{constructor(){this.lineStarts=[];this.addNewLine=e=>this.lineStarts.push(e);this.linePos=e=>{let t=0;let n=this.lineStarts.length;while(t<n){const r=t+n>>1;if(this.lineStarts[r]<e)t=r+1;else n=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};const r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}}t.LineCounter=LineCounter},3328:(e,t,n)=>{"use strict";var r=n(9169);var s=n(5976);function includesToken(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return true;return false}function findNonEmptyIndex(e){for(let t=0;t<e.length;++t){switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}}return-1}function isFlowToken(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return true;default:return false}}function getPrevProps(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function getFirstKeyStartProps(e){if(e.length===0)return[];let t=e.length;e:while(--t>=0){switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}}while(e[++t]?.type==="space"){}return e.splice(t,e.length)}function fixFlowSeqItems(e){if(e.start.type==="flow-seq-start"){for(const t of e.items){if(t.sep&&!t.value&&!includesToken(t.start,"explicit-key-ind")&&!includesToken(t.sep,"map-value-ind")){if(t.key)t.value=t.key;delete t.key;if(isFlowToken(t.value)){if(t.value.end)Array.prototype.push.apply(t.value.end,t.sep);else t.value.end=t.sep}else Array.prototype.push.apply(t.start,t.sep);delete t.sep}}}}class Parser{constructor(e){this.atNewLine=true;this.atScalar=false;this.indent=0;this.offset=0;this.onKeyLine=false;this.stack=[];this.source="";this.type="";this.lexer=new s.Lexer;this.onNewLine=e}*parse(e,t=false){if(this.onNewLine&&this.offset===0)this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);if(!t)yield*this.end()}*next(e){this.source=e;if(process.env.LOG_TOKENS)console.log("|",r.prettyToken(e));if(this.atScalar){this.atScalar=false;yield*this.step();this.offset+=e.length;return}const t=r.tokenType(e);if(!t){const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e});this.offset+=e.length}else if(t==="scalar"){this.atNewLine=false;this.atScalar=true;this.type="scalar"}else{this.type=t;yield*this.step();switch(t){case"newline":this.atNewLine=true;this.indent=0;if(this.onNewLine)this.onNewLine(this.offset+e.length);break;case"space":if(this.atNewLine&&e[0]===" ")this.indent+=e.length;break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":if(this.atNewLine)this.indent+=e.length;break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=false}this.offset+=e.length}}*end(){while(this.stack.length>0)yield*this.pop()}get sourceToken(){const e={type:this.type,offset:this.offset,indent:this.indent,source:this.source};return e}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){while(this.stack.length>0)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(!t){const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}else if(this.stack.length===0){yield t}else{const e=this.peek(1);if(t.type==="block-scalar"){t.indent="indent"in e?e.indent:0}else if(t.type==="flow-collection"&&e.type==="document"){t.indent=0}if(t.type==="flow-collection")fixFlowSeqItems(t);switch(e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value){e.items.push({start:[],key:t,sep:[]});this.onKeyLine=true;return}else if(n.sep){n.value=t}else{Object.assign(n,{key:t,sep:[]});this.onKeyLine=!includesToken(n.start,"explicit-key-ind");return}break}case"block-seq":{const n=e.items[e.items.length-1];if(n.value)e.items.push({start:[],value:t});else n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];if(!n||n.value)e.items.push({start:[],key:t,sep:[]});else if(n.sep)n.value=t;else Object.assign(n,{key:t,sep:[]});return}default:yield*this.pop();yield*this.pop(t)}if((e.type==="document"||e.type==="block-map"||e.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){const n=t.items[t.items.length-1];if(n&&!n.sep&&!n.value&&n.start.length>0&&findNonEmptyIndex(n.start)===-1&&(t.indent===0||n.start.every((e=>e.type!=="comment"||e.indent<t.indent)))){if(e.type==="document")e.end=n.start;else e.items.push({start:n.start});t.items.splice(-1,1)}}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};if(this.type==="doc-start")e.start.push(this.sourceToken);this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{if(findNonEmptyIndex(e.start)!==-1){yield*this.pop();yield*this.step()}else e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const t=this.startBlockValue(e);if(t)this.stack.push(t);else{yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}}*scalar(e){if(this.type==="map-value-ind"){const t=getPrevProps(this.peek(2));const n=getFirstKeyStartProps(t);let r;if(e.end){r=e.end;r.push(this.sourceToken);delete e.end}else r=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=true;this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":e.source=this.source;this.atNewLine=true;this.indent=0;if(this.onNewLine){let e=this.source.indexOf("\n")+1;while(e!==0){this.onNewLine(this.offset+e);e=this.source.indexOf("\n",e)+1}}yield*this.pop();break;default:yield*this.pop();yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":this.onKeyLine=false;if(t.value){const n="end"in t.value?t.value.end:undefined;const r=Array.isArray(n)?n[n.length-1]:undefined;if(r?.type==="comment")n?.push(this.sourceToken);else e.items.push({start:[this.sourceToken]})}else if(t.sep){t.sep.push(this.sourceToken)}else{t.start.push(this.sourceToken)}return;case"space":case"comment":if(t.value){e.items.push({start:[this.sourceToken]})}else if(t.sep){t.sep.push(this.sourceToken)}else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2];const r=n?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start);r.push(this.sourceToken);e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let r=[];if(n&&t.sep&&!t.value){const n=[];for(let r=0;r<t.sep.length;++r){const s=t.sep[r];switch(s.type){case"newline":n.push(r);break;case"space":break;case"comment":if(s.indent>e.indent)n.length=0;break;default:n.length=0}}if(n.length>=2)r=t.sep.splice(n[1])}switch(this.type){case"anchor":case"tag":if(n||t.value){r.push(this.sourceToken);e.items.push({start:r});this.onKeyLine=true}else if(t.sep){t.sep.push(this.sourceToken)}else{t.start.push(this.sourceToken)}return;case"explicit-key-ind":if(!t.sep&&!includesToken(t.start,"explicit-key-ind")){t.start.push(this.sourceToken)}else if(n||t.value){r.push(this.sourceToken);e.items.push({start:r})}else{this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]})}this.onKeyLine=true;return;case"map-value-ind":if(includesToken(t.start,"explicit-key-ind")){if(!t.sep){if(includesToken(t.start,"newline")){Object.assign(t,{key:null,sep:[this.sourceToken]})}else{const e=getFirstKeyStartProps(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}}else if(t.value){e.items.push({start:[],key:null,sep:[this.sourceToken]})}else if(includesToken(t.sep,"map-value-ind")){this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]})}else if(isFlowToken(t.key)&&!includesToken(t.sep,"newline")){const e=getFirstKeyStartProps(t.start);const n=t.key;const r=t.sep;r.push(this.sourceToken);delete t.key,delete t.sep;this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:r}]})}else if(r.length>0){t.sep=t.sep.concat(r,this.sourceToken)}else{t.sep.push(this.sourceToken)}}else{if(!t.sep){Object.assign(t,{key:null,sep:[this.sourceToken]})}else if(t.value||n){e.items.push({start:r,key:null,sep:[this.sourceToken]})}else if(includesToken(t.sep,"map-value-ind")){this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]})}else{t.sep.push(this.sourceToken)}}this.onKeyLine=true;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);if(n||t.value){e.items.push({start:r,key:s,sep:[]});this.onKeyLine=true}else if(t.sep){this.stack.push(s)}else{Object.assign(t,{key:s,sep:[]});this.onKeyLine=true}return}default:{const s=this.startBlockValue(e);if(s){if(n&&s.type!=="block-seq"&&includesToken(t.start,"explicit-key-ind")){e.items.push({start:r})}this.stack.push(s);return}}}}yield*this.pop();yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:undefined;const r=Array.isArray(n)?n[n.length-1]:undefined;if(r?.type==="comment")n?.push(this.sourceToken);else e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2];const r=n?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,t.start);r.push(this.sourceToken);e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;if(t.value||includesToken(t.start,"seq-item-ind"))e.items.push({start:[this.sourceToken]});else t.start.push(this.sourceToken);return}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t){this.stack.push(t);return}}yield*this.pop();yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let e;do{yield*this.pop();e=this.peek(1)}while(e&&e.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":if(!t||t.sep)e.items.push({start:[this.sourceToken]});else t.start.push(this.sourceToken);return;case"map-value-ind":if(!t||t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":if(!t||t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);if(!t||t.value)e.items.push({start:[],key:n,sep:[]});else if(t.sep)this.stack.push(n);else Object.assign(t,{key:n,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const n=this.startBlockValue(e);if(n)this.stack.push(n);else{yield*this.pop();yield*this.step()}}else{const t=this.peek(2);if(t.type==="block-map"&&(this.type==="map-value-ind"&&t.indent===e.indent||this.type==="newline"&&!t.items[t.items.length-1].sep)){yield*this.pop();yield*this.step()}else if(this.type==="map-value-ind"&&t.type!=="flow-collection"){const n=getPrevProps(t);const r=getFirstKeyStartProps(n);fixFlowSeqItems(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=true;this.stack[this.stack.length-1]=i}else{yield*this.lineEnd(e)}}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;while(e!==0){this.onNewLine(this.offset+e);e=this.source.indexOf("\n",e)+1}}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=true;const t=getPrevProps(e);const n=getFirstKeyStartProps(t);n.push(this.sourceToken);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=true;const t=getPrevProps(e);const n=getFirstKeyStartProps(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){if(this.type!=="comment")return false;if(this.indent<=t)return false;return e.every((e=>e.type==="newline"||e.type==="space"))}*documentEnd(e){if(this.type!=="doc-mode"){if(e.end)e.end.push(this.sourceToken);else e.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop();yield*this.step();break;case"newline":this.onKeyLine=false;case"space":case"comment":default:if(e.end)e.end.push(this.sourceToken);else e.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}}t.Parser=Parser},8649:(e,t,n)=>{"use strict";var r=n(9493);var s=n(42);var i=n(4236);var o=n(6909);var a=n(1929);var c=n(3328);function parseOptions(e){const t=e.prettyErrors!==false;const n=e.lineCounter||t&&new a.LineCounter||null;return{lineCounter:n,prettyErrors:t}}function parseAllDocuments(e,t={}){const{lineCounter:n,prettyErrors:s}=parseOptions(t);const o=new c.Parser(n?.addNewLine);const a=new r.Composer(t);const l=Array.from(a.compose(o.parse(e)));if(s&&n)for(const t of l){t.errors.forEach(i.prettifyError(e,n));t.warnings.forEach(i.prettifyError(e,n))}if(l.length>0)return l;return Object.assign([],{empty:true},a.streamInfo())}function parseDocument(e,t={}){const{lineCounter:n,prettyErrors:s}=parseOptions(t);const o=new c.Parser(n?.addNewLine);const a=new r.Composer(t);let l=null;for(const t of a.compose(o.parse(e),true,e.length)){if(!l)l=t;else if(l.options.logLevel!=="silent"){l.errors.push(new i.YAMLParseError(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}if(s&&n){l.errors.forEach(i.prettifyError(e,n));l.warnings.forEach(i.prettifyError(e,n))}return l}function parse(e,t,n){let r=undefined;if(typeof t==="function"){r=t}else if(n===undefined&&t&&typeof t==="object"){n=t}const s=parseDocument(e,n);if(!s)return null;s.warnings.forEach((e=>o.warn(s.options.logLevel,e)));if(s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];else s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function stringify(e,t,n){let r=null;if(typeof t==="function"||Array.isArray(t)){r=t}else if(n===undefined&&t){n=t}if(typeof n==="string")n=n.length;if(typeof n==="number"){const e=Math.round(n);n=e<1?undefined:e>8?{indent:8}:{indent:e}}if(e===undefined){const{keepUndefined:e}=n??t??{};if(!e)return undefined}return new s.Document(e,r,n).toString(n)}t.parse=parse;t.parseAllDocuments=parseAllDocuments;t.parseDocument=parseDocument;t.stringify=stringify},6831:(e,t,n)=>{"use strict";var r=n(1399);var s=n(83);var i=n(1693);var o=n(2201);var a=n(4138);const sortMapEntriesByKey=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Schema{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:c,schema:l,sortMapEntries:u,toStringDefaults:f}){this.compat=Array.isArray(e)?a.getTags(e,"compat"):e?a.getTags(null,e):null;this.merge=!!n;this.name=typeof l==="string"&&l||"core";this.knownTags=c?a.coreKnownTags:{};this.tags=a.getTags(t,this.name);this.toStringOptions=f??null;Object.defineProperty(this,r.MAP,{value:s.map});Object.defineProperty(this,r.SCALAR,{value:o.string});Object.defineProperty(this,r.SEQ,{value:i.seq});this.sortMapEntries=typeof u==="function"?u:u===true?sortMapEntriesByKey:null}clone(){const e=Object.create(Schema.prototype,Object.getOwnPropertyDescriptors(this));e.tags=this.tags.slice();return e}}t.Schema=Schema},83:(e,t,n)=>{"use strict";var r=n(1399);var s=n(246);var i=n(6011);function createMap(e,t,n){const{keepUndefined:r,replacer:o}=n;const a=new i.YAMLMap(e);const add=(e,i)=>{if(typeof o==="function")i=o.call(t,e,i);else if(Array.isArray(o)&&!o.includes(e))return;if(i!==undefined||r)a.items.push(s.createPair(e,i,n))};if(t instanceof Map){for(const[e,n]of t)add(e,n)}else if(t&&typeof t==="object"){for(const e of Object.keys(t))add(e,t[e])}if(typeof e.sortMapEntries==="function"){a.items.sort(e.sortMapEntries)}return a}const o={collection:"map",createNode:createMap,default:true,nodeClass:i.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){if(!r.isMap(e))t("Expected a mapping for this tag");return e}};t.map=o},6703:(e,t,n)=>{"use strict";var r=n(9338);const s={identify:e=>e==null,createNode:()=>new r.Scalar(null),default:true,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new r.Scalar(null),stringify:({source:e},t)=>typeof e==="string"&&s.test.test(e)?e:t.options.nullStr};t.nullTag=s},1693:(e,t,n)=>{"use strict";var r=n(9652);var s=n(1399);var i=n(5161);function createSeq(e,t,n){const{replacer:s}=n;const o=new i.YAMLSeq(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if(typeof s==="function"){const n=t instanceof Set?i:String(e++);i=s.call(t,n,i)}o.items.push(r.createNode(i,undefined,n))}}return o}const o={collection:"seq",createNode:createSeq,default:true,nodeClass:i.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){if(!s.isSeq(e))t("Expected a sequence for this tag");return e}};t.seq=o},2201:(e,t,n)=>{"use strict";var r=n(6226);const s={identify:e=>typeof e==="string",default:true,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,s){t=Object.assign({actualString:true},t);return r.stringifyString(e,t,n,s)}};t.string=s},2045:(e,t,n)=>{"use strict";var r=n(9338);const s={identify:e=>typeof e==="boolean",default:true,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new r.Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&s.test.test(e)){const n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?n.options.trueStr:n.options.falseStr}};t.boolTag=s},6810:(e,t,n)=>{"use strict";var r=n(9338);var s=n(4174);const i={identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:s.stringifyNumber};const o={identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():s.stringifyNumber(e)}};const a={identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new r.Scalar(parseFloat(e));const n=e.indexOf(".");if(n!==-1&&e[e.length-1]==="0")t.minFractionDigits=e.length-n-1;return t},stringify:s.stringifyNumber};t.float=a;t.floatExp=o;t.floatNaN=i},3019:(e,t,n)=>{"use strict";var r=n(4174);const intIdentify=e=>typeof e==="bigint"||Number.isInteger(e);const intResolve=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function intStringify(e,t,n){const{value:s}=e;if(intIdentify(s)&&s>=0)return n+s.toString(t);return r.stringifyNumber(e)}const s={identify:e=>intIdentify(e)&&e>=0,default:true,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>intResolve(e,2,8,n),stringify:e=>intStringify(e,8,"0o")};const i={identify:intIdentify,default:true,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>intResolve(e,0,10,n),stringify:r.stringifyNumber};const o={identify:e=>intIdentify(e)&&e>=0,default:true,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>intResolve(e,2,16,n),stringify:e=>intStringify(e,16,"0x")};t.int=i;t.intHex=o;t.intOct=s},27:(e,t,n)=>{"use strict";var r=n(83);var s=n(6703);var i=n(1693);var o=n(2201);var a=n(2045);var c=n(6810);var l=n(3019);const u=[r.map,i.seq,o.string,s.nullTag,a.boolTag,l.intOct,l.int,l.intHex,c.floatNaN,c.floatExp,c.float];t.schema=u},4545:(e,t,n)=>{"use strict";var r=n(9338);var s=n(83);var i=n(1693);function intIdentify(e){return typeof e==="bigint"||Number.isInteger(e)}const stringifyJSON=({value:e})=>JSON.stringify(e);const o=[{identify:e=>typeof e==="string",default:true,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:stringifyJSON},{identify:e=>e==null,createNode:()=>new r.Scalar(null),default:true,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:e=>typeof e==="boolean",default:true,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:stringifyJSON},{identify:intIdentify,default:true,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>intIdentify(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:stringifyJSON}];const a={default:true,tag:"",test:/^/,resolve(e,t){t(`Unresolved plain scalar ${JSON.stringify(e)}`);return e}};const c=[s.map,i.seq].concat(o,a);t.schema=c},4138:(e,t,n)=>{"use strict";var r=n(83);var s=n(6703);var i=n(1693);var o=n(2201);var a=n(2045);var c=n(6810);var l=n(3019);var u=n(27);var f=n(4545);var h=n(5724);var p=n(8974);var d=n(9841);var m=n(5389);var g=n(7847);var y=n(1156);const v=new Map([["core",u.schema],["failsafe",[r.map,i.seq,o.string]],["json",f.schema],["yaml11",m.schema],["yaml-1.1",m.schema]]);const b={binary:h.binary,bool:a.boolTag,float:c.float,floatExp:c.floatExp,floatNaN:c.floatNaN,floatTime:y.floatTime,int:l.int,intHex:l.intHex,intOct:l.intOct,intTime:y.intTime,map:r.map,null:s.nullTag,omap:p.omap,pairs:d.pairs,seq:i.seq,set:g.set,timestamp:y.timestamp};const w={"tag:yaml.org,2002:binary":h.binary,"tag:yaml.org,2002:omap":p.omap,"tag:yaml.org,2002:pairs":d.pairs,"tag:yaml.org,2002:set":g.set,"tag:yaml.org,2002:timestamp":y.timestamp};function getTags(e,t){let n=v.get(t);if(!n){if(Array.isArray(e))n=[];else{const e=Array.from(v.keys()).filter((e=>e!=="yaml11")).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}}if(Array.isArray(e)){for(const t of e)n=n.concat(t)}else if(typeof e==="function"){n=e(n.slice())}return n.map((e=>{if(typeof e!=="string")return e;const t=b[e];if(t)return t;const n=Object.keys(b).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}t.coreKnownTags=w;t.getTags=getTags},5724:(e,t,n)=>{"use strict";var r=n(9338);var s=n(6226);const i={identify:e=>e instanceof Uint8Array,default:false,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer==="function"){return Buffer.from(e,"base64")}else if(typeof atob==="function"){const t=atob(e.replace(/[\n\r]/g,""));const n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}else{t("This environment does not support reading binary tags; either Buffer or atob is required");return e}},stringify({comment:e,type:t,value:n},i,o,a){const c=n;let l;if(typeof Buffer==="function"){l=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64")}else if(typeof btoa==="function"){let e="";for(let t=0;t<c.length;++t)e+=String.fromCharCode(c[t]);l=btoa(e)}else{throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required")}if(!t)t=r.Scalar.BLOCK_LITERAL;if(t!==r.Scalar.QUOTE_DOUBLE){const e=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth);const n=Math.ceil(l.length/e);const s=new Array(n);for(let t=0,r=0;t<n;++t,r+=e){s[t]=l.substr(r,e)}l=s.join(t===r.Scalar.BLOCK_LITERAL?"\n":" ")}return s.stringifyString({comment:e,type:t,value:l},i,o,a)}};t.binary=i},2631:(e,t,n)=>{"use strict";var r=n(9338);function boolStringify({value:e,source:t},n){const r=e?s:i;if(t&&r.test.test(t))return t;return e?n.options.trueStr:n.options.falseStr}const s={identify:e=>e===true,default:true,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new r.Scalar(true),stringify:boolStringify};const i={identify:e=>e===false,default:true,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new r.Scalar(false),stringify:boolStringify};t.falseTag=i;t.trueTag=s},8035:(e,t,n)=>{"use strict";var r=n(9338);var s=n(4174);const i={identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:s.stringifyNumber};const o={identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():s.stringifyNumber(e)}};const a={identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new r.Scalar(parseFloat(e.replace(/_/g,"")));const n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");if(r[r.length-1]==="0")t.minFractionDigits=r.length}return t},stringify:s.stringifyNumber};t.float=a;t.floatExp=o;t.floatNaN=i},9503:(e,t,n)=>{"use strict";var r=n(4174);const intIdentify=e=>typeof e==="bigint"||Number.isInteger(e);function intResolve(e,t,n,{intAsBigInt:r}){const s=e[0];if(s==="-"||s==="+")t+=1;e=e.substring(t).replace(/_/g,"");if(r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const t=BigInt(e);return s==="-"?BigInt(-1)*t:t}const i=parseInt(e,n);return s==="-"?-1*i:i}function intStringify(e,t,n){const{value:s}=e;if(intIdentify(s)){const e=s.toString(t);return s<0?"-"+n+e.substr(1):n+e}return r.stringifyNumber(e)}const s={identify:intIdentify,default:true,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>intResolve(e,2,2,n),stringify:e=>intStringify(e,2,"0b")};const i={identify:intIdentify,default:true,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>intResolve(e,1,8,n),stringify:e=>intStringify(e,8,"0")};const o={identify:intIdentify,default:true,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>intResolve(e,0,10,n),stringify:r.stringifyNumber};const a={identify:intIdentify,default:true,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>intResolve(e,2,16,n),stringify:e=>intStringify(e,16,"0x")};t.int=o;t.intBin=s;t.intHex=a;t.intOct=i},8974:(e,t,n)=>{"use strict";var r=n(5161);var s=n(2463);var i=n(1399);var o=n(6011);var a=n(9841);class YAMLOMap extends r.YAMLSeq{constructor(){super();this.add=o.YAMLMap.prototype.add.bind(this);this.delete=o.YAMLMap.prototype.delete.bind(this);this.get=o.YAMLMap.prototype.get.bind(this);this.has=o.YAMLMap.prototype.has.bind(this);this.set=o.YAMLMap.prototype.set.bind(this);this.tag=YAMLOMap.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;if(t?.onCreate)t.onCreate(n);for(const e of this.items){let r,o;if(i.isPair(e)){r=s.toJS(e.key,"",t);o=s.toJS(e.value,r,t)}else{r=s.toJS(e,"",t)}if(n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,o)}return n}}YAMLOMap.tag="tag:yaml.org,2002:omap";const c={collection:"seq",identify:e=>e instanceof Map,nodeClass:YAMLOMap,default:false,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=a.resolvePairs(e,t);const r=[];for(const{key:e}of n.items){if(i.isScalar(e)){if(r.includes(e.value)){t(`Ordered maps must not include duplicate keys: ${e.value}`)}else{r.push(e.value)}}}return Object.assign(new YAMLOMap,n)},createNode(e,t,n){const r=a.createPairs(e,t,n);const s=new YAMLOMap;s.items=r.items;return s}};t.YAMLOMap=YAMLOMap;t.omap=c},9841:(e,t,n)=>{"use strict";var r=n(1399);var s=n(246);var i=n(9338);var o=n(5161);function resolvePairs(e,t){if(r.isSeq(e)){for(let n=0;n<e.items.length;++n){let o=e.items[n];if(r.isPair(o))continue;else if(r.isMap(o)){if(o.items.length>1)t("Each pair must have its own sequence indicator");const e=o.items[0]||new s.Pair(new i.Scalar(null));if(o.commentBefore)e.key.commentBefore=e.key.commentBefore?`${o.commentBefore}\n${e.key.commentBefore}`:o.commentBefore;if(o.comment){const t=e.value??e.key;t.comment=t.comment?`${o.comment}\n${t.comment}`:o.comment}o=e}e.items[n]=r.isPair(o)?o:new s.Pair(o)}}else t("Expected a sequence for this tag");return e}function createPairs(e,t,n){const{replacer:r}=n;const i=new o.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let e of t){if(typeof r==="function")e=r.call(t,String(a++),e);let o,c;if(Array.isArray(e)){if(e.length===2){o=e[0];c=e[1]}else throw new TypeError(`Expected [key, value] tuple: ${e}`)}else if(e&&e instanceof Object){const t=Object.keys(e);if(t.length===1){o=t[0];c=e[o]}else throw new TypeError(`Expected { key: value } tuple: ${e}`)}else{o=e}i.items.push(s.createPair(o,c,n))}return i}const a={collection:"seq",default:false,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};t.createPairs=createPairs;t.pairs=a;t.resolvePairs=resolvePairs},5389:(e,t,n)=>{"use strict";var r=n(83);var s=n(6703);var i=n(1693);var o=n(2201);var a=n(5724);var c=n(2631);var l=n(8035);var u=n(9503);var f=n(8974);var h=n(9841);var p=n(7847);var d=n(1156);const m=[r.map,i.seq,o.string,s.nullTag,c.trueTag,c.falseTag,u.intBin,u.intOct,u.int,u.intHex,l.floatNaN,l.floatExp,l.float,a.binary,f.omap,h.pairs,p.set,d.intTime,d.floatTime,d.timestamp];t.schema=m},7847:(e,t,n)=>{"use strict";var r=n(1399);var s=n(246);var i=n(6011);class YAMLSet extends i.YAMLMap{constructor(e){super(e);this.tag=YAMLSet.tag}add(e){let t;if(r.isPair(e))t=e;else if(e&&typeof e==="object"&&"key"in e&&"value"in e&&e.value===null)t=new s.Pair(e.key,null);else t=new s.Pair(e,null);const n=i.findPair(this.items,t.key);if(!n)this.items.push(t)}get(e,t){const n=i.findPair(this.items,e);return!t&&r.isPair(n)?r.isScalar(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!=="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=i.findPair(this.items,e);if(n&&!t){this.items.splice(this.items.indexOf(n),1)}else if(!n&&t){this.items.push(new s.Pair(e))}}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(true))return super.toString(Object.assign({},e,{allNullValues:true}),t,n);else throw new Error("Set items must all have null values")}}YAMLSet.tag="tag:yaml.org,2002:set";const o={collection:"map",identify:e=>e instanceof Set,nodeClass:YAMLSet,default:false,tag:"tag:yaml.org,2002:set",resolve(e,t){if(r.isMap(e)){if(e.hasAllNullValues(true))return Object.assign(new YAMLSet,e);else t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:r}=n;const i=new YAMLSet(e);if(t&&Symbol.iterator in Object(t))for(let e of t){if(typeof r==="function")e=r.call(t,e,e);i.items.push(s.createPair(e,null,n))}return i}};t.YAMLSet=YAMLSet;t.set=o},1156:(e,t,n)=>{"use strict";var r=n(4174);function parseSexagesimal(e,t){const n=e[0];const r=n==="-"||n==="+"?e.substring(1):e;const num=e=>t?BigInt(e):Number(e);const s=r.replace(/_/g,"").split(":").reduce(((e,t)=>e*num(60)+num(t)),num(0));return n==="-"?num(-1)*s:s}function stringifySexagesimal(e){let{value:t}=e;let num=e=>e;if(typeof t==="bigint")num=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return r.stringifyNumber(e);let n="";if(t<0){n="-";t*=num(-1)}const s=num(60);const i=[t%s];if(t<60){i.unshift(0)}else{t=(t-i[0])/s;i.unshift(t%s);if(t>=60){t=(t-i[0])/s;i.unshift(t)}}return n+i.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const s={identify:e=>typeof e==="bigint"||Number.isInteger(e),default:true,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>parseSexagesimal(e,n),stringify:stringifySexagesimal};const i={identify:e=>typeof e==="number",default:true,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>parseSexagesimal(e,false),stringify:stringifySexagesimal};const o={identify:e=>e instanceof Date,default:true,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})"+"(?:"+"(?:t|T|[ \\t]+)"+"([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)"+"(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?"+")?$"),resolve(e){const t=e.match(o.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,a,c]=t.map(Number);const l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,a||0,c||0,l);const f=t[8];if(f&&f!=="Z"){let e=parseSexagesimal(f,false);if(Math.abs(e)<30)e*=60;u-=6e4*e}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};t.floatTime=i;t.intTime=s;t.timestamp=o},2889:(e,t)=>{"use strict";const n="flow";const r="block";const s="quoted";function foldFlowLines(e,t,n="flow",{indentAtStart:i,lineWidth:o=80,minContentWidth:a=20,onFold:c,onOverflow:l}={}){if(!o||o<0)return e;const u=Math.max(1+a,1+o-t.length);if(e.length<=u)return e;const f=[];const h={};let p=o-t.length;if(typeof i==="number"){if(i>o-Math.max(2,a))f.push(0);else p=o-i}let d=undefined;let m=undefined;let g=false;let y=-1;let v=-1;let b=-1;if(n===r){y=consumeMoreIndentedLines(e,y);if(y!==-1)p=y+u}for(let t;t=e[y+=1];){if(n===s&&t==="\\"){v=y;switch(e[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}b=y}if(t==="\n"){if(n===r)y=consumeMoreIndentedLines(e,y);p=y+u;d=undefined}else{if(t===" "&&m&&m!==" "&&m!=="\n"&&m!=="\t"){const t=e[y+1];if(t&&t!==" "&&t!=="\n"&&t!=="\t")d=y}if(y>=p){if(d){f.push(d);p=d+u;d=undefined}else if(n===s){while(m===" "||m==="\t"){m=t;t=e[y+=1];g=true}const n=y>b+1?y-2:v-1;if(h[n])return e;f.push(n);h[n]=true;p=n+u;d=undefined}else{g=true}}}m=t}if(g&&l)l();if(f.length===0)return e;if(c)c();let w=e.slice(0,f[0]);for(let r=0;r<f.length;++r){const i=f[r];const o=f[r+1]||e.length;if(i===0)w=`\n${t}${e.slice(0,o)}`;else{if(n===s&&h[i])w+=`${e[i]}\\`;w+=`\n${t}${e.slice(i+1,o)}`}}return w}function consumeMoreIndentedLines(e,t){let n=e[t+1];while(n===" "||n==="\t"){do{n=e[t+=1]}while(n&&n!=="\n");n=e[t+1]}return t}t.FOLD_BLOCK=r;t.FOLD_FLOW=n;t.FOLD_QUOTED=s;t.foldFlowLines=foldFlowLines},8409:(e,t,n)=>{"use strict";var r=n(8459);var s=n(1399);var i=n(5182);var o=n(6226);function createStringifyContext(e,t){const n=Object.assign({blockQuote:true,commentString:i.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:false,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:true,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:false,singleQuote:null,trueStr:"true",verifyAliasOrder:true},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=false;break;case"flow":r=true;break;default:r=null}return{anchors:new Set,doc:e,indent:"",indentStep:typeof n.indent==="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function getTagObject(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n=undefined;let r;if(s.isScalar(t)){r=t.value;const s=e.filter((e=>e.identify?.(r)));n=s.find((e=>e.format===t.format))??s.find((e=>!e.format))}else{r=t;n=e.find((e=>e.nodeClass&&r instanceof e.nodeClass))}if(!n){const e=r?.constructor?.name??typeof r;throw new Error(`Tag not resolved for ${e} value`)}return n}function stringifyProps(e,t,{anchors:n,doc:i}){if(!i.directives)return"";const o=[];const a=(s.isScalar(e)||s.isCollection(e))&&e.anchor;if(a&&r.anchorIsValid(a)){n.add(a);o.push(`&${a}`)}const c=e.tag?e.tag:t.default?null:t.tag;if(c)o.push(i.directives.tagString(c));return o.join(" ")}function stringify(e,t,n,r){if(s.isPair(e))return e.toString(t,n,r);if(s.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e)){throw new TypeError(`Cannot stringify circular structure without alias nodes`)}else{if(t.resolvedAliases)t.resolvedAliases.add(e);else t.resolvedAliases=new Set([e]);e=e.resolve(t.doc)}}let i=undefined;const a=s.isNode(e)?e:t.doc.createNode(e,{onTagObj:e=>i=e});if(!i)i=getTagObject(t.doc.schema.tags,a);const c=stringifyProps(a,i,t);if(c.length>0)t.indentAtStart=(t.indentAtStart??0)+c.length+1;const l=typeof i.stringify==="function"?i.stringify(a,t,n,r):s.isScalar(a)?o.stringifyString(a,t,n,r):a.toString(t,n,r);if(!c)return l;return s.isScalar(a)||l[0]==="{"||l[0]==="["?`${c} ${l}`:`${c}\n${t.indent}${l}`}t.createStringifyContext=createStringifyContext;t.stringify=stringify},2466:(e,t,n)=>{"use strict";var r=n(3466);var s=n(1399);var i=n(8409);var o=n(5182);function stringifyCollection(e,t,n){const r=t.inFlow??e.flow;const s=r?stringifyFlowCollection:stringifyBlockCollection;return s(e,t,n)}function stringifyBlockCollection({comment:e,items:t},n,{blockItemPrefix:r,flowChars:a,itemIndent:c,onChompKeep:l,onComment:u}){const{indent:f,options:{commentString:h}}=n;const p=Object.assign({},n,{indent:c,type:null});let d=false;const m=[];for(let e=0;e<t.length;++e){const a=t[e];let l=null;if(s.isNode(a)){if(!d&&a.spaceBefore)m.push("");addCommentBefore(n,m,a.commentBefore,d);if(a.comment)l=a.comment}else if(s.isPair(a)){const e=s.isNode(a.key)?a.key:null;if(e){if(!d&&e.spaceBefore)m.push("");addCommentBefore(n,m,e.commentBefore,d)}}d=false;let u=i.stringify(a,p,(()=>l=null),(()=>d=true));if(l)u+=o.lineComment(u,c,h(l));if(d&&l)d=false;m.push(r+u)}let g;if(m.length===0){g=a.start+a.end}else{g=m[0];for(let e=1;e<m.length;++e){const t=m[e];g+=t?`\n${f}${t}`:"\n"}}if(e){g+="\n"+o.indentComment(h(e),f);if(u)u()}else if(d&&l)l();return g}function stringifyFlowCollection({comment:e,items:t},n,{flowChars:a,itemIndent:c,onComment:l}){const{indent:u,indentStep:f,options:{commentString:h}}=n;c+=f;const p=Object.assign({},n,{indent:c,inFlow:true,type:null});let d=false;let m=0;const g=[];for(let e=0;e<t.length;++e){const r=t[e];let a=null;if(s.isNode(r)){if(r.spaceBefore)g.push("");addCommentBefore(n,g,r.commentBefore,false);if(r.comment)a=r.comment}else if(s.isPair(r)){const e=s.isNode(r.key)?r.key:null;if(e){if(e.spaceBefore)g.push("");addCommentBefore(n,g,e.commentBefore,false);if(e.comment)d=true}const t=s.isNode(r.value)?r.value:null;if(t){if(t.comment)a=t.comment;if(t.commentBefore)d=true}else if(r.value==null&&e&&e.comment){a=e.comment}}if(a)d=true;let l=i.stringify(r,p,(()=>a=null));if(e<t.length-1)l+=",";if(a)l+=o.lineComment(l,c,h(a));if(!d&&(g.length>m||l.includes("\n")))d=true;g.push(l);m=g.length}let y;const{start:v,end:b}=a;if(g.length===0){y=v+b}else{if(!d){const e=g.reduce(((e,t)=>e+t.length+2),2);d=e>r.Collection.maxFlowStringSingleLineLength}if(d){y=v;for(const e of g)y+=e?`\n${f}${u}${e}`:"\n";y+=`\n${u}${b}`}else{y=`${v} ${g.join(" ")} ${b}`}}if(e){y+=o.lineComment(y,h(e),u);if(l)l()}return y}function addCommentBefore({indent:e,options:{commentString:t}},n,r,s){if(r&&s)r=r.replace(/^\n+/,"");if(r){const s=o.indentComment(t(r),e);n.push(s.trimStart())}}t.stringifyCollection=stringifyCollection},5182:(e,t)=>{"use strict";const stringifyComment=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(e,t){if(/^\n+$/.test(e))return e.substring(1);return t?e.replace(/^(?! *$)/gm,t):e}const lineComment=(e,t,n)=>e.endsWith("\n")?indentComment(n,t):n.includes("\n")?"\n"+indentComment(n,t):(e.endsWith(" ")?"":" ")+n;t.indentComment=indentComment;t.lineComment=lineComment;t.stringifyComment=stringifyComment},5225:(e,t,n)=>{"use strict";var r=n(1399);var s=n(8409);var i=n(5182);function stringifyDocument(e,t){const n=[];let o=t.directives===true;if(t.directives!==false&&e.directives){const t=e.directives.toString(e);if(t){n.push(t);o=true}else if(e.directives.docStart)o=true}if(o)n.push("---");const a=s.createStringifyContext(e,t);const{commentString:c}=a.options;if(e.commentBefore){if(n.length!==1)n.unshift("");const t=c(e.commentBefore);n.unshift(i.indentComment(t,""))}let l=false;let u=null;if(e.contents){if(r.isNode(e.contents)){if(e.contents.spaceBefore&&o)n.push("");if(e.contents.commentBefore){const t=c(e.contents.commentBefore);n.push(i.indentComment(t,""))}a.forceBlockIndent=!!e.comment;u=e.contents.comment}const t=u?undefined:()=>l=true;let f=s.stringify(e.contents,a,(()=>u=null),t);if(u)f+=i.lineComment(f,"",c(u));if((f[0]==="|"||f[0]===">")&&n[n.length-1]==="---"){n[n.length-1]=`--- ${f}`}else n.push(f)}else{n.push(s.stringify(e.contents,a))}if(e.directives?.docEnd){if(e.comment){const t=c(e.comment);if(t.includes("\n")){n.push("...");n.push(i.indentComment(t,""))}else{n.push(`... ${t}`)}}else{n.push("...")}}else{let t=e.comment;if(t&&l)t=t.replace(/^\n+/,"");if(t){if((!l||u)&&n[n.length-1]!=="")n.push("");n.push(i.indentComment(c(t),""))}}return n.join("\n")+"\n"}t.stringifyDocument=stringifyDocument},4174:(e,t)=>{"use strict";function stringifyNumber({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r==="bigint")return String(r);const s=typeof r==="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let e=i.indexOf(".");if(e<0){e=i.length;i+="."}let n=t-(i.length-e-1);while(n-- >0)i+="0"}return i}t.stringifyNumber=stringifyNumber},4875:(e,t,n)=>{"use strict";var r=n(1399);var s=n(9338);var i=n(8409);var o=n(5182);function stringifyPair({key:e,value:t},n,a,c){const{allNullValues:l,doc:u,indent:f,indentStep:h,options:{commentString:p,indentSeq:d,simpleKeys:m}}=n;let g=r.isNode(e)&&e.comment||null;if(m){if(g){throw new Error("With simple keys, key nodes cannot have comments")}if(r.isCollection(e)){const e="With simple keys, collection cannot be used as a key value";throw new Error(e)}}let y=!m&&(!e||g&&t==null&&!n.inFlow||r.isCollection(e)||(r.isScalar(e)?e.type===s.Scalar.BLOCK_FOLDED||e.type===s.Scalar.BLOCK_LITERAL:typeof e==="object"));n=Object.assign({},n,{allNullValues:false,implicitKey:!y&&(m||!l),indent:f+h});let v=false;let b=false;let w=i.stringify(e,n,(()=>v=true),(()=>b=true));if(!y&&!n.inFlow&&w.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=true}if(n.inFlow){if(l||t==null){if(v&&a)a();return w===""?"?":y?`? ${w}`:w}}else if(l&&!m||t==null&&y){w=`? ${w}`;if(g&&!v){w+=o.lineComment(w,n.indent,p(g))}else if(b&&c)c();return w}if(v)g=null;if(y){if(g)w+=o.lineComment(w,n.indent,p(g));w=`? ${w}\n${f}:`}else{w=`${w}:`;if(g)w+=o.lineComment(w,n.indent,p(g))}let k="";let _=null;if(r.isNode(t)){if(t.spaceBefore)k="\n";if(t.commentBefore){const e=p(t.commentBefore);k+=`\n${o.indentComment(e,n.indent)}`}_=t.comment}else if(t&&typeof t==="object"){t=u.createNode(t)}n.implicitKey=false;if(!y&&!g&&r.isScalar(t))n.indentAtStart=w.length+1;b=false;if(!d&&h.length>=2&&!n.inFlow&&!y&&r.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor){n.indent=n.indent.substr(2)}let C=false;const S=i.stringify(t,n,(()=>C=true),(()=>b=true));let O=" ";if(k||g){if(S===""&&!n.inFlow)O=k==="\n"?"\n\n":k;else O=`${k}\n${n.indent}`}else if(!y&&r.isCollection(t)){const e=S[0]==="["||S[0]==="{";if(!e||S.includes("\n"))O=`\n${n.indent}`}else if(S===""||S[0]==="\n")O="";w+=O+S;if(n.inFlow){if(C&&a)a()}else if(_&&!C){w+=o.lineComment(w,n.indent,p(_))}else if(b&&c){c()}return w}t.stringifyPair=stringifyPair},6226:(e,t,n)=>{"use strict";var r=n(9338);var s=n(2889);const getFoldOptions=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth});const containsDocumentMarker=e=>/^(%|---|\.\.\.)/m.test(e);function lineLengthOverLimit(e,t,n){if(!t||t<0)return false;const r=t-n;const s=e.length;if(s<=r)return false;for(let t=0,n=0;t<s;++t){if(e[t]==="\n"){if(t-n>r)return true;n=t+1;if(s-n<=r)return false}}return true}function doubleQuotedString(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t;const i=t.options.doubleQuotedMinMultiLineLength;const o=t.indent||(containsDocumentMarker(e)?"  ":"");let a="";let c=0;for(let e=0,t=n[e];t;t=n[++e]){if(t===" "&&n[e+1]==="\\"&&n[e+2]==="n"){a+=n.slice(c,e)+"\\ ";e+=1;c=e;t="\\"}if(t==="\\")switch(n[e+1]){case"u":{a+=n.slice(c,e);const t=n.substr(e+2,4);switch(t){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:if(t.substr(0,2)==="00")a+="\\x"+t.substr(2);else a+=n.substr(e,6)}e+=5;c=e+1}break;case"n":if(r||n[e+2]==='"'||n.length<i){e+=1}else{a+=n.slice(c,e)+"\n\n";while(n[e+2]==="\\"&&n[e+3]==="n"&&n[e+4]!=='"'){a+="\n";e+=2}a+=o;if(n[e+2]===" ")a+="\\";e+=1;c=e+1}break;default:e+=1}}a=c?a+n.slice(c):n;return r?a:s.foldFlowLines(a,o,s.FOLD_QUOTED,getFoldOptions(t))}function singleQuotedString(e,t){if(t.options.singleQuote===false||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return doubleQuotedString(e,t);const n=t.indent||(containsDocumentMarker(e)?"  ":"");const r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?r:s.foldFlowLines(r,n,s.FOLD_FLOW,getFoldOptions(t))}function quotedString(e,t){const{singleQuote:n}=t.options;let r;if(n===false)r=doubleQuotedString;else{const t=e.includes('"');const s=e.includes("'");if(t&&!s)r=singleQuotedString;else if(s&&!t)r=doubleQuotedString;else r=n?singleQuotedString:doubleQuotedString}return r(e,t)}function blockString({comment:e,type:t,value:n},i,o,a){const{blockQuote:c,commentString:l,lineWidth:u}=i.options;if(!c||/\n[\t ]+$/.test(n)||/^\s*$/.test(n)){return quotedString(n,i)}const f=i.indent||(i.forceBlockIndent||containsDocumentMarker(n)?"  ":"");const h=c==="literal"?true:c==="folded"||t===r.Scalar.BLOCK_FOLDED?false:t===r.Scalar.BLOCK_LITERAL?true:!lineLengthOverLimit(n,u,f.length);if(!n)return h?"|\n":">\n";let p;let d;for(d=n.length;d>0;--d){const e=n[d-1];if(e!=="\n"&&e!=="\t"&&e!==" ")break}let m=n.substring(d);const g=m.indexOf("\n");if(g===-1){p="-"}else if(n===m||g!==m.length-1){p="+";if(a)a()}else{p=""}if(m){n=n.slice(0,-m.length);if(m[m.length-1]==="\n")m=m.slice(0,-1);m=m.replace(/\n+(?!\n|$)/g,`$&${f}`)}let y=false;let v;let b=-1;for(v=0;v<n.length;++v){const e=n[v];if(e===" ")y=true;else if(e==="\n")b=v;else break}let w=n.substring(0,b<v?b+1:v);if(w){n=n.substring(w.length);w=w.replace(/\n+/g,`$&${f}`)}const k=f?"2":"1";let _=(h?"|":">")+(y?k:"")+p;if(e){_+=" "+l(e.replace(/ ?[\r\n]+/g," "));if(o)o()}if(h){n=n.replace(/\n+/g,`$&${f}`);return`${_}\n${f}${w}${n}${m}`}n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`);const C=s.foldFlowLines(`${w}${n}${m}`,f,s.FOLD_BLOCK,getFoldOptions(i));return`${_}\n${f}${C}`}function plainString(e,t,n,i){const{type:o,value:a}=e;const{actualString:c,implicitKey:l,indent:u,inFlow:f}=t;if(l&&/[\n[\]{},]/.test(a)||f&&/[[\]{},]/.test(a)){return quotedString(a,t)}if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a)){return l||f||!a.includes("\n")?quotedString(a,t):blockString(e,t,n,i)}if(!l&&!f&&o!==r.Scalar.PLAIN&&a.includes("\n")){return blockString(e,t,n,i)}if(u===""&&containsDocumentMarker(a)){t.forceBlockIndent=true;return blockString(e,t,n,i)}const h=a.replace(/\n+/g,`$&\n${u}`);if(c){const test=e=>e.default&&e.tag!=="tag:yaml.org,2002:str"&&e.test?.test(h);const{compat:e,tags:n}=t.doc.schema;if(n.some(test)||e?.some(test))return quotedString(a,t)}return l?h:s.foldFlowLines(h,u,s.FOLD_FLOW,getFoldOptions(t))}function stringifyString(e,t,n,s){const{implicitKey:i,inFlow:o}=t;const a=typeof e.value==="string"?e:Object.assign({},e,{value:String(e.value)});let{type:c}=e;if(c!==r.Scalar.QUOTE_DOUBLE){if(/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value))c=r.Scalar.QUOTE_DOUBLE}const _stringify=e=>{switch(e){case r.Scalar.BLOCK_FOLDED:case r.Scalar.BLOCK_LITERAL:return i||o?quotedString(a.value,t):blockString(a,t,n,s);case r.Scalar.QUOTE_DOUBLE:return doubleQuotedString(a.value,t);case r.Scalar.QUOTE_SINGLE:return singleQuotedString(a.value,t);case r.Scalar.PLAIN:return plainString(a,t,n,s);default:return null}};let l=_stringify(c);if(l===null){const{defaultKeyType:e,defaultStringType:n}=t.options;const r=i&&e||n;l=_stringify(r);if(l===null)throw new Error(`Unsupported default string type ${r}`)}return l}t.stringifyString=stringifyString},6796:(e,t,n)=>{"use strict";var r=n(1399);const s=Symbol("break visit");const i=Symbol("skip children");const o=Symbol("remove node");function visit(e,t){const n=initVisitor(t);if(r.isDocument(e)){const t=visit_(null,e.contents,n,Object.freeze([e]));if(t===o)e.contents=null}else visit_(null,e,n,Object.freeze([]))}visit.BREAK=s;visit.SKIP=i;visit.REMOVE=o;function visit_(e,t,n,i){const a=callVisitor(e,t,n,i);if(r.isNode(a)||r.isPair(a)){replaceNode(e,i,a);return visit_(e,a,n,i)}if(typeof a!=="symbol"){if(r.isCollection(t)){i=Object.freeze(i.concat(t));for(let e=0;e<t.items.length;++e){const r=visit_(e,t.items[e],n,i);if(typeof r==="number")e=r-1;else if(r===s)return s;else if(r===o){t.items.splice(e,1);e-=1}}}else if(r.isPair(t)){i=Object.freeze(i.concat(t));const e=visit_("key",t.key,n,i);if(e===s)return s;else if(e===o)t.key=null;const r=visit_("value",t.value,n,i);if(r===s)return s;else if(r===o)t.value=null}}return a}async function visitAsync(e,t){const n=initVisitor(t);if(r.isDocument(e)){const t=await visitAsync_(null,e.contents,n,Object.freeze([e]));if(t===o)e.contents=null}else await visitAsync_(null,e,n,Object.freeze([]))}visitAsync.BREAK=s;visitAsync.SKIP=i;visitAsync.REMOVE=o;async function visitAsync_(e,t,n,i){const a=await callVisitor(e,t,n,i);if(r.isNode(a)||r.isPair(a)){replaceNode(e,i,a);return visitAsync_(e,a,n,i)}if(typeof a!=="symbol"){if(r.isCollection(t)){i=Object.freeze(i.concat(t));for(let e=0;e<t.items.length;++e){const r=await visitAsync_(e,t.items[e],n,i);if(typeof r==="number")e=r-1;else if(r===s)return s;else if(r===o){t.items.splice(e,1);e-=1}}}else if(r.isPair(t)){i=Object.freeze(i.concat(t));const e=await visitAsync_("key",t.key,n,i);if(e===s)return s;else if(e===o)t.key=null;const r=await visitAsync_("value",t.value,n,i);if(r===s)return s;else if(r===o)t.value=null}}return a}function initVisitor(e){if(typeof e==="object"&&(e.Collection||e.Node||e.Value)){return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e)}return e}function callVisitor(e,t,n,s){if(typeof n==="function")return n(e,t,s);if(r.isMap(t))return n.Map?.(e,t,s);if(r.isSeq(t))return n.Seq?.(e,t,s);if(r.isPair(t))return n.Pair?.(e,t,s);if(r.isScalar(t))return n.Scalar?.(e,t,s);if(r.isAlias(t))return n.Alias?.(e,t,s);return undefined}function replaceNode(e,t,n){const s=t[t.length-1];if(r.isCollection(s)){s.items[e]=n}else if(r.isPair(s)){if(e==="key")s.key=n;else s.value=n}else if(r.isDocument(s)){s.contents=n}else{const e=r.isAlias(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}}t.visit=visit;t.visitAsync=visitAsync}};var t={};function __nccwpck_require__(n){var r=t[n];if(r!==undefined){return r.exports}var s=t[n]={exports:{}};var i=true;try{e[n].call(s.exports,s,s.exports,__nccwpck_require__);i=false}finally{if(i)delete t[n]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var n=__nccwpck_require__(5810);module.exports=n})();